(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();function Jg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zh={exports:{}},Ui={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function mS(){if(Ub)return Ui;Ub=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(n,o,i){var l=null;if(i!==void 0&&(l=""+i),o.key!==void 0&&(l=""+o.key),"key"in o){i={};for(var d in o)d!=="key"&&(i[d]=o[d])}else i=o;return o=i.ref,{$$typeof:t,type:n,key:l,ref:o!==void 0?o:null,props:i}}return Ui.Fragment=e,Ui.jsx=s,Ui.jsxs=s,Ui}var kb;function ep(){return kb||(kb=1,Zh.exports=mS()),Zh.exports}var r=ep(),Jh={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function gS(){if(Db)return Me;Db=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,B={};function C(U,L,F){this.props=U,this.context=L,this.refs=B,this.updater=F||b}C.prototype.isReactComponent={},C.prototype.setState=function(U,L){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,L,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=C.prototype;function S(U,L,F){this.props=U,this.context=L,this.refs=B,this.updater=F||b}var D=S.prototype=new j;D.constructor=S,w(D,C.prototype),D.isPureReactComponent=!0;var N=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function T(U,L,F,R,O,$){return F=$.ref,{$$typeof:t,type:U,key:L,ref:F!==void 0?F:null,props:$}}function _(U,L){return T(U.type,L,void 0,void 0,void 0,U.props)}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function Z(U){var L={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(F){return L[F]})}var P=/\/+/g;function H(U,L){return typeof U=="object"&&U!==null&&U.key!=null?Z(""+U.key):L.toString(36)}function W(){}function ne(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(W,W):(U.status="pending",U.then(function(L){U.status==="pending"&&(U.status="fulfilled",U.value=L)},function(L){U.status==="pending"&&(U.status="rejected",U.reason=L)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ie(U,L,F,R,O){var $=typeof U;($==="undefined"||$==="boolean")&&(U=null);var re=!1;if(U===null)re=!0;else switch($){case"bigint":case"string":case"number":re=!0;break;case"object":switch(U.$$typeof){case t:case e:re=!0;break;case m:return re=U._init,ie(re(U._payload),L,F,R,O)}}if(re)return O=O(U),re=R===""?"."+H(U,0):R,N(O)?(F="",re!=null&&(F=re.replace(P,"$&/")+"/"),ie(O,L,F,"",function(X){return X})):O!=null&&(M(O)&&(O=_(O,F+(O.key==null||U&&U.key===O.key?"":(""+O.key).replace(P,"$&/")+"/")+re)),L.push(O)),1;re=0;var he=R===""?".":R+":";if(N(U))for(var V=0;V<U.length;V++)R=U[V],$=he+H(R,V),re+=ie(R,L,F,$,O);else if(V=v(U),typeof V=="function")for(U=V.call(U),V=0;!(R=U.next()).done;)R=R.value,$=he+H(R,V++),re+=ie(R,L,F,$,O);else if($==="object"){if(typeof U.then=="function")return ie(ne(U),L,F,R,O);throw L=String(U),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return re}function K(U,L,F){if(U==null)return U;var R=[],O=0;return ie(U,R,"","",function($){return L.call(F,$,O++)}),R}function J(U){if(U._status===-1){var L=U._result;L=L(),L.then(function(F){(U._status===0||U._status===-1)&&(U._status=1,U._result=F)},function(F){(U._status===0||U._status===-1)&&(U._status=2,U._result=F)}),U._status===-1&&(U._status=0,U._result=L)}if(U._status===1)return U._result.default;throw U._result}var z=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function oe(){}return Me.Children={map:K,forEach:function(U,L,F){K(U,function(){L.apply(this,arguments)},F)},count:function(U){var L=0;return K(U,function(){L++}),L},toArray:function(U){return K(U,function(L){return L})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Me.Component=C,Me.Fragment=s,Me.Profiler=o,Me.PureComponent=S,Me.StrictMode=n,Me.Suspense=u,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Me.__COMPILER_RUNTIME={__proto__:null,c:function(U){return E.H.useMemoCache(U)}},Me.cache=function(U){return function(){return U.apply(null,arguments)}},Me.cloneElement=function(U,L,F){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var R=w({},U.props),O=U.key,$=void 0;if(L!=null)for(re in L.ref!==void 0&&($=void 0),L.key!==void 0&&(O=""+L.key),L)!k.call(L,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&L.ref===void 0||(R[re]=L[re]);var re=arguments.length-2;if(re===1)R.children=F;else if(1<re){for(var he=Array(re),V=0;V<re;V++)he[V]=arguments[V+2];R.children=he}return T(U.type,O,void 0,void 0,$,R)},Me.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},Me.createElement=function(U,L,F){var R,O={},$=null;if(L!=null)for(R in L.key!==void 0&&($=""+L.key),L)k.call(L,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(O[R]=L[R]);var re=arguments.length-2;if(re===1)O.children=F;else if(1<re){for(var he=Array(re),V=0;V<re;V++)he[V]=arguments[V+2];O.children=he}if(U&&U.defaultProps)for(R in re=U.defaultProps,re)O[R]===void 0&&(O[R]=re[R]);return T(U,$,void 0,void 0,null,O)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(U){return{$$typeof:d,render:U}},Me.isValidElement=M,Me.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:J}},Me.memo=function(U,L){return{$$typeof:h,type:U,compare:L===void 0?null:L}},Me.startTransition=function(U){var L=E.T,F={};E.T=F;try{var R=U(),O=E.S;O!==null&&O(F,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(oe,z)}catch($){z($)}finally{E.T=L}},Me.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Me.use=function(U){return E.H.use(U)},Me.useActionState=function(U,L,F){return E.H.useActionState(U,L,F)},Me.useCallback=function(U,L){return E.H.useCallback(U,L)},Me.useContext=function(U){return E.H.useContext(U)},Me.useDebugValue=function(){},Me.useDeferredValue=function(U,L){return E.H.useDeferredValue(U,L)},Me.useEffect=function(U,L,F){var R=E.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return R.useEffect(U,L)},Me.useId=function(){return E.H.useId()},Me.useImperativeHandle=function(U,L,F){return E.H.useImperativeHandle(U,L,F)},Me.useInsertionEffect=function(U,L){return E.H.useInsertionEffect(U,L)},Me.useLayoutEffect=function(U,L){return E.H.useLayoutEffect(U,L)},Me.useMemo=function(U,L){return E.H.useMemo(U,L)},Me.useOptimistic=function(U,L){return E.H.useOptimistic(U,L)},Me.useReducer=function(U,L,F){return E.H.useReducer(U,L,F)},Me.useRef=function(U){return E.H.useRef(U)},Me.useState=function(U){return E.H.useState(U)},Me.useSyncExternalStore=function(U,L,F){return E.H.useSyncExternalStore(U,L,F)},Me.useTransition=function(){return E.H.useTransition()},Me.version="19.1.0",Me}var Ib;function Lr(){return Ib||(Ib=1,Jh.exports=gS()),Jh.exports}var x=Lr();const Yt=Jg(x);var em={exports:{}},ki={},tm={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function pS(){return Rb||(Rb=1,(function(t){function e(K,J){var z=K.length;K.push(J);e:for(;0<z;){var oe=z-1>>>1,U=K[oe];if(0<o(U,J))K[oe]=J,K[z]=U,z=oe;else break e}}function s(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var J=K[0],z=K.pop();if(z!==J){K[0]=z;e:for(var oe=0,U=K.length,L=U>>>1;oe<L;){var F=2*(oe+1)-1,R=K[F],O=F+1,$=K[O];if(0>o(R,z))O<U&&0>o($,R)?(K[oe]=$,K[O]=z,oe=O):(K[oe]=R,K[F]=z,oe=F);else if(O<U&&0>o($,z))K[oe]=$,K[O]=z,oe=O;else break e}}return J}function o(K,J){var z=K.sortIndex-J.sortIndex;return z!==0?z:K.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var u=[],h=[],m=1,p=null,v=3,b=!1,w=!1,B=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function N(K){for(var J=s(h);J!==null;){if(J.callback===null)n(h);else if(J.startTime<=K)n(h),J.sortIndex=J.expirationTime,e(u,J);else break;J=s(h)}}function E(K){if(B=!1,N(K),!w)if(s(u)!==null)w=!0,k||(k=!0,H());else{var J=s(h);J!==null&&ie(E,J.startTime-K)}}var k=!1,T=-1,_=5,M=-1;function Z(){return C?!0:!(t.unstable_now()-M<_)}function P(){if(C=!1,k){var K=t.unstable_now();M=K;var J=!0;try{e:{w=!1,B&&(B=!1,S(T),T=-1),b=!0;var z=v;try{t:{for(N(K),p=s(u);p!==null&&!(p.expirationTime>K&&Z());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,v=p.priorityLevel;var U=oe(p.expirationTime<=K);if(K=t.unstable_now(),typeof U=="function"){p.callback=U,N(K),J=!0;break t}p===s(u)&&n(u),N(K)}else n(u);p=s(u)}if(p!==null)J=!0;else{var L=s(h);L!==null&&ie(E,L.startTime-K),J=!1}}break e}finally{p=null,v=z,b=!1}J=void 0}}finally{J?H():k=!1}}}var H;if(typeof D=="function")H=function(){D(P)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ne=W.port2;W.port1.onmessage=P,H=function(){ne.postMessage(null)}}else H=function(){j(P,0)};function ie(K,J){T=j(function(){K(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var z=v;v=J;try{return K()}finally{v=z}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var z=v;v=K;try{return J()}finally{v=z}},t.unstable_scheduleCallback=function(K,J,z){var oe=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?oe+z:oe):z=oe,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,K={id:m++,callback:J,priorityLevel:K,startTime:z,expirationTime:U,sortIndex:-1},z>oe?(K.sortIndex=z,e(h,K),s(u)===null&&K===s(h)&&(B?(S(T),T=-1):B=!0,ie(E,z-oe))):(K.sortIndex=U,e(u,K),w||b||(w=!0,k||(k=!0,H()))),K},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(K){var J=v;return function(){var z=v;v=J;try{return K.apply(this,arguments)}finally{v=z}}}})(sm)),sm}var Tb;function xS(){return Tb||(Tb=1,tm.exports=pS()),tm.exports}var rm={exports:{}},ks={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function vS(){if(Mb)return ks;Mb=1;var t=Lr();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function i(u,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:u,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ks.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ks.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(u,h,null,m)},ks.flushSync=function(u){var h=l.T,m=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=h,n.p=m,n.d.f()}},ks.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},ks.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},ks.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,p=d(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):m==="script"&&n.d.X(u,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ks.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=d(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},ks.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=d(m,h.crossOrigin);n.d.L(u,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ks.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=d(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},ks.requestFormReset=function(u){n.d.r(u)},ks.unstable_batchedUpdates=function(u,h){return u(h)},ks.useFormState=function(u,h,m){return l.H.useFormState(u,h,m)},ks.useFormStatus=function(){return l.H.useHostTransitionStatus()},ks.version="19.1.0",ks}var Hb;function tp(){if(Hb)return rm.exports;Hb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rm.exports=vS(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function yS(){if(Lb)return ki;Lb=1;var t=xS(),e=Lr(),s=tp();function n(a){var A="https://react.dev/errors/"+a;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)A+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var A=a,c=a;if(a.alternate)for(;A.return;)A=A.return;else{a=A;do A=a,(A.flags&4098)!==0&&(c=A.return),a=A.return;while(a)}return A.tag===3?c:null}function l(a){if(a.tag===13){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function d(a){if(i(a)!==a)throw Error(n(188))}function u(a){var A=a.alternate;if(!A){if(A=i(a),A===null)throw Error(n(188));return A!==a?null:a}for(var c=a,f=A;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return d(g),a;if(y===f)return d(g),A;y=y.sibling}throw Error(n(188))}if(c.return!==f.return)c=g,f=y;else{for(var Q=!1,I=g.child;I;){if(I===c){Q=!0,c=g,f=y;break}if(I===f){Q=!0,f=g,c=y;break}I=I.sibling}if(!Q){for(I=y.child;I;){if(I===c){Q=!0,c=y,f=g;break}if(I===f){Q=!0,f=y,c=g;break}I=I.sibling}if(!Q)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:A}function h(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a;for(a=a.child;a!==null;){if(A=h(a),A!==null)return A;a=a.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var W=Symbol.for("react.client.reference");function ne(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===W?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case C:return"Profiler";case B:return"StrictMode";case E:return"Suspense";case k:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case D:return(a.displayName||"Context")+".Provider";case S:return(a._context.displayName||"Context")+".Consumer";case N:var A=a.render;return a=a.displayName,a||(a=A.displayName||A.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case T:return A=a.displayName||null,A!==null?A:ne(a.type)||"Memo";case _:A=a._payload,a=a._init;try{return ne(a(A))}catch{}}return null}var ie=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},oe=[],U=-1;function L(a){return{current:a}}function F(a){0>U||(a.current=oe[U],oe[U]=null,U--)}function R(a,A){U++,oe[U]=a.current,a.current=A}var O=L(null),$=L(null),re=L(null),he=L(null);function V(a,A){switch(R(re,A),R($,a),R(O,null),A.nodeType){case 9:case 11:a=(a=A.documentElement)&&(a=a.namespaceURI)?ab(a):0;break;default:if(a=A.tagName,A=A.namespaceURI)A=ab(A),a=ob(A,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}F(O),R(O,a)}function X(){F(O),F($),F(re)}function G(a){a.memoizedState!==null&&R(he,a);var A=O.current,c=ob(A,a.type);A!==c&&(R($,a),R(O,c))}function q(a){$.current===a&&(F(O),F($)),he.current===a&&(F(he),Ni._currentValue=z)}var ce=Object.prototype.hasOwnProperty,pe=t.unstable_scheduleCallback,Ne=t.unstable_cancelCallback,at=t.unstable_shouldYield,Nt=t.unstable_requestPaint,ke=t.unstable_now,Ie=t.unstable_getCurrentPriorityLevel,Rt=t.unstable_ImmediatePriority,hs=t.unstable_UserBlockingPriority,Es=t.unstable_NormalPriority,rn=t.unstable_LowPriority,Pn=t.unstable_IdlePriority,ht=t.log,Ms=t.unstable_setDisableYieldValue,Hs=null,qe=null;function Tt(a){if(typeof ht=="function"&&Ms(a),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Hs,a)}catch{}}var Mt=Math.clz32?Math.clz32:Co,Bo=Math.log,Ar=Math.LN2;function Co(a){return a>>>=0,a===0?32:31-(Bo(a)/Ar|0)|0}var nn=256,Kn=4194304;function xe(a){var A=a&42;if(A!==0)return A;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ve(a,A,c){var f=a.pendingLanes;if(f===0)return 0;var g=0,y=a.suspendedLanes,Q=a.pingedLanes;a=a.warmLanes;var I=f&134217727;return I!==0?(f=I&~y,f!==0?g=xe(f):(Q&=I,Q!==0?g=xe(Q):c||(c=I&~a,c!==0&&(g=xe(c))))):(I=f&~y,I!==0?g=xe(I):Q!==0?g=xe(Q):c||(c=f&~a,c!==0&&(g=xe(c)))),g===0?0:A!==0&&A!==g&&(A&y)===0&&(y=g&-g,c=A&-A,y>=c||y===32&&(c&4194048)!==0)?A:g}function De(a,A){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&A)===0}function Ke(a,A){switch(a){case 1:case 2:case 4:case 8:case 64:return A+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var a=nn;return nn<<=1,(nn&4194048)===0&&(nn=256),a}function yt(){var a=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),a}function Ht(a){for(var A=[],c=0;31>c;c++)A.push(a);return A}function st(a,A){a.pendingLanes|=A,A!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Lt(a,A,c,f,g,y){var Q=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var I=a.entanglements,Y=a.expirationTimes,Ae=a.hiddenUpdates;for(c=Q&~c;0<c;){var ue=31-Mt(c),ge=1<<ue;I[ue]=0,Y[ue]=-1;var le=Ae[ue];if(le!==null)for(Ae[ue]=null,ue=0;ue<le.length;ue++){var de=le[ue];de!==null&&(de.lane&=-536870913)}c&=~ge}f!==0&&Xe(a,f,0),y!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=y&~(Q&~A))}function Xe(a,A,c){a.pendingLanes|=A,a.suspendedLanes&=~A;var f=31-Mt(A);a.entangledLanes|=A,a.entanglements[f]=a.entanglements[f]|1073741824|c&4194090}function Le(a,A){var c=a.entangledLanes|=A;for(a=a.entanglements;c;){var f=31-Mt(c),g=1<<f;g&A|a[f]&A&&(a[f]|=A),c&=~g}}function rt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Re(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ze(){var a=J.p;return a!==0?a:(a=window.event,a===void 0?32:jb(a.type))}function Kt(a,A){var c=J.p;try{return J.p=a,A()}finally{J.p=c}}var Te=Math.random().toString(36).slice(2),Je="__reactFiber$"+Te,$e="__reactProps$"+Te,bt="__reactContainer$"+Te,Wt="__reactEvents$"+Te,Fs="__reactListeners$"+Te,Ft="__reactHandles$"+Te,Pr="__reactResources$"+Te,an="__reactMarker$"+Te;function zu(a){delete a[Je],delete a[$e],delete a[Wt],delete a[Fs],delete a[Ft]}function jo(a){var A=a[Je];if(A)return A;for(var c=a.parentNode;c;){if(A=c[bt]||c[Je]){if(c=A.alternate,A.child!==null||c!==null&&c.child!==null)for(a=cb(a);a!==null;){if(c=a[Je])return c;a=cb(a)}return A}a=c,c=a.parentNode}return null}function No(a){if(a=a[Je]||a[bt]){var A=a.tag;if(A===5||A===6||A===13||A===26||A===27||A===3)return a}return null}function HA(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a.stateNode;throw Error(n(33))}function So(a){var A=a[Pr];return A||(A=a[Pr]={hoistableStyles:new Map,hoistableScripts:new Map}),A}function ms(a){a[an]=!0}var Xp=new Set,$p={};function Ha(a,A){Qo(a,A),Qo(a+"Capture",A)}function Qo(a,A){for($p[a]=A,a=0;a<A.length;a++)Xp.add(A[a])}var A2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wp={},qp={};function i2(a){return ce.call(qp,a)?!0:ce.call(Wp,a)?!1:A2.test(a)?qp[a]=!0:(Wp[a]=!0,!1)}function Ll(a,A,c){if(i2(A))if(c===null)a.removeAttribute(A);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(A);return;case"boolean":var f=A.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(A);return}}a.setAttribute(A,""+c)}}function _l(a,A,c){if(c===null)a.removeAttribute(A);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(A);return}a.setAttribute(A,""+c)}}function on(a,A,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(A,c,""+f)}}var Vu,Zp;function Eo(a){if(Vu===void 0)try{throw Error()}catch(c){var A=c.stack.trim().match(/\n( *(at )?)/);Vu=A&&A[1]||"",Zp=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vu+a+Zp}var Gu=!1;function Yu(a,A){if(!a||Gu)return"";Gu=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(A){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(de){var le=de}Reflect.construct(a,[],ge)}else{try{ge.call()}catch(de){le=de}a.call(ge.prototype)}}else{try{throw Error()}catch(de){le=de}(ge=a())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(de){if(de&&le&&typeof de.stack=="string")return[de.stack,le.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),Q=y[0],I=y[1];if(Q&&I){var Y=Q.split(`
`),Ae=I.split(`
`);for(g=f=0;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;for(;g<Ae.length&&!Ae[g].includes("DetermineComponentFrameRoot");)g++;if(f===Y.length||g===Ae.length)for(f=Y.length-1,g=Ae.length-1;1<=f&&0<=g&&Y[f]!==Ae[g];)g--;for(;1<=f&&0<=g;f--,g--)if(Y[f]!==Ae[g]){if(f!==1||g!==1)do if(f--,g--,0>g||Y[f]!==Ae[g]){var ue=`
`+Y[f].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=f&&0<=g);break}}}finally{Gu=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Eo(c):""}function l2(a){switch(a.tag){case 26:case 27:case 5:return Eo(a.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 15:return Yu(a.type,!1);case 11:return Yu(a.type.render,!1);case 1:return Yu(a.type,!0);case 31:return Eo("Activity");default:return""}}function Jp(a){try{var A="";do A+=l2(a),a=a.return;while(a);return A}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function ir(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ex(a){var A=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(A==="checkbox"||A==="radio")}function c2(a){var A=ex(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,A),f=""+a[A];if(!a.hasOwnProperty(A)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(a,A,{configurable:!0,get:function(){return g.call(this)},set:function(Q){f=""+Q,y.call(this,Q)}}),Object.defineProperty(a,A,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(Q){f=""+Q},stopTracking:function(){a._valueTracker=null,delete a[A]}}}}function Ol(a){a._valueTracker||(a._valueTracker=c2(a))}function tx(a){if(!a)return!1;var A=a._valueTracker;if(!A)return!0;var c=A.getValue(),f="";return a&&(f=ex(a)?a.checked?"true":"false":a.value),a=f,a!==c?(A.setValue(a),!0):!1}function Pl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var d2=/[\n"\\]/g;function lr(a){return a.replace(d2,function(A){return"\\"+A.charCodeAt(0).toString(16)+" "})}function Xu(a,A,c,f,g,y,Q,I){a.name="",Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?a.type=Q:a.removeAttribute("type"),A!=null?Q==="number"?(A===0&&a.value===""||a.value!=A)&&(a.value=""+ir(A)):a.value!==""+ir(A)&&(a.value=""+ir(A)):Q!=="submit"&&Q!=="reset"||a.removeAttribute("value"),A!=null?$u(a,Q,ir(A)):c!=null?$u(a,Q,ir(c)):f!=null&&a.removeAttribute("value"),g==null&&y!=null&&(a.defaultChecked=!!y),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.name=""+ir(I):a.removeAttribute("name")}function sx(a,A,c,f,g,y,Q,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),A!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||A!=null))return;c=c!=null?""+ir(c):"",A=A!=null?""+ir(A):c,I||A===a.value||(a.value=A),a.defaultValue=A}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=I?a.checked:!!f,a.defaultChecked=!!f,Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(a.name=Q)}function $u(a,A,c){A==="number"&&Pl(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Fo(a,A,c,f){if(a=a.options,A){A={};for(var g=0;g<c.length;g++)A["$"+c[g]]=!0;for(c=0;c<a.length;c++)g=A.hasOwnProperty("$"+a[c].value),a[c].selected!==g&&(a[c].selected=g),g&&f&&(a[c].defaultSelected=!0)}else{for(c=""+ir(c),A=null,g=0;g<a.length;g++){if(a[g].value===c){a[g].selected=!0,f&&(a[g].defaultSelected=!0);return}A!==null||a[g].disabled||(A=a[g])}A!==null&&(A.selected=!0)}}function rx(a,A,c){if(A!=null&&(A=""+ir(A),A!==a.value&&(a.value=A),c==null)){a.defaultValue!==A&&(a.defaultValue=A);return}a.defaultValue=c!=null?""+ir(c):""}function nx(a,A,c,f){if(A==null){if(f!=null){if(c!=null)throw Error(n(92));if(ie(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),A=c}c=ir(A),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f)}function Uo(a,A){if(A){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=A;return}}a.textContent=A}var u2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ax(a,A,c){var f=A.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(A,""):A==="float"?a.cssFloat="":a[A]="":f?a.setProperty(A,c):typeof c!="number"||c===0||u2.has(A)?A==="float"?a.cssFloat=c:a[A]=(""+c).trim():a[A]=c+"px"}function ox(a,A,c){if(A!=null&&typeof A!="object")throw Error(n(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||A!=null&&A.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var g in A)f=A[g],A.hasOwnProperty(g)&&c[g]!==f&&ax(a,g,f)}else for(var y in A)A.hasOwnProperty(y)&&ax(a,y,A[y])}function Wu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),h2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kl(a){return h2.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var qu=null;function Zu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ko=null,Do=null;function Ax(a){var A=No(a);if(A&&(a=A.stateNode)){var c=a[$e]||null;e:switch(a=A.stateNode,A.type){case"input":if(Xu(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),A=c.name,c.type==="radio"&&A!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+lr(""+A)+'"][type="radio"]'),A=0;A<c.length;A++){var f=c[A];if(f!==a&&f.form===a.form){var g=f[$e]||null;if(!g)throw Error(n(90));Xu(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(A=0;A<c.length;A++)f=c[A],f.form===a.form&&tx(f)}break e;case"textarea":rx(a,c.value,c.defaultValue);break e;case"select":A=c.value,A!=null&&Fo(a,!!c.multiple,A,!1)}}}var Ju=!1;function ix(a,A,c){if(Ju)return a(A,c);Ju=!0;try{var f=a(A);return f}finally{if(Ju=!1,(ko!==null||Do!==null)&&(Qc(),ko&&(A=ko,a=Do,Do=ko=null,Ax(A),a)))for(A=0;A<a.length;A++)Ax(a[A])}}function LA(a,A){var c=a.stateNode;if(c===null)return null;var f=c[$e]||null;if(f===null)return null;c=f[A];e:switch(A){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,A,typeof c));return c}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ef=!1;if(An)try{var _A={};Object.defineProperty(_A,"passive",{get:function(){ef=!0}}),window.addEventListener("test",_A,_A),window.removeEventListener("test",_A,_A)}catch{ef=!1}var zn=null,tf=null,zl=null;function lx(){if(zl)return zl;var a,A=tf,c=A.length,f,g="value"in zn?zn.value:zn.textContent,y=g.length;for(a=0;a<c&&A[a]===g[a];a++);var Q=c-a;for(f=1;f<=Q&&A[c-f]===g[y-f];f++);return zl=g.slice(a,1<f?1-f:void 0)}function Vl(a){var A=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&A===13&&(a=13)):a=A,a===10&&(a=13),32<=a||a===13?a:0}function Gl(){return!0}function cx(){return!1}function Os(a){function A(c,f,g,y,Q){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=Q,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(c=a[I],this[I]=c?c(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Gl:cx,this.isPropagationStopped=cx,this}return m(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),A}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=Os(La),OA=m({},La,{view:0,detail:0}),m2=Os(OA),sf,rf,PA,Xl=m({},OA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:af,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==PA&&(PA&&a.type==="mousemove"?(sf=a.screenX-PA.screenX,rf=a.screenY-PA.screenY):rf=sf=0,PA=a),sf)},movementY:function(a){return"movementY"in a?a.movementY:rf}}),dx=Os(Xl),g2=m({},Xl,{dataTransfer:0}),p2=Os(g2),x2=m({},OA,{relatedTarget:0}),nf=Os(x2),v2=m({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),y2=Os(v2),b2=m({},La,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),w2=Os(b2),B2=m({},La,{data:0}),ux=Os(B2),C2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S2(a){var A=this.nativeEvent;return A.getModifierState?A.getModifierState(a):(a=N2[a])?!!A[a]:!1}function af(){return S2}var Q2=m({},OA,{key:function(a){if(a.key){var A=C2[a.key]||a.key;if(A!=="Unidentified")return A}return a.type==="keypress"?(a=Vl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?j2[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:af,charCode:function(a){return a.type==="keypress"?Vl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Vl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),E2=Os(Q2),F2=m({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fx=Os(F2),U2=m({},OA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:af}),k2=Os(U2),D2=m({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=Os(D2),R2=m({},Xl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),T2=Os(R2),M2=m({},La,{newState:0,oldState:0}),H2=Os(M2),L2=[9,13,27,32],of=An&&"CompositionEvent"in window,KA=null;An&&"documentMode"in document&&(KA=document.documentMode);var _2=An&&"TextEvent"in window&&!KA,hx=An&&(!of||KA&&8<KA&&11>=KA),mx=" ",gx=!1;function px(a,A){switch(a){case"keyup":return L2.indexOf(A.keyCode)!==-1;case"keydown":return A.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Io=!1;function O2(a,A){switch(a){case"compositionend":return xx(A);case"keypress":return A.which!==32?null:(gx=!0,mx);case"textInput":return a=A.data,a===mx&&gx?null:a;default:return null}}function P2(a,A){if(Io)return a==="compositionend"||!of&&px(a,A)?(a=lx(),zl=tf=zn=null,Io=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(A.ctrlKey||A.altKey||A.metaKey)||A.ctrlKey&&A.altKey){if(A.char&&1<A.char.length)return A.char;if(A.which)return String.fromCharCode(A.which)}return null;case"compositionend":return hx&&A.locale!=="ko"?null:A.data;default:return null}}var K2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vx(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A==="input"?!!K2[a.type]:A==="textarea"}function yx(a,A,c,f){ko?Do?Do.push(f):Do=[f]:ko=f,A=Ic(A,"onChange"),0<A.length&&(c=new Yl("onChange","change",null,c,f),a.push({event:c,listeners:A}))}var zA=null,VA=null;function z2(a){eb(a,0)}function $l(a){var A=HA(a);if(tx(A))return a}function bx(a,A){if(a==="change")return A}var wx=!1;if(An){var Af;if(An){var lf="oninput"in document;if(!lf){var Bx=document.createElement("div");Bx.setAttribute("oninput","return;"),lf=typeof Bx.oninput=="function"}Af=lf}else Af=!1;wx=Af&&(!document.documentMode||9<document.documentMode)}function Cx(){zA&&(zA.detachEvent("onpropertychange",jx),VA=zA=null)}function jx(a){if(a.propertyName==="value"&&$l(VA)){var A=[];yx(A,VA,a,Zu(a)),ix(z2,A)}}function V2(a,A,c){a==="focusin"?(Cx(),zA=A,VA=c,zA.attachEvent("onpropertychange",jx)):a==="focusout"&&Cx()}function G2(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return $l(VA)}function Y2(a,A){if(a==="click")return $l(A)}function X2(a,A){if(a==="input"||a==="change")return $l(A)}function $2(a,A){return a===A&&(a!==0||1/a===1/A)||a!==a&&A!==A}var Zs=typeof Object.is=="function"?Object.is:$2;function GA(a,A){if(Zs(a,A))return!0;if(typeof a!="object"||a===null||typeof A!="object"||A===null)return!1;var c=Object.keys(a),f=Object.keys(A);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!ce.call(A,g)||!Zs(a[g],A[g]))return!1}return!0}function Nx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Sx(a,A){var c=Nx(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=A&&f>=A)return{node:c,offset:A-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Nx(c)}}function Qx(a,A){return a&&A?a===A?!0:a&&a.nodeType===3?!1:A&&A.nodeType===3?Qx(a,A.parentNode):"contains"in a?a.contains(A):a.compareDocumentPosition?!!(a.compareDocumentPosition(A)&16):!1:!1}function Ex(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var A=Pl(a.document);A instanceof a.HTMLIFrameElement;){try{var c=typeof A.contentWindow.location.href=="string"}catch{c=!1}if(c)a=A.contentWindow;else break;A=Pl(a.document)}return A}function cf(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A&&(A==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||A==="textarea"||a.contentEditable==="true")}var W2=An&&"documentMode"in document&&11>=document.documentMode,Ro=null,df=null,YA=null,uf=!1;function Fx(a,A,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;uf||Ro==null||Ro!==Pl(f)||(f=Ro,"selectionStart"in f&&cf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),YA&&GA(YA,f)||(YA=f,f=Ic(df,"onSelect"),0<f.length&&(A=new Yl("onSelect","select",null,A,c),a.push({event:A,listeners:f}),A.target=Ro)))}function _a(a,A){var c={};return c[a.toLowerCase()]=A.toLowerCase(),c["Webkit"+a]="webkit"+A,c["Moz"+a]="moz"+A,c}var To={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},ff={},Ux={};An&&(Ux=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Oa(a){if(ff[a])return ff[a];if(!To[a])return a;var A=To[a],c;for(c in A)if(A.hasOwnProperty(c)&&c in Ux)return ff[a]=A[c];return a}var kx=Oa("animationend"),Dx=Oa("animationiteration"),Ix=Oa("animationstart"),q2=Oa("transitionrun"),Z2=Oa("transitionstart"),J2=Oa("transitioncancel"),Rx=Oa("transitionend"),Tx=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function Ur(a,A){Tx.set(a,A),Ha(A,[a])}var Mx=new WeakMap;function cr(a,A){if(typeof a=="object"&&a!==null){var c=Mx.get(a);return c!==void 0?c:(A={value:a,source:A,stack:Jp(A)},Mx.set(a,A),A)}return{value:a,source:A,stack:Jp(A)}}var dr=[],Mo=0,mf=0;function Wl(){for(var a=Mo,A=mf=Mo=0;A<a;){var c=dr[A];dr[A++]=null;var f=dr[A];dr[A++]=null;var g=dr[A];dr[A++]=null;var y=dr[A];if(dr[A++]=null,f!==null&&g!==null){var Q=f.pending;Q===null?g.next=g:(g.next=Q.next,Q.next=g),f.pending=g}y!==0&&Hx(c,g,y)}}function ql(a,A,c,f){dr[Mo++]=a,dr[Mo++]=A,dr[Mo++]=c,dr[Mo++]=f,mf|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function gf(a,A,c,f){return ql(a,A,c,f),Zl(a)}function Ho(a,A){return ql(a,null,null,A),Zl(a)}function Hx(a,A,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var g=!1,y=a.return;y!==null;)y.childLanes|=c,f=y.alternate,f!==null&&(f.childLanes|=c),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(g=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,g&&A!==null&&(g=31-Mt(c),a=y.hiddenUpdates,f=a[g],f===null?a[g]=[A]:f.push(A),A.lane=c|536870912),y):null}function Zl(a){if(50<xi)throw xi=0,wh=null,Error(n(185));for(var A=a.return;A!==null;)a=A,A=a.return;return a.tag===3?a.stateNode:null}var Lo={};function eN(a,A,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=A,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(a,A,c,f){return new eN(a,A,c,f)}function pf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ln(a,A){var c=a.alternate;return c===null?(c=Js(a.tag,A,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=A,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,A=a.dependencies,c.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Lx(a,A){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=A,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,A=c.dependencies,a.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),a}function Jl(a,A,c,f,g,y){var Q=0;if(f=a,typeof a=="function")pf(a)&&(Q=1);else if(typeof a=="string")Q=sS(a,c,O.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=Js(31,c,A,g),a.elementType=M,a.lanes=y,a;case w:return Pa(c.children,g,y,A);case B:Q=8,g|=24;break;case C:return a=Js(12,c,A,g|2),a.elementType=C,a.lanes=y,a;case E:return a=Js(13,c,A,g),a.elementType=E,a.lanes=y,a;case k:return a=Js(19,c,A,g),a.elementType=k,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j:case D:Q=10;break e;case S:Q=9;break e;case N:Q=11;break e;case T:Q=14;break e;case _:Q=16,f=null;break e}Q=29,c=Error(n(130,a===null?"null":typeof a,"")),f=null}return A=Js(Q,c,A,g),A.elementType=a,A.type=f,A.lanes=y,A}function Pa(a,A,c,f){return a=Js(7,a,f,A),a.lanes=c,a}function xf(a,A,c){return a=Js(6,a,null,A),a.lanes=c,a}function vf(a,A,c){return A=Js(4,a.children!==null?a.children:[],a.key,A),A.lanes=c,A.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},A}var _o=[],Oo=0,ec=null,tc=0,ur=[],fr=0,Ka=null,cn=1,dn="";function za(a,A){_o[Oo++]=tc,_o[Oo++]=ec,ec=a,tc=A}function _x(a,A,c){ur[fr++]=cn,ur[fr++]=dn,ur[fr++]=Ka,Ka=a;var f=cn;a=dn;var g=32-Mt(f)-1;f&=~(1<<g),c+=1;var y=32-Mt(A)+g;if(30<y){var Q=g-g%5;y=(f&(1<<Q)-1).toString(32),f>>=Q,g-=Q,cn=1<<32-Mt(A)+g|c<<g|f,dn=y+a}else cn=1<<y|c<<g|f,dn=a}function yf(a){a.return!==null&&(za(a,1),_x(a,1,0))}function bf(a){for(;a===ec;)ec=_o[--Oo],_o[Oo]=null,tc=_o[--Oo],_o[Oo]=null;for(;a===Ka;)Ka=ur[--fr],ur[fr]=null,dn=ur[--fr],ur[fr]=null,cn=ur[--fr],ur[fr]=null}var Ls=null,zt=null,ot=!1,Va=null,Kr=!1,wf=Error(n(519));function Ga(a){var A=Error(n(418,""));throw WA(cr(A,a)),wf}function Ox(a){var A=a.stateNode,c=a.type,f=a.memoizedProps;switch(A[Je]=a,A[$e]=f,c){case"dialog":Ge("cancel",A),Ge("close",A);break;case"iframe":case"object":case"embed":Ge("load",A);break;case"video":case"audio":for(c=0;c<yi.length;c++)Ge(yi[c],A);break;case"source":Ge("error",A);break;case"img":case"image":case"link":Ge("error",A),Ge("load",A);break;case"details":Ge("toggle",A);break;case"input":Ge("invalid",A),sx(A,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ol(A);break;case"select":Ge("invalid",A);break;case"textarea":Ge("invalid",A),nx(A,f.value,f.defaultValue,f.children),Ol(A)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||A.textContent===""+c||f.suppressHydrationWarning===!0||nb(A.textContent,c)?(f.popover!=null&&(Ge("beforetoggle",A),Ge("toggle",A)),f.onScroll!=null&&Ge("scroll",A),f.onScrollEnd!=null&&Ge("scrollend",A),f.onClick!=null&&(A.onclick=Rc),A=!0):A=!1,A||Ga(a)}function Px(a){for(Ls=a.return;Ls;)switch(Ls.tag){case 5:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:Ls=Ls.return}}function XA(a){if(a!==Ls)return!1;if(!ot)return Px(a),ot=!0,!1;var A=a.tag,c;if((c=A!==3&&A!==27)&&((c=A===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Hh(a.type,a.memoizedProps)),c=!c),c&&zt&&Ga(a),Px(a),A===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,A=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(A===0){zt=Dr(a.nextSibling);break e}A--}else c!=="$"&&c!=="$!"&&c!=="$?"||A++;a=a.nextSibling}zt=null}}else A===27?(A=zt,oa(a.type)?(a=Ph,Ph=null,zt=a):zt=A):zt=Ls?Dr(a.stateNode.nextSibling):null;return!0}function $A(){zt=Ls=null,ot=!1}function Kx(){var a=Va;return a!==null&&(zs===null?zs=a:zs.push.apply(zs,a),Va=null),a}function WA(a){Va===null?Va=[a]:Va.push(a)}var Bf=L(null),Ya=null,un=null;function Vn(a,A,c){R(Bf,A._currentValue),A._currentValue=c}function fn(a){a._currentValue=Bf.current,F(Bf)}function Cf(a,A,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&A)!==A?(a.childLanes|=A,f!==null&&(f.childLanes|=A)):f!==null&&(f.childLanes&A)!==A&&(f.childLanes|=A),a===c)break;a=a.return}}function jf(a,A,c,f){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var y=g.dependencies;if(y!==null){var Q=g.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=g;for(var Y=0;Y<A.length;Y++)if(I.context===A[Y]){y.lanes|=c,I=y.alternate,I!==null&&(I.lanes|=c),Cf(y.return,c,a),f||(Q=null);break e}y=I.next}}else if(g.tag===18){if(Q=g.return,Q===null)throw Error(n(341));Q.lanes|=c,y=Q.alternate,y!==null&&(y.lanes|=c),Cf(Q,c,a),Q=null}else Q=g.child;if(Q!==null)Q.return=g;else for(Q=g;Q!==null;){if(Q===a){Q=null;break}if(g=Q.sibling,g!==null){g.return=Q.return,Q=g;break}Q=Q.return}g=Q}}function qA(a,A,c,f){a=null;for(var g=A,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var Q=g.alternate;if(Q===null)throw Error(n(387));if(Q=Q.memoizedProps,Q!==null){var I=g.type;Zs(g.pendingProps.value,Q.value)||(a!==null?a.push(I):a=[I])}}else if(g===he.current){if(Q=g.alternate,Q===null)throw Error(n(387));Q.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(Ni):a=[Ni])}g=g.return}a!==null&&jf(A,a,c,f),A.flags|=262144}function sc(a){for(a=a.firstContext;a!==null;){if(!Zs(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Xa(a){Ya=a,un=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Us(a){return zx(Ya,a)}function rc(a,A){return Ya===null&&Xa(a),zx(a,A)}function zx(a,A){var c=A._currentValue;if(A={context:A,memoizedValue:c,next:null},un===null){if(a===null)throw Error(n(308));un=A,a.dependencies={lanes:0,firstContext:A},a.flags|=524288}else un=un.next=A;return c}var tN=typeof AbortController<"u"?AbortController:function(){var a=[],A=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){A.aborted=!0,a.forEach(function(c){return c()})}},sN=t.unstable_scheduleCallback,rN=t.unstable_NormalPriority,os={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new tN,data:new Map,refCount:0}}function ZA(a){a.refCount--,a.refCount===0&&sN(rN,function(){a.controller.abort()})}var JA=null,Sf=0,Po=0,Ko=null;function nN(a,A){if(JA===null){var c=JA=[];Sf=0,Po=Eh(),Ko={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Sf++,A.then(Vx,Vx),A}function Vx(){if(--Sf===0&&JA!==null){Ko!==null&&(Ko.status="fulfilled");var a=JA;JA=null,Po=0,Ko=null;for(var A=0;A<a.length;A++)(0,a[A])()}}function aN(a,A){var c=[],f={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return a.then(function(){f.status="fulfilled",f.value=A;for(var g=0;g<c.length;g++)(0,c[g])(A)},function(g){for(f.status="rejected",f.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),f}var Gx=K.S;K.S=function(a,A){typeof A=="object"&&A!==null&&typeof A.then=="function"&&nN(a,A),Gx!==null&&Gx(a,A)};var $a=L(null);function Qf(){var a=$a.current;return a!==null?a:St.pooledCache}function nc(a,A){A===null?R($a,$a.current):R($a,A.pool)}function Yx(){var a=Qf();return a===null?null:{parent:os._currentValue,pool:a}}var ei=Error(n(460)),Xx=Error(n(474)),ac=Error(n(542)),Ef={then:function(){}};function $x(a){return a=a.status,a==="fulfilled"||a==="rejected"}function oc(){}function Wx(a,A,c){switch(c=a[c],c===void 0?a.push(A):c!==A&&(A.then(oc,oc),A=c),A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,Zx(a),a;default:if(typeof A.status=="string")A.then(oc,oc);else{if(a=St,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=A,a.status="pending",a.then(function(f){if(A.status==="pending"){var g=A;g.status="fulfilled",g.value=f}},function(f){if(A.status==="pending"){var g=A;g.status="rejected",g.reason=f}})}switch(A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,Zx(a),a}throw ti=A,ei}}var ti=null;function qx(){if(ti===null)throw Error(n(459));var a=ti;return ti=null,a}function Zx(a){if(a===ei||a===ac)throw Error(n(483))}var Gn=!1;function Ff(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(a,A){a=a.updateQueue,A.updateQueue===a&&(A.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Yn(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Xn(a,A,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(dt&2)!==0){var g=f.pending;return g===null?A.next=A:(A.next=g.next,g.next=A),f.pending=A,A=Zl(a),Hx(a,null,c),A}return ql(a,f,A,c),Zl(a)}function si(a,A,c){if(A=A.updateQueue,A!==null&&(A=A.shared,(c&4194048)!==0)){var f=A.lanes;f&=a.pendingLanes,c|=f,A.lanes=c,Le(a,c)}}function kf(a,A){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var Q={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=Q:y=y.next=Q,c=c.next}while(c!==null);y===null?g=y=A:y=y.next=A}else g=y=A;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=A:a.next=A,c.lastBaseUpdate=A}var Df=!1;function ri(){if(Df){var a=Ko;if(a!==null)throw a}}function ni(a,A,c,f){Df=!1;var g=a.updateQueue;Gn=!1;var y=g.firstBaseUpdate,Q=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var Y=I,Ae=Y.next;Y.next=null,Q===null?y=Ae:Q.next=Ae,Q=Y;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,I=ue.lastBaseUpdate,I!==Q&&(I===null?ue.firstBaseUpdate=Ae:I.next=Ae,ue.lastBaseUpdate=Y))}if(y!==null){var ge=g.baseState;Q=0,ue=Ae=Y=null,I=y;do{var le=I.lane&-536870913,de=le!==I.lane;if(de?(We&le)===le:(f&le)===le){le!==0&&le===Po&&(Df=!0),ue!==null&&(ue=ue.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ue=a,Qe=I;le=A;var pt=c;switch(Qe.tag){case 1:if(Ue=Qe.payload,typeof Ue=="function"){ge=Ue.call(pt,ge,le);break e}ge=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Qe.payload,le=typeof Ue=="function"?Ue.call(pt,ge,le):Ue,le==null)break e;ge=m({},ge,le);break e;case 2:Gn=!0}}le=I.callback,le!==null&&(a.flags|=64,de&&(a.flags|=8192),de=g.callbacks,de===null?g.callbacks=[le]:de.push(le))}else de={lane:le,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ue===null?(Ae=ue=de,Y=ge):ue=ue.next=de,Q|=le;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;de=I,I=de.next,de.next=null,g.lastBaseUpdate=de,g.shared.pending=null}}while(!0);ue===null&&(Y=ge),g.baseState=Y,g.firstBaseUpdate=Ae,g.lastBaseUpdate=ue,y===null&&(g.shared.lanes=0),sa|=Q,a.lanes=Q,a.memoizedState=ge}}function Jx(a,A){if(typeof a!="function")throw Error(n(191,a));a.call(A)}function ev(a,A){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Jx(c[a],A)}var zo=L(null),Ac=L(0);function tv(a,A){a=yn,R(Ac,a),R(zo,A),yn=a|A.baseLanes}function If(){R(Ac,yn),R(zo,zo.current)}function Rf(){yn=Ac.current,F(zo),F(Ac)}var $n=0,_e=null,mt=null,ss=null,ic=!1,Vo=!1,Wa=!1,lc=0,ai=0,Go=null,oN=0;function qt(){throw Error(n(321))}function Tf(a,A){if(A===null)return!1;for(var c=0;c<A.length&&c<a.length;c++)if(!Zs(a[c],A[c]))return!1;return!0}function Mf(a,A,c,f,g,y){return $n=y,_e=A,A.memoizedState=null,A.updateQueue=null,A.lanes=0,K.H=a===null||a.memoizedState===null?Hv:Lv,Wa=!1,y=c(f,g),Wa=!1,Vo&&(y=rv(A,c,f,g)),sv(a),y}function sv(a){K.H=mc;var A=mt!==null&&mt.next!==null;if($n=0,ss=mt=_e=null,ic=!1,ai=0,Go=null,A)throw Error(n(300));a===null||gs||(a=a.dependencies,a!==null&&sc(a)&&(gs=!0))}function rv(a,A,c,f){_e=a;var g=0;do{if(Vo&&(Go=null),ai=0,Vo=!1,25<=g)throw Error(n(301));if(g+=1,ss=mt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=fN,y=A(c,f)}while(Vo);return y}function AN(){var a=K.H,A=a.useState()[0];return A=typeof A.then=="function"?oi(A):A,a=a.useState()[0],(mt!==null?mt.memoizedState:null)!==a&&(_e.flags|=1024),A}function Hf(){var a=lc!==0;return lc=0,a}function Lf(a,A,c){A.updateQueue=a.updateQueue,A.flags&=-2053,a.lanes&=~c}function _f(a){if(ic){for(a=a.memoizedState;a!==null;){var A=a.queue;A!==null&&(A.pending=null),a=a.next}ic=!1}$n=0,ss=mt=_e=null,Vo=!1,ai=lc=0,Go=null}function Ps(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ss===null?_e.memoizedState=ss=a:ss=ss.next=a,ss}function rs(){if(mt===null){var a=_e.alternate;a=a!==null?a.memoizedState:null}else a=mt.next;var A=ss===null?_e.memoizedState:ss.next;if(A!==null)ss=A,mt=a;else{if(a===null)throw _e.alternate===null?Error(n(467)):Error(n(310));mt=a,a={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},ss===null?_e.memoizedState=ss=a:ss=ss.next=a}return ss}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oi(a){var A=ai;return ai+=1,Go===null&&(Go=[]),a=Wx(Go,a,A),A=_e,(ss===null?A.memoizedState:ss.next)===null&&(A=A.alternate,K.H=A===null||A.memoizedState===null?Hv:Lv),a}function cc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return oi(a);if(a.$$typeof===D)return Us(a)}throw Error(n(438,String(a)))}function Pf(a){var A=null,c=_e.updateQueue;if(c!==null&&(A=c.memoCache),A==null){var f=_e.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(A={data:f.data.map(function(g){return g.slice()}),index:0})))}if(A==null&&(A={data:[],index:0}),c===null&&(c=Of(),_e.updateQueue=c),c.memoCache=A,c=A.data[A.index],c===void 0)for(c=A.data[A.index]=Array(a),f=0;f<a;f++)c[f]=Z;return A.index++,c}function hn(a,A){return typeof A=="function"?A(a):A}function dc(a){var A=rs();return Kf(A,mt,a)}function Kf(a,A,c){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=c;var g=a.baseQueue,y=f.pending;if(y!==null){if(g!==null){var Q=g.next;g.next=y.next,y.next=Q}A.baseQueue=g=y,f.pending=null}if(y=a.baseState,g===null)a.memoizedState=y;else{A=g.next;var I=Q=null,Y=null,Ae=A,ue=!1;do{var ge=Ae.lane&-536870913;if(ge!==Ae.lane?(We&ge)===ge:($n&ge)===ge){var le=Ae.revertLane;if(le===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),ge===Po&&(ue=!0);else if(($n&le)===le){Ae=Ae.next,le===Po&&(ue=!0);continue}else ge={lane:0,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},Y===null?(I=Y=ge,Q=y):Y=Y.next=ge,_e.lanes|=le,sa|=le;ge=Ae.action,Wa&&c(y,ge),y=Ae.hasEagerState?Ae.eagerState:c(y,ge)}else le={lane:ge,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},Y===null?(I=Y=le,Q=y):Y=Y.next=le,_e.lanes|=ge,sa|=ge;Ae=Ae.next}while(Ae!==null&&Ae!==A);if(Y===null?Q=y:Y.next=I,!Zs(y,a.memoizedState)&&(gs=!0,ue&&(c=Ko,c!==null)))throw c;a.memoizedState=y,a.baseState=Q,a.baseQueue=Y,f.lastRenderedState=y}return g===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function zf(a){var A=rs(),c=A.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var f=c.dispatch,g=c.pending,y=A.memoizedState;if(g!==null){c.pending=null;var Q=g=g.next;do y=a(y,Q.action),Q=Q.next;while(Q!==g);Zs(y,A.memoizedState)||(gs=!0),A.memoizedState=y,A.baseQueue===null&&(A.baseState=y),c.lastRenderedState=y}return[y,f]}function nv(a,A,c){var f=_e,g=rs(),y=ot;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=A();var Q=!Zs((mt||g).memoizedState,c);Q&&(g.memoizedState=c,gs=!0),g=g.queue;var I=Av.bind(null,f,g,a);if(Ai(2048,8,I,[a]),g.getSnapshot!==A||Q||ss!==null&&ss.memoizedState.tag&1){if(f.flags|=2048,Yo(9,uc(),ov.bind(null,f,g,c,A),null),St===null)throw Error(n(349));y||($n&124)!==0||av(f,A,c)}return c}function av(a,A,c){a.flags|=16384,a={getSnapshot:A,value:c},A=_e.updateQueue,A===null?(A=Of(),_e.updateQueue=A,A.stores=[a]):(c=A.stores,c===null?A.stores=[a]:c.push(a))}function ov(a,A,c,f){A.value=c,A.getSnapshot=f,iv(A)&&lv(a)}function Av(a,A,c){return c(function(){iv(A)&&lv(a)})}function iv(a){var A=a.getSnapshot;a=a.value;try{var c=A();return!Zs(a,c)}catch{return!0}}function lv(a){var A=Ho(a,2);A!==null&&nr(A,a,2)}function Vf(a){var A=Ps();if(typeof a=="function"){var c=a;if(a=c(),Wa){Tt(!0);try{c()}finally{Tt(!1)}}}return A.memoizedState=A.baseState=a,A.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:a},A}function cv(a,A,c,f){return a.baseState=c,Kf(a,mt,typeof f=="function"?f:hn)}function iN(a,A,c,f,g){if(hc(a))throw Error(n(485));if(a=A.action,a!==null){var y={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Q){y.listeners.push(Q)}};K.T!==null?c(!0):y.isTransition=!1,f(y),c=A.pending,c===null?(y.next=A.pending=y,dv(A,y)):(y.next=c.next,A.pending=c.next=y)}}function dv(a,A){var c=A.action,f=A.payload,g=a.state;if(A.isTransition){var y=K.T,Q={};K.T=Q;try{var I=c(g,f),Y=K.S;Y!==null&&Y(Q,I),uv(a,A,I)}catch(Ae){Gf(a,A,Ae)}finally{K.T=y}}else try{y=c(g,f),uv(a,A,y)}catch(Ae){Gf(a,A,Ae)}}function uv(a,A,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){fv(a,A,f)},function(f){return Gf(a,A,f)}):fv(a,A,c)}function fv(a,A,c){A.status="fulfilled",A.value=c,hv(A),a.state=c,A=a.pending,A!==null&&(c=A.next,c===A?a.pending=null:(c=c.next,A.next=c,dv(a,c)))}function Gf(a,A,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do A.status="rejected",A.reason=c,hv(A),A=A.next;while(A!==f)}a.action=null}function hv(a){a=a.listeners;for(var A=0;A<a.length;A++)(0,a[A])()}function mv(a,A){return A}function gv(a,A){if(ot){var c=St.formState;if(c!==null){e:{var f=_e;if(ot){if(zt){t:{for(var g=zt,y=Kr;g.nodeType!==8;){if(!y){g=null;break t}if(g=Dr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){zt=Dr(g.nextSibling),f=g.data==="F!";break e}}Ga(f)}f=!1}f&&(A=c[0])}}return c=Ps(),c.memoizedState=c.baseState=A,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:A},c.queue=f,c=Rv.bind(null,_e,f),f.dispatch=c,f=Vf(!1),y=qf.bind(null,_e,!1,f.queue),f=Ps(),g={state:A,dispatch:null,action:a,pending:null},f.queue=g,c=iN.bind(null,_e,g,y,c),g.dispatch=c,f.memoizedState=a,[A,c,!1]}function pv(a){var A=rs();return xv(A,mt,a)}function xv(a,A,c){if(A=Kf(a,A,mv)[0],a=dc(hn)[0],typeof A=="object"&&A!==null&&typeof A.then=="function")try{var f=oi(A)}catch(Q){throw Q===ei?ac:Q}else f=A;A=rs();var g=A.queue,y=g.dispatch;return c!==A.memoizedState&&(_e.flags|=2048,Yo(9,uc(),lN.bind(null,g,c),null)),[f,y,a]}function lN(a,A){a.action=A}function vv(a){var A=rs(),c=mt;if(c!==null)return xv(A,c,a);rs(),A=A.memoizedState,c=rs();var f=c.queue.dispatch;return c.memoizedState=a,[A,f,!1]}function Yo(a,A,c,f){return a={tag:a,create:c,deps:f,inst:A,next:null},A=_e.updateQueue,A===null&&(A=Of(),_e.updateQueue=A),c=A.lastEffect,c===null?A.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,A.lastEffect=a),a}function uc(){return{destroy:void 0,resource:void 0}}function yv(){return rs().memoizedState}function fc(a,A,c,f){var g=Ps();f=f===void 0?null:f,_e.flags|=a,g.memoizedState=Yo(1|A,uc(),c,f)}function Ai(a,A,c,f){var g=rs();f=f===void 0?null:f;var y=g.memoizedState.inst;mt!==null&&f!==null&&Tf(f,mt.memoizedState.deps)?g.memoizedState=Yo(A,y,c,f):(_e.flags|=a,g.memoizedState=Yo(1|A,y,c,f))}function bv(a,A){fc(8390656,8,a,A)}function wv(a,A){Ai(2048,8,a,A)}function Bv(a,A){return Ai(4,2,a,A)}function Cv(a,A){return Ai(4,4,a,A)}function jv(a,A){if(typeof A=="function"){a=a();var c=A(a);return function(){typeof c=="function"?c():A(null)}}if(A!=null)return a=a(),A.current=a,function(){A.current=null}}function Nv(a,A,c){c=c!=null?c.concat([a]):null,Ai(4,4,jv.bind(null,A,a),c)}function Yf(){}function Sv(a,A){var c=rs();A=A===void 0?null:A;var f=c.memoizedState;return A!==null&&Tf(A,f[1])?f[0]:(c.memoizedState=[a,A],a)}function Qv(a,A){var c=rs();A=A===void 0?null:A;var f=c.memoizedState;if(A!==null&&Tf(A,f[1]))return f[0];if(f=a(),Wa){Tt(!0);try{a()}finally{Tt(!1)}}return c.memoizedState=[f,A],f}function Xf(a,A,c){return c===void 0||($n&1073741824)!==0?a.memoizedState=A:(a.memoizedState=c,a=Uy(),_e.lanes|=a,sa|=a,c)}function Ev(a,A,c,f){return Zs(c,A)?c:zo.current!==null?(a=Xf(a,c,f),Zs(a,A)||(gs=!0),a):($n&42)===0?(gs=!0,a.memoizedState=c):(a=Uy(),_e.lanes|=a,sa|=a,A)}function Fv(a,A,c,f,g){var y=J.p;J.p=y!==0&&8>y?y:8;var Q=K.T,I={};K.T=I,qf(a,!1,A,c);try{var Y=g(),Ae=K.S;if(Ae!==null&&Ae(I,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ue=aN(Y,f);ii(a,A,ue,rr(a))}else ii(a,A,f,rr(a))}catch(ge){ii(a,A,{then:function(){},status:"rejected",reason:ge},rr())}finally{J.p=y,K.T=Q}}function cN(){}function $f(a,A,c,f){if(a.tag!==5)throw Error(n(476));var g=Uv(a).queue;Fv(a,g,A,z,c===null?cN:function(){return kv(a),c(f)})}function Uv(a){var A=a.memoizedState;if(A!==null)return A;A={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:z},next:null};var c={};return A.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:c},next:null},a.memoizedState=A,a=a.alternate,a!==null&&(a.memoizedState=A),A}function kv(a){var A=Uv(a).next.queue;ii(a,A,{},rr())}function Wf(){return Us(Ni)}function Dv(){return rs().memoizedState}function Iv(){return rs().memoizedState}function dN(a){for(var A=a.return;A!==null;){switch(A.tag){case 24:case 3:var c=rr();a=Yn(c);var f=Xn(A,a,c);f!==null&&(nr(f,A,c),si(f,A,c)),A={cache:Nf()},a.payload=A;return}A=A.return}}function uN(a,A,c){var f=rr();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},hc(a)?Tv(A,c):(c=gf(a,A,c,f),c!==null&&(nr(c,a,f),Mv(c,A,f)))}function Rv(a,A,c){var f=rr();ii(a,A,c,f)}function ii(a,A,c,f){var g={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(hc(a))Tv(A,g);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=A.lastRenderedReducer,y!==null))try{var Q=A.lastRenderedState,I=y(Q,c);if(g.hasEagerState=!0,g.eagerState=I,Zs(I,Q))return ql(a,A,g,0),St===null&&Wl(),!1}catch{}finally{}if(c=gf(a,A,g,f),c!==null)return nr(c,a,f),Mv(c,A,f),!0}return!1}function qf(a,A,c,f){if(f={lane:2,revertLane:Eh(),action:f,hasEagerState:!1,eagerState:null,next:null},hc(a)){if(A)throw Error(n(479))}else A=gf(a,c,f,2),A!==null&&nr(A,a,2)}function hc(a){var A=a.alternate;return a===_e||A!==null&&A===_e}function Tv(a,A){Vo=ic=!0;var c=a.pending;c===null?A.next=A:(A.next=c.next,c.next=A),a.pending=A}function Mv(a,A,c){if((c&4194048)!==0){var f=A.lanes;f&=a.pendingLanes,c|=f,A.lanes=c,Le(a,c)}}var mc={readContext:Us,use:cc,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},Hv={readContext:Us,use:cc,useCallback:function(a,A){return Ps().memoizedState=[a,A===void 0?null:A],a},useContext:Us,useEffect:bv,useImperativeHandle:function(a,A,c){c=c!=null?c.concat([a]):null,fc(4194308,4,jv.bind(null,A,a),c)},useLayoutEffect:function(a,A){return fc(4194308,4,a,A)},useInsertionEffect:function(a,A){fc(4,2,a,A)},useMemo:function(a,A){var c=Ps();A=A===void 0?null:A;var f=a();if(Wa){Tt(!0);try{a()}finally{Tt(!1)}}return c.memoizedState=[f,A],f},useReducer:function(a,A,c){var f=Ps();if(c!==void 0){var g=c(A);if(Wa){Tt(!0);try{c(A)}finally{Tt(!1)}}}else g=A;return f.memoizedState=f.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},f.queue=a,a=a.dispatch=uN.bind(null,_e,a),[f.memoizedState,a]},useRef:function(a){var A=Ps();return a={current:a},A.memoizedState=a},useState:function(a){a=Vf(a);var A=a.queue,c=Rv.bind(null,_e,A);return A.dispatch=c,[a.memoizedState,c]},useDebugValue:Yf,useDeferredValue:function(a,A){var c=Ps();return Xf(c,a,A)},useTransition:function(){var a=Vf(!1);return a=Fv.bind(null,_e,a.queue,!0,!1),Ps().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,A,c){var f=_e,g=Ps();if(ot){if(c===void 0)throw Error(n(407));c=c()}else{if(c=A(),St===null)throw Error(n(349));(We&124)!==0||av(f,A,c)}g.memoizedState=c;var y={value:c,getSnapshot:A};return g.queue=y,bv(Av.bind(null,f,y,a),[a]),f.flags|=2048,Yo(9,uc(),ov.bind(null,f,y,c,A),null),c},useId:function(){var a=Ps(),A=St.identifierPrefix;if(ot){var c=dn,f=cn;c=(f&~(1<<32-Mt(f)-1)).toString(32)+c,A="«"+A+"R"+c,c=lc++,0<c&&(A+="H"+c.toString(32)),A+="»"}else c=oN++,A="«"+A+"r"+c.toString(32)+"»";return a.memoizedState=A},useHostTransitionStatus:Wf,useFormState:gv,useActionState:gv,useOptimistic:function(a){var A=Ps();A.memoizedState=A.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return A.queue=c,A=qf.bind(null,_e,!0,c),c.dispatch=A,[a,A]},useMemoCache:Pf,useCacheRefresh:function(){return Ps().memoizedState=dN.bind(null,_e)}},Lv={readContext:Us,use:cc,useCallback:Sv,useContext:Us,useEffect:wv,useImperativeHandle:Nv,useInsertionEffect:Bv,useLayoutEffect:Cv,useMemo:Qv,useReducer:dc,useRef:yv,useState:function(){return dc(hn)},useDebugValue:Yf,useDeferredValue:function(a,A){var c=rs();return Ev(c,mt.memoizedState,a,A)},useTransition:function(){var a=dc(hn)[0],A=rs().memoizedState;return[typeof a=="boolean"?a:oi(a),A]},useSyncExternalStore:nv,useId:Dv,useHostTransitionStatus:Wf,useFormState:pv,useActionState:pv,useOptimistic:function(a,A){var c=rs();return cv(c,mt,a,A)},useMemoCache:Pf,useCacheRefresh:Iv},fN={readContext:Us,use:cc,useCallback:Sv,useContext:Us,useEffect:wv,useImperativeHandle:Nv,useInsertionEffect:Bv,useLayoutEffect:Cv,useMemo:Qv,useReducer:zf,useRef:yv,useState:function(){return zf(hn)},useDebugValue:Yf,useDeferredValue:function(a,A){var c=rs();return mt===null?Xf(c,a,A):Ev(c,mt.memoizedState,a,A)},useTransition:function(){var a=zf(hn)[0],A=rs().memoizedState;return[typeof a=="boolean"?a:oi(a),A]},useSyncExternalStore:nv,useId:Dv,useHostTransitionStatus:Wf,useFormState:vv,useActionState:vv,useOptimistic:function(a,A){var c=rs();return mt!==null?cv(c,mt,a,A):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Pf,useCacheRefresh:Iv},Xo=null,li=0;function gc(a){var A=li;return li+=1,Xo===null&&(Xo=[]),Wx(Xo,a,A)}function ci(a,A){A=A.props.ref,a.ref=A!==void 0?A:null}function pc(a,A){throw A.$$typeof===p?Error(n(525)):(a=Object.prototype.toString.call(A),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":a)))}function _v(a){var A=a._init;return A(a._payload)}function Ov(a){function A(se,ee){if(a){var ae=se.deletions;ae===null?(se.deletions=[ee],se.flags|=16):ae.push(ee)}}function c(se,ee){if(!a)return null;for(;ee!==null;)A(se,ee),ee=ee.sibling;return null}function f(se){for(var ee=new Map;se!==null;)se.key!==null?ee.set(se.key,se):ee.set(se.index,se),se=se.sibling;return ee}function g(se,ee){return se=ln(se,ee),se.index=0,se.sibling=null,se}function y(se,ee,ae){return se.index=ae,a?(ae=se.alternate,ae!==null?(ae=ae.index,ae<ee?(se.flags|=67108866,ee):ae):(se.flags|=67108866,ee)):(se.flags|=1048576,ee)}function Q(se){return a&&se.alternate===null&&(se.flags|=67108866),se}function I(se,ee,ae,me){return ee===null||ee.tag!==6?(ee=xf(ae,se.mode,me),ee.return=se,ee):(ee=g(ee,ae),ee.return=se,ee)}function Y(se,ee,ae,me){var we=ae.type;return we===w?ue(se,ee,ae.props.children,me,ae.key):ee!==null&&(ee.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===_&&_v(we)===ee.type)?(ee=g(ee,ae.props),ci(ee,ae),ee.return=se,ee):(ee=Jl(ae.type,ae.key,ae.props,null,se.mode,me),ci(ee,ae),ee.return=se,ee)}function Ae(se,ee,ae,me){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=vf(ae,se.mode,me),ee.return=se,ee):(ee=g(ee,ae.children||[]),ee.return=se,ee)}function ue(se,ee,ae,me,we){return ee===null||ee.tag!==7?(ee=Pa(ae,se.mode,me,we),ee.return=se,ee):(ee=g(ee,ae),ee.return=se,ee)}function ge(se,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=xf(""+ee,se.mode,ae),ee.return=se,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return ae=Jl(ee.type,ee.key,ee.props,null,se.mode,ae),ci(ae,ee),ae.return=se,ae;case b:return ee=vf(ee,se.mode,ae),ee.return=se,ee;case _:var me=ee._init;return ee=me(ee._payload),ge(se,ee,ae)}if(ie(ee)||H(ee))return ee=Pa(ee,se.mode,ae,null),ee.return=se,ee;if(typeof ee.then=="function")return ge(se,gc(ee),ae);if(ee.$$typeof===D)return ge(se,rc(se,ee),ae);pc(se,ee)}return null}function le(se,ee,ae,me){var we=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return we!==null?null:I(se,ee,""+ae,me);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return ae.key===we?Y(se,ee,ae,me):null;case b:return ae.key===we?Ae(se,ee,ae,me):null;case _:return we=ae._init,ae=we(ae._payload),le(se,ee,ae,me)}if(ie(ae)||H(ae))return we!==null?null:ue(se,ee,ae,me,null);if(typeof ae.then=="function")return le(se,ee,gc(ae),me);if(ae.$$typeof===D)return le(se,ee,rc(se,ae),me);pc(se,ae)}return null}function de(se,ee,ae,me,we){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return se=se.get(ae)||null,I(ee,se,""+me,we);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case v:return se=se.get(me.key===null?ae:me.key)||null,Y(ee,se,me,we);case b:return se=se.get(me.key===null?ae:me.key)||null,Ae(ee,se,me,we);case _:var ze=me._init;return me=ze(me._payload),de(se,ee,ae,me,we)}if(ie(me)||H(me))return se=se.get(ae)||null,ue(ee,se,me,we,null);if(typeof me.then=="function")return de(se,ee,ae,gc(me),we);if(me.$$typeof===D)return de(se,ee,ae,rc(ee,me),we);pc(ee,me)}return null}function Ue(se,ee,ae,me){for(var we=null,ze=null,Se=ee,Ee=ee=0,xs=null;Se!==null&&Ee<ae.length;Ee++){Se.index>Ee?(xs=Se,Se=null):xs=Se.sibling;var nt=le(se,Se,ae[Ee],me);if(nt===null){Se===null&&(Se=xs);break}a&&Se&&nt.alternate===null&&A(se,Se),ee=y(nt,ee,Ee),ze===null?we=nt:ze.sibling=nt,ze=nt,Se=xs}if(Ee===ae.length)return c(se,Se),ot&&za(se,Ee),we;if(Se===null){for(;Ee<ae.length;Ee++)Se=ge(se,ae[Ee],me),Se!==null&&(ee=y(Se,ee,Ee),ze===null?we=Se:ze.sibling=Se,ze=Se);return ot&&za(se,Ee),we}for(Se=f(Se);Ee<ae.length;Ee++)xs=de(Se,se,Ee,ae[Ee],me),xs!==null&&(a&&xs.alternate!==null&&Se.delete(xs.key===null?Ee:xs.key),ee=y(xs,ee,Ee),ze===null?we=xs:ze.sibling=xs,ze=xs);return a&&Se.forEach(function(da){return A(se,da)}),ot&&za(se,Ee),we}function Qe(se,ee,ae,me){if(ae==null)throw Error(n(151));for(var we=null,ze=null,Se=ee,Ee=ee=0,xs=null,nt=ae.next();Se!==null&&!nt.done;Ee++,nt=ae.next()){Se.index>Ee?(xs=Se,Se=null):xs=Se.sibling;var da=le(se,Se,nt.value,me);if(da===null){Se===null&&(Se=xs);break}a&&Se&&da.alternate===null&&A(se,Se),ee=y(da,ee,Ee),ze===null?we=da:ze.sibling=da,ze=da,Se=xs}if(nt.done)return c(se,Se),ot&&za(se,Ee),we;if(Se===null){for(;!nt.done;Ee++,nt=ae.next())nt=ge(se,nt.value,me),nt!==null&&(ee=y(nt,ee,Ee),ze===null?we=nt:ze.sibling=nt,ze=nt);return ot&&za(se,Ee),we}for(Se=f(Se);!nt.done;Ee++,nt=ae.next())nt=de(Se,se,Ee,nt.value,me),nt!==null&&(a&&nt.alternate!==null&&Se.delete(nt.key===null?Ee:nt.key),ee=y(nt,ee,Ee),ze===null?we=nt:ze.sibling=nt,ze=nt);return a&&Se.forEach(function(hS){return A(se,hS)}),ot&&za(se,Ee),we}function pt(se,ee,ae,me){if(typeof ae=="object"&&ae!==null&&ae.type===w&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:e:{for(var we=ae.key;ee!==null;){if(ee.key===we){if(we=ae.type,we===w){if(ee.tag===7){c(se,ee.sibling),me=g(ee,ae.props.children),me.return=se,se=me;break e}}else if(ee.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===_&&_v(we)===ee.type){c(se,ee.sibling),me=g(ee,ae.props),ci(me,ae),me.return=se,se=me;break e}c(se,ee);break}else A(se,ee);ee=ee.sibling}ae.type===w?(me=Pa(ae.props.children,se.mode,me,ae.key),me.return=se,se=me):(me=Jl(ae.type,ae.key,ae.props,null,se.mode,me),ci(me,ae),me.return=se,se=me)}return Q(se);case b:e:{for(we=ae.key;ee!==null;){if(ee.key===we)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){c(se,ee.sibling),me=g(ee,ae.children||[]),me.return=se,se=me;break e}else{c(se,ee);break}else A(se,ee);ee=ee.sibling}me=vf(ae,se.mode,me),me.return=se,se=me}return Q(se);case _:return we=ae._init,ae=we(ae._payload),pt(se,ee,ae,me)}if(ie(ae))return Ue(se,ee,ae,me);if(H(ae)){if(we=H(ae),typeof we!="function")throw Error(n(150));return ae=we.call(ae),Qe(se,ee,ae,me)}if(typeof ae.then=="function")return pt(se,ee,gc(ae),me);if(ae.$$typeof===D)return pt(se,ee,rc(se,ae),me);pc(se,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,ee!==null&&ee.tag===6?(c(se,ee.sibling),me=g(ee,ae),me.return=se,se=me):(c(se,ee),me=xf(ae,se.mode,me),me.return=se,se=me),Q(se)):c(se,ee)}return function(se,ee,ae,me){try{li=0;var we=pt(se,ee,ae,me);return Xo=null,we}catch(Se){if(Se===ei||Se===ac)throw Se;var ze=Js(29,Se,null,se.mode);return ze.lanes=me,ze.return=se,ze}finally{}}}var $o=Ov(!0),Pv=Ov(!1),hr=L(null),zr=null;function Wn(a){var A=a.alternate;R(As,As.current&1),R(hr,a),zr===null&&(A===null||zo.current!==null||A.memoizedState!==null)&&(zr=a)}function Kv(a){if(a.tag===22){if(R(As,As.current),R(hr,a),zr===null){var A=a.alternate;A!==null&&A.memoizedState!==null&&(zr=a)}}else qn()}function qn(){R(As,As.current),R(hr,hr.current)}function mn(a){F(hr),zr===a&&(zr=null),F(As)}var As=L(0);function xc(a){for(var A=a;A!==null;){if(A.tag===13){var c=A.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Oh(c)))return A}else if(A.tag===19&&A.memoizedProps.revealOrder!==void 0){if((A.flags&128)!==0)return A}else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return null;A=A.return}A.sibling.return=A.return,A=A.sibling}return null}function Zf(a,A,c,f){A=a.memoizedState,c=c(f,A),c=c==null?A:m({},A,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Jf={enqueueSetState:function(a,A,c){a=a._reactInternals;var f=rr(),g=Yn(f);g.payload=A,c!=null&&(g.callback=c),A=Xn(a,g,f),A!==null&&(nr(A,a,f),si(A,a,f))},enqueueReplaceState:function(a,A,c){a=a._reactInternals;var f=rr(),g=Yn(f);g.tag=1,g.payload=A,c!=null&&(g.callback=c),A=Xn(a,g,f),A!==null&&(nr(A,a,f),si(A,a,f))},enqueueForceUpdate:function(a,A){a=a._reactInternals;var c=rr(),f=Yn(c);f.tag=2,A!=null&&(f.callback=A),A=Xn(a,f,c),A!==null&&(nr(A,a,c),si(A,a,c))}};function zv(a,A,c,f,g,y,Q){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,y,Q):A.prototype&&A.prototype.isPureReactComponent?!GA(c,f)||!GA(g,y):!0}function Vv(a,A,c,f){a=A.state,typeof A.componentWillReceiveProps=="function"&&A.componentWillReceiveProps(c,f),typeof A.UNSAFE_componentWillReceiveProps=="function"&&A.UNSAFE_componentWillReceiveProps(c,f),A.state!==a&&Jf.enqueueReplaceState(A,A.state,null)}function qa(a,A){var c=A;if("ref"in A){c={};for(var f in A)f!=="ref"&&(c[f]=A[f])}if(a=a.defaultProps){c===A&&(c=m({},c));for(var g in a)c[g]===void 0&&(c[g]=a[g])}return c}var vc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Gv(a){vc(a)}function Yv(a){console.error(a)}function Xv(a){vc(a)}function yc(a,A){try{var c=a.onUncaughtError;c(A.value,{componentStack:A.stack})}catch(f){setTimeout(function(){throw f})}}function $v(a,A,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:A.tag===1?A.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function eh(a,A,c){return c=Yn(c),c.tag=3,c.payload={element:null},c.callback=function(){yc(a,A)},c}function Wv(a){return a=Yn(a),a.tag=3,a}function qv(a,A,c,f){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=f.value;a.payload=function(){return g(y)},a.callback=function(){$v(A,c,f)}}var Q=c.stateNode;Q!==null&&typeof Q.componentDidCatch=="function"&&(a.callback=function(){$v(A,c,f),typeof g!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function hN(a,A,c,f,g){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(A=c.alternate,A!==null&&qA(A,c,g,!0),c=hr.current,c!==null){switch(c.tag){case 13:return zr===null?Ch():c.alternate===null&&Vt===0&&(Vt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,f===Ef?c.flags|=16384:(A=c.updateQueue,A===null?c.updateQueue=new Set([f]):A.add(f),Nh(a,f,g)),!1;case 22:return c.flags|=65536,f===Ef?c.flags|=16384:(A=c.updateQueue,A===null?(A={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=A):(c=A.retryQueue,c===null?A.retryQueue=new Set([f]):c.add(f)),Nh(a,f,g)),!1}throw Error(n(435,c.tag))}return Nh(a,f,g),Ch(),!1}if(ot)return A=hr.current,A!==null?((A.flags&65536)===0&&(A.flags|=256),A.flags|=65536,A.lanes=g,f!==wf&&(a=Error(n(422),{cause:f}),WA(cr(a,c)))):(f!==wf&&(A=Error(n(423),{cause:f}),WA(cr(A,c))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,f=cr(f,c),g=eh(a.stateNode,f,g),kf(a,g),Vt!==4&&(Vt=2)),!1;var y=Error(n(520),{cause:f});if(y=cr(y,c),pi===null?pi=[y]:pi.push(y),Vt!==4&&(Vt=2),A===null)return!0;f=cr(f,c),c=A;do{switch(c.tag){case 3:return c.flags|=65536,a=g&-g,c.lanes|=a,a=eh(c.stateNode,f,a),kf(c,a),!1;case 1:if(A=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ra===null||!ra.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Wv(g),qv(g,a,c,f),kf(c,g),!1}c=c.return}while(c!==null);return!1}var Zv=Error(n(461)),gs=!1;function Cs(a,A,c,f){A.child=a===null?Pv(A,null,c,f):$o(A,a.child,c,f)}function Jv(a,A,c,f,g){c=c.render;var y=A.ref;if("ref"in f){var Q={};for(var I in f)I!=="ref"&&(Q[I]=f[I])}else Q=f;return Xa(A),f=Mf(a,A,c,Q,y,g),I=Hf(),a!==null&&!gs?(Lf(a,A,g),gn(a,A,g)):(ot&&I&&yf(A),A.flags|=1,Cs(a,A,f,g),A.child)}function ey(a,A,c,f,g){if(a===null){var y=c.type;return typeof y=="function"&&!pf(y)&&y.defaultProps===void 0&&c.compare===null?(A.tag=15,A.type=y,ty(a,A,y,f,g)):(a=Jl(c.type,null,f,A,A.mode,g),a.ref=A.ref,a.return=A,A.child=a)}if(y=a.child,!ih(a,g)){var Q=y.memoizedProps;if(c=c.compare,c=c!==null?c:GA,c(Q,f)&&a.ref===A.ref)return gn(a,A,g)}return A.flags|=1,a=ln(y,f),a.ref=A.ref,a.return=A,A.child=a}function ty(a,A,c,f,g){if(a!==null){var y=a.memoizedProps;if(GA(y,f)&&a.ref===A.ref)if(gs=!1,A.pendingProps=f=y,ih(a,g))(a.flags&131072)!==0&&(gs=!0);else return A.lanes=a.lanes,gn(a,A,g)}return th(a,A,c,f,g)}function sy(a,A,c){var f=A.pendingProps,g=f.children,y=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((A.flags&128)!==0){if(f=y!==null?y.baseLanes|c:c,a!==null){for(g=A.child=a.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;A.childLanes=y&~f}else A.childLanes=0,A.child=null;return ry(a,A,f,c)}if((c&536870912)!==0)A.memoizedState={baseLanes:0,cachePool:null},a!==null&&nc(A,y!==null?y.cachePool:null),y!==null?tv(A,y):If(),Kv(A);else return A.lanes=A.childLanes=536870912,ry(a,A,y!==null?y.baseLanes|c:c,c)}else y!==null?(nc(A,y.cachePool),tv(A,y),qn(),A.memoizedState=null):(a!==null&&nc(A,null),If(),qn());return Cs(a,A,g,c),A.child}function ry(a,A,c,f){var g=Qf();return g=g===null?null:{parent:os._currentValue,pool:g},A.memoizedState={baseLanes:c,cachePool:g},a!==null&&nc(A,null),If(),Kv(A),a!==null&&qA(a,A,f,!0),null}function bc(a,A){var c=A.ref;if(c===null)a!==null&&a.ref!==null&&(A.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(a===null||a.ref!==c)&&(A.flags|=4194816)}}function th(a,A,c,f,g){return Xa(A),c=Mf(a,A,c,f,void 0,g),f=Hf(),a!==null&&!gs?(Lf(a,A,g),gn(a,A,g)):(ot&&f&&yf(A),A.flags|=1,Cs(a,A,c,g),A.child)}function ny(a,A,c,f,g,y){return Xa(A),A.updateQueue=null,c=rv(A,f,c,g),sv(a),f=Hf(),a!==null&&!gs?(Lf(a,A,y),gn(a,A,y)):(ot&&f&&yf(A),A.flags|=1,Cs(a,A,c,y),A.child)}function ay(a,A,c,f,g){if(Xa(A),A.stateNode===null){var y=Lo,Q=c.contextType;typeof Q=="object"&&Q!==null&&(y=Us(Q)),y=new c(f,y),A.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Jf,A.stateNode=y,y._reactInternals=A,y=A.stateNode,y.props=f,y.state=A.memoizedState,y.refs={},Ff(A),Q=c.contextType,y.context=typeof Q=="object"&&Q!==null?Us(Q):Lo,y.state=A.memoizedState,Q=c.getDerivedStateFromProps,typeof Q=="function"&&(Zf(A,c,Q,f),y.state=A.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(Q=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),Q!==y.state&&Jf.enqueueReplaceState(y,y.state,null),ni(A,f,y,g),ri(),y.state=A.memoizedState),typeof y.componentDidMount=="function"&&(A.flags|=4194308),f=!0}else if(a===null){y=A.stateNode;var I=A.memoizedProps,Y=qa(c,I);y.props=Y;var Ae=y.context,ue=c.contextType;Q=Lo,typeof ue=="object"&&ue!==null&&(Q=Us(ue));var ge=c.getDerivedStateFromProps;ue=typeof ge=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=A.pendingProps!==I,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||Ae!==Q)&&Vv(A,y,f,Q),Gn=!1;var le=A.memoizedState;y.state=le,ni(A,f,y,g),ri(),Ae=A.memoizedState,I||le!==Ae||Gn?(typeof ge=="function"&&(Zf(A,c,ge,f),Ae=A.memoizedState),(Y=Gn||zv(A,c,Y,f,le,Ae,Q))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(A.flags|=4194308)):(typeof y.componentDidMount=="function"&&(A.flags|=4194308),A.memoizedProps=f,A.memoizedState=Ae),y.props=f,y.state=Ae,y.context=Q,f=Y):(typeof y.componentDidMount=="function"&&(A.flags|=4194308),f=!1)}else{y=A.stateNode,Uf(a,A),Q=A.memoizedProps,ue=qa(c,Q),y.props=ue,ge=A.pendingProps,le=y.context,Ae=c.contextType,Y=Lo,typeof Ae=="object"&&Ae!==null&&(Y=Us(Ae)),I=c.getDerivedStateFromProps,(Ae=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(Q!==ge||le!==Y)&&Vv(A,y,f,Y),Gn=!1,le=A.memoizedState,y.state=le,ni(A,f,y,g),ri();var de=A.memoizedState;Q!==ge||le!==de||Gn||a!==null&&a.dependencies!==null&&sc(a.dependencies)?(typeof I=="function"&&(Zf(A,c,I,f),de=A.memoizedState),(ue=Gn||zv(A,c,ue,f,le,de,Y)||a!==null&&a.dependencies!==null&&sc(a.dependencies))?(Ae||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,de,Y),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,de,Y)),typeof y.componentDidUpdate=="function"&&(A.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(A.flags|=1024)):(typeof y.componentDidUpdate!="function"||Q===a.memoizedProps&&le===a.memoizedState||(A.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||Q===a.memoizedProps&&le===a.memoizedState||(A.flags|=1024),A.memoizedProps=f,A.memoizedState=de),y.props=f,y.state=de,y.context=Y,f=ue):(typeof y.componentDidUpdate!="function"||Q===a.memoizedProps&&le===a.memoizedState||(A.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||Q===a.memoizedProps&&le===a.memoizedState||(A.flags|=1024),f=!1)}return y=f,bc(a,A),f=(A.flags&128)!==0,y||f?(y=A.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:y.render(),A.flags|=1,a!==null&&f?(A.child=$o(A,a.child,null,g),A.child=$o(A,null,c,g)):Cs(a,A,c,g),A.memoizedState=y.state,a=A.child):a=gn(a,A,g),a}function oy(a,A,c,f){return $A(),A.flags|=256,Cs(a,A,c,f),A.child}var sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(a){return{baseLanes:a,cachePool:Yx()}}function nh(a,A,c){return a=a!==null?a.childLanes&~c:0,A&&(a|=mr),a}function Ay(a,A,c){var f=A.pendingProps,g=!1,y=(A.flags&128)!==0,Q;if((Q=y)||(Q=a!==null&&a.memoizedState===null?!1:(As.current&2)!==0),Q&&(g=!0,A.flags&=-129),Q=(A.flags&32)!==0,A.flags&=-33,a===null){if(ot){if(g?Wn(A):qn(),ot){var I=zt,Y;if(Y=I){e:{for(Y=I,I=Kr;Y.nodeType!==8;){if(!I){I=null;break e}if(Y=Dr(Y.nextSibling),Y===null){I=null;break e}}I=Y}I!==null?(A.memoizedState={dehydrated:I,treeContext:Ka!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},Y=Js(18,null,null,0),Y.stateNode=I,Y.return=A,A.child=Y,Ls=A,zt=null,Y=!0):Y=!1}Y||Ga(A)}if(I=A.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Oh(I)?A.lanes=32:A.lanes=536870912,null;mn(A)}return I=f.children,f=f.fallback,g?(qn(),g=A.mode,I=wc({mode:"hidden",children:I},g),f=Pa(f,g,c,null),I.return=A,f.return=A,I.sibling=f,A.child=I,g=A.child,g.memoizedState=rh(c),g.childLanes=nh(a,Q,c),A.memoizedState=sh,f):(Wn(A),ah(A,I))}if(Y=a.memoizedState,Y!==null&&(I=Y.dehydrated,I!==null)){if(y)A.flags&256?(Wn(A),A.flags&=-257,A=oh(a,A,c)):A.memoizedState!==null?(qn(),A.child=a.child,A.flags|=128,A=null):(qn(),g=f.fallback,I=A.mode,f=wc({mode:"visible",children:f.children},I),g=Pa(g,I,c,null),g.flags|=2,f.return=A,g.return=A,f.sibling=g,A.child=f,$o(A,a.child,null,c),f=A.child,f.memoizedState=rh(c),f.childLanes=nh(a,Q,c),A.memoizedState=sh,A=g);else if(Wn(A),Oh(I)){if(Q=I.nextSibling&&I.nextSibling.dataset,Q)var Ae=Q.dgst;Q=Ae,f=Error(n(419)),f.stack="",f.digest=Q,WA({value:f,source:null,stack:null}),A=oh(a,A,c)}else if(gs||qA(a,A,c,!1),Q=(c&a.childLanes)!==0,gs||Q){if(Q=St,Q!==null&&(f=c&-c,f=(f&42)!==0?1:rt(f),f=(f&(Q.suspendedLanes|c))!==0?0:f,f!==0&&f!==Y.retryLane))throw Y.retryLane=f,Ho(a,f),nr(Q,a,f),Zv;I.data==="$?"||Ch(),A=oh(a,A,c)}else I.data==="$?"?(A.flags|=192,A.child=a.child,A=null):(a=Y.treeContext,zt=Dr(I.nextSibling),Ls=A,ot=!0,Va=null,Kr=!1,a!==null&&(ur[fr++]=cn,ur[fr++]=dn,ur[fr++]=Ka,cn=a.id,dn=a.overflow,Ka=A),A=ah(A,f.children),A.flags|=4096);return A}return g?(qn(),g=f.fallback,I=A.mode,Y=a.child,Ae=Y.sibling,f=ln(Y,{mode:"hidden",children:f.children}),f.subtreeFlags=Y.subtreeFlags&65011712,Ae!==null?g=ln(Ae,g):(g=Pa(g,I,c,null),g.flags|=2),g.return=A,f.return=A,f.sibling=g,A.child=f,f=g,g=A.child,I=a.child.memoizedState,I===null?I=rh(c):(Y=I.cachePool,Y!==null?(Ae=os._currentValue,Y=Y.parent!==Ae?{parent:Ae,pool:Ae}:Y):Y=Yx(),I={baseLanes:I.baseLanes|c,cachePool:Y}),g.memoizedState=I,g.childLanes=nh(a,Q,c),A.memoizedState=sh,f):(Wn(A),c=a.child,a=c.sibling,c=ln(c,{mode:"visible",children:f.children}),c.return=A,c.sibling=null,a!==null&&(Q=A.deletions,Q===null?(A.deletions=[a],A.flags|=16):Q.push(a)),A.child=c,A.memoizedState=null,c)}function ah(a,A){return A=wc({mode:"visible",children:A},a.mode),A.return=a,a.child=A}function wc(a,A){return a=Js(22,a,null,A),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function oh(a,A,c){return $o(A,a.child,null,c),a=ah(A,A.pendingProps.children),a.flags|=2,A.memoizedState=null,a}function iy(a,A,c){a.lanes|=A;var f=a.alternate;f!==null&&(f.lanes|=A),Cf(a.return,A,c)}function Ah(a,A,c,f,g){var y=a.memoizedState;y===null?a.memoizedState={isBackwards:A,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(y.isBackwards=A,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=g)}function ly(a,A,c){var f=A.pendingProps,g=f.revealOrder,y=f.tail;if(Cs(a,A,f.children,c),f=As.current,(f&2)!==0)f=f&1|2,A.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=A.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&iy(a,c,A);else if(a.tag===19)iy(a,c,A);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===A)break e;for(;a.sibling===null;){if(a.return===null||a.return===A)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(R(As,f),g){case"forwards":for(c=A.child,g=null;c!==null;)a=c.alternate,a!==null&&xc(a)===null&&(g=c),c=c.sibling;c=g,c===null?(g=A.child,A.child=null):(g=c.sibling,c.sibling=null),Ah(A,!1,g,c,y);break;case"backwards":for(c=null,g=A.child,A.child=null;g!==null;){if(a=g.alternate,a!==null&&xc(a)===null){A.child=g;break}a=g.sibling,g.sibling=c,c=g,g=a}Ah(A,!0,c,null,y);break;case"together":Ah(A,!1,null,null,void 0);break;default:A.memoizedState=null}return A.child}function gn(a,A,c){if(a!==null&&(A.dependencies=a.dependencies),sa|=A.lanes,(c&A.childLanes)===0)if(a!==null){if(qA(a,A,c,!1),(c&A.childLanes)===0)return null}else return null;if(a!==null&&A.child!==a.child)throw Error(n(153));if(A.child!==null){for(a=A.child,c=ln(a,a.pendingProps),A.child=c,c.return=A;a.sibling!==null;)a=a.sibling,c=c.sibling=ln(a,a.pendingProps),c.return=A;c.sibling=null}return A.child}function ih(a,A){return(a.lanes&A)!==0?!0:(a=a.dependencies,!!(a!==null&&sc(a)))}function mN(a,A,c){switch(A.tag){case 3:V(A,A.stateNode.containerInfo),Vn(A,os,a.memoizedState.cache),$A();break;case 27:case 5:G(A);break;case 4:V(A,A.stateNode.containerInfo);break;case 10:Vn(A,A.type,A.memoizedProps.value);break;case 13:var f=A.memoizedState;if(f!==null)return f.dehydrated!==null?(Wn(A),A.flags|=128,null):(c&A.child.childLanes)!==0?Ay(a,A,c):(Wn(A),a=gn(a,A,c),a!==null?a.sibling:null);Wn(A);break;case 19:var g=(a.flags&128)!==0;if(f=(c&A.childLanes)!==0,f||(qA(a,A,c,!1),f=(c&A.childLanes)!==0),g){if(f)return ly(a,A,c);A.flags|=128}if(g=A.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),R(As,As.current),f)break;return null;case 22:case 23:return A.lanes=0,sy(a,A,c);case 24:Vn(A,os,a.memoizedState.cache)}return gn(a,A,c)}function cy(a,A,c){if(a!==null)if(a.memoizedProps!==A.pendingProps)gs=!0;else{if(!ih(a,c)&&(A.flags&128)===0)return gs=!1,mN(a,A,c);gs=(a.flags&131072)!==0}else gs=!1,ot&&(A.flags&1048576)!==0&&_x(A,tc,A.index);switch(A.lanes=0,A.tag){case 16:e:{a=A.pendingProps;var f=A.elementType,g=f._init;if(f=g(f._payload),A.type=f,typeof f=="function")pf(f)?(a=qa(f,a),A.tag=1,A=ay(null,A,f,a,c)):(A.tag=0,A=th(null,A,f,a,c));else{if(f!=null){if(g=f.$$typeof,g===N){A.tag=11,A=Jv(null,A,f,a,c);break e}else if(g===T){A.tag=14,A=ey(null,A,f,a,c);break e}}throw A=ne(f)||f,Error(n(306,A,""))}}return A;case 0:return th(a,A,A.type,A.pendingProps,c);case 1:return f=A.type,g=qa(f,A.pendingProps),ay(a,A,f,g,c);case 3:e:{if(V(A,A.stateNode.containerInfo),a===null)throw Error(n(387));f=A.pendingProps;var y=A.memoizedState;g=y.element,Uf(a,A),ni(A,f,null,c);var Q=A.memoizedState;if(f=Q.cache,Vn(A,os,f),f!==y.cache&&jf(A,[os],c,!0),ri(),f=Q.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:Q.cache},A.updateQueue.baseState=y,A.memoizedState=y,A.flags&256){A=oy(a,A,f,c);break e}else if(f!==g){g=cr(Error(n(424)),A),WA(g),A=oy(a,A,f,c);break e}else{switch(a=A.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(zt=Dr(a.firstChild),Ls=A,ot=!0,Va=null,Kr=!0,c=Pv(A,null,f,c),A.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if($A(),f===g){A=gn(a,A,c);break e}Cs(a,A,f,c)}A=A.child}return A;case 26:return bc(a,A),a===null?(c=hb(A.type,null,A.pendingProps,null))?A.memoizedState=c:ot||(c=A.type,a=A.pendingProps,f=Tc(re.current).createElement(c),f[Je]=A,f[$e]=a,Ns(f,c,a),ms(f),A.stateNode=f):A.memoizedState=hb(A.type,a.memoizedProps,A.pendingProps,a.memoizedState),null;case 27:return G(A),a===null&&ot&&(f=A.stateNode=db(A.type,A.pendingProps,re.current),Ls=A,Kr=!0,g=zt,oa(A.type)?(Ph=g,zt=Dr(f.firstChild)):zt=g),Cs(a,A,A.pendingProps.children,c),bc(a,A),a===null&&(A.flags|=4194304),A.child;case 5:return a===null&&ot&&((g=f=zt)&&(f=KN(f,A.type,A.pendingProps,Kr),f!==null?(A.stateNode=f,Ls=A,zt=Dr(f.firstChild),Kr=!1,g=!0):g=!1),g||Ga(A)),G(A),g=A.type,y=A.pendingProps,Q=a!==null?a.memoizedProps:null,f=y.children,Hh(g,y)?f=null:Q!==null&&Hh(g,Q)&&(A.flags|=32),A.memoizedState!==null&&(g=Mf(a,A,AN,null,null,c),Ni._currentValue=g),bc(a,A),Cs(a,A,f,c),A.child;case 6:return a===null&&ot&&((a=c=zt)&&(c=zN(c,A.pendingProps,Kr),c!==null?(A.stateNode=c,Ls=A,zt=null,a=!0):a=!1),a||Ga(A)),null;case 13:return Ay(a,A,c);case 4:return V(A,A.stateNode.containerInfo),f=A.pendingProps,a===null?A.child=$o(A,null,f,c):Cs(a,A,f,c),A.child;case 11:return Jv(a,A,A.type,A.pendingProps,c);case 7:return Cs(a,A,A.pendingProps,c),A.child;case 8:return Cs(a,A,A.pendingProps.children,c),A.child;case 12:return Cs(a,A,A.pendingProps.children,c),A.child;case 10:return f=A.pendingProps,Vn(A,A.type,f.value),Cs(a,A,f.children,c),A.child;case 9:return g=A.type._context,f=A.pendingProps.children,Xa(A),g=Us(g),f=f(g),A.flags|=1,Cs(a,A,f,c),A.child;case 14:return ey(a,A,A.type,A.pendingProps,c);case 15:return ty(a,A,A.type,A.pendingProps,c);case 19:return ly(a,A,c);case 31:return f=A.pendingProps,c=A.mode,f={mode:f.mode,children:f.children},a===null?(c=wc(f,c),c.ref=A.ref,A.child=c,c.return=A,A=c):(c=ln(a.child,f),c.ref=A.ref,A.child=c,c.return=A,A=c),A;case 22:return sy(a,A,c);case 24:return Xa(A),f=Us(os),a===null?(g=Qf(),g===null&&(g=St,y=Nf(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),A.memoizedState={parent:f,cache:g},Ff(A),Vn(A,os,g)):((a.lanes&c)!==0&&(Uf(a,A),ni(A,null,null,c),ri()),g=a.memoizedState,y=A.memoizedState,g.parent!==f?(g={parent:f,cache:f},A.memoizedState=g,A.lanes===0&&(A.memoizedState=A.updateQueue.baseState=g),Vn(A,os,f)):(f=y.cache,Vn(A,os,f),f!==g.cache&&jf(A,[os],c,!0))),Cs(a,A,A.pendingProps.children,c),A.child;case 29:throw A.pendingProps}throw Error(n(156,A.tag))}function pn(a){a.flags|=4}function dy(a,A){if(A.type!=="stylesheet"||(A.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!vb(A)){if(A=hr.current,A!==null&&((We&4194048)===We?zr!==null:(We&62914560)!==We&&(We&536870912)===0||A!==zr))throw ti=Ef,Xx;a.flags|=8192}}function Bc(a,A){A!==null&&(a.flags|=4),a.flags&16384&&(A=a.tag!==22?yt():536870912,a.lanes|=A,Jo|=A)}function di(a,A){if(!ot)switch(a.tailMode){case"hidden":A=a.tail;for(var c=null;A!==null;)A.alternate!==null&&(c=A),A=A.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?A||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function _t(a){var A=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(A)for(var g=a.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=f,a.childLanes=c,A}function gN(a,A,c){var f=A.pendingProps;switch(bf(A),A.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(A),null;case 1:return _t(A),null;case 3:return c=A.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),A.memoizedState.cache!==f&&(A.flags|=2048),fn(os),X(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(XA(A)?pn(A):a===null||a.memoizedState.isDehydrated&&(A.flags&256)===0||(A.flags|=1024,Kx())),_t(A),null;case 26:return c=A.memoizedState,a===null?(pn(A),c!==null?(_t(A),dy(A,c)):(_t(A),A.flags&=-16777217)):c?c!==a.memoizedState?(pn(A),_t(A),dy(A,c)):(_t(A),A.flags&=-16777217):(a.memoizedProps!==f&&pn(A),_t(A),A.flags&=-16777217),null;case 27:q(A),c=re.current;var g=A.type;if(a!==null&&A.stateNode!=null)a.memoizedProps!==f&&pn(A);else{if(!f){if(A.stateNode===null)throw Error(n(166));return _t(A),null}a=O.current,XA(A)?Ox(A):(a=db(g,f,c),A.stateNode=a,pn(A))}return _t(A),null;case 5:if(q(A),c=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==f&&pn(A);else{if(!f){if(A.stateNode===null)throw Error(n(166));return _t(A),null}if(a=O.current,XA(A))Ox(A);else{switch(g=Tc(re.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?g.createElement(c,{is:f.is}):g.createElement(c)}}a[Je]=A,a[$e]=f;e:for(g=A.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===A)break e;for(;g.sibling===null;){if(g.return===null||g.return===A)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}A.stateNode=a;e:switch(Ns(a,c,f),c){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&pn(A)}}return _t(A),A.flags&=-16777217,null;case 6:if(a&&A.stateNode!=null)a.memoizedProps!==f&&pn(A);else{if(typeof f!="string"&&A.stateNode===null)throw Error(n(166));if(a=re.current,XA(A)){if(a=A.stateNode,c=A.memoizedProps,f=null,g=Ls,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}a[Je]=A,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||nb(a.nodeValue,c)),a||Ga(A)}else a=Tc(a).createTextNode(f),a[Je]=A,A.stateNode=a}return _t(A),null;case 13:if(f=A.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=XA(A),f!==null&&f.dehydrated!==null){if(a===null){if(!g)throw Error(n(318));if(g=A.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Je]=A}else $A(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;_t(A),g=!1}else g=Kx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return A.flags&256?(mn(A),A):(mn(A),null)}if(mn(A),(A.flags&128)!==0)return A.lanes=c,A;if(c=f!==null,a=a!==null&&a.memoizedState!==null,c){f=A.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==g&&(f.flags|=2048)}return c!==a&&c&&(A.child.flags|=8192),Bc(A,A.updateQueue),_t(A),null;case 4:return X(),a===null&&Dh(A.stateNode.containerInfo),_t(A),null;case 10:return fn(A.type),_t(A),null;case 19:if(F(As),g=A.memoizedState,g===null)return _t(A),null;if(f=(A.flags&128)!==0,y=g.rendering,y===null)if(f)di(g,!1);else{if(Vt!==0||a!==null&&(a.flags&128)!==0)for(a=A.child;a!==null;){if(y=xc(a),y!==null){for(A.flags|=128,di(g,!1),a=y.updateQueue,A.updateQueue=a,Bc(A,a),A.subtreeFlags=0,a=c,c=A.child;c!==null;)Lx(c,a),c=c.sibling;return R(As,As.current&1|2),A.child}a=a.sibling}g.tail!==null&&ke()>Nc&&(A.flags|=128,f=!0,di(g,!1),A.lanes=4194304)}else{if(!f)if(a=xc(y),a!==null){if(A.flags|=128,f=!0,a=a.updateQueue,A.updateQueue=a,Bc(A,a),di(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!ot)return _t(A),null}else 2*ke()-g.renderingStartTime>Nc&&c!==536870912&&(A.flags|=128,f=!0,di(g,!1),A.lanes=4194304);g.isBackwards?(y.sibling=A.child,A.child=y):(a=g.last,a!==null?a.sibling=y:A.child=y,g.last=y)}return g.tail!==null?(A=g.tail,g.rendering=A,g.tail=A.sibling,g.renderingStartTime=ke(),A.sibling=null,a=As.current,R(As,f?a&1|2:a&1),A):(_t(A),null);case 22:case 23:return mn(A),Rf(),f=A.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(A.flags|=8192):f&&(A.flags|=8192),f?(c&536870912)!==0&&(A.flags&128)===0&&(_t(A),A.subtreeFlags&6&&(A.flags|=8192)):_t(A),c=A.updateQueue,c!==null&&Bc(A,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(f=A.memoizedState.cachePool.pool),f!==c&&(A.flags|=2048),a!==null&&F($a),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),A.memoizedState.cache!==c&&(A.flags|=2048),fn(os),_t(A),null;case 25:return null;case 30:return null}throw Error(n(156,A.tag))}function pN(a,A){switch(bf(A),A.tag){case 1:return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 3:return fn(os),X(),a=A.flags,(a&65536)!==0&&(a&128)===0?(A.flags=a&-65537|128,A):null;case 26:case 27:case 5:return q(A),null;case 13:if(mn(A),a=A.memoizedState,a!==null&&a.dehydrated!==null){if(A.alternate===null)throw Error(n(340));$A()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 19:return F(As),null;case 4:return X(),null;case 10:return fn(A.type),null;case 22:case 23:return mn(A),Rf(),a!==null&&F($a),a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 24:return fn(os),null;case 25:return null;default:return null}}function uy(a,A){switch(bf(A),A.tag){case 3:fn(os),X();break;case 26:case 27:case 5:q(A);break;case 4:X();break;case 13:mn(A);break;case 19:F(As);break;case 10:fn(A.type);break;case 22:case 23:mn(A),Rf(),a!==null&&F($a);break;case 24:fn(os)}}function ui(a,A){try{var c=A.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&a)===a){f=void 0;var y=c.create,Q=c.inst;f=y(),Q.destroy=f}c=c.next}while(c!==g)}}catch(I){wt(A,A.return,I)}}function Zn(a,A,c){try{var f=A.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var y=g.next;f=y;do{if((f.tag&a)===a){var Q=f.inst,I=Q.destroy;if(I!==void 0){Q.destroy=void 0,g=A;var Y=c,Ae=I;try{Ae()}catch(ue){wt(g,Y,ue)}}}f=f.next}while(f!==y)}}catch(ue){wt(A,A.return,ue)}}function fy(a){var A=a.updateQueue;if(A!==null){var c=a.stateNode;try{ev(A,c)}catch(f){wt(a,a.return,f)}}}function hy(a,A,c){c.props=qa(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){wt(a,A,f)}}function fi(a,A){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(g){wt(a,A,g)}}function Vr(a,A){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(g){wt(a,A,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){wt(a,A,g)}else c.current=null}function my(a){var A=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(A){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(g){wt(a,a.return,g)}}function lh(a,A,c){try{var f=a.stateNode;HN(f,a.type,c,A),f[$e]=A}catch(g){wt(a,a.return,g)}}function gy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&oa(a.type)||a.tag===4}function ch(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||gy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&oa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function dh(a,A,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,A?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,A):(A=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,A.appendChild(a),c=c._reactRootContainer,c!=null||A.onclick!==null||(A.onclick=Rc));else if(f!==4&&(f===27&&oa(a.type)&&(c=a.stateNode,A=null),a=a.child,a!==null))for(dh(a,A,c),a=a.sibling;a!==null;)dh(a,A,c),a=a.sibling}function Cc(a,A,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,A?c.insertBefore(a,A):c.appendChild(a);else if(f!==4&&(f===27&&oa(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Cc(a,A,c),a=a.sibling;a!==null;)Cc(a,A,c),a=a.sibling}function py(a){var A=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,g=A.attributes;g.length;)A.removeAttributeNode(g[0]);Ns(A,f,c),A[Je]=a,A[$e]=c}catch(y){wt(a,a.return,y)}}var xn=!1,Zt=!1,uh=!1,xy=typeof WeakSet=="function"?WeakSet:Set,ps=null;function xN(a,A){if(a=a.containerInfo,Th=Pc,a=Ex(a),cf(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var Q=0,I=-1,Y=-1,Ae=0,ue=0,ge=a,le=null;t:for(;;){for(var de;ge!==c||g!==0&&ge.nodeType!==3||(I=Q+g),ge!==y||f!==0&&ge.nodeType!==3||(Y=Q+f),ge.nodeType===3&&(Q+=ge.nodeValue.length),(de=ge.firstChild)!==null;)le=ge,ge=de;for(;;){if(ge===a)break t;if(le===c&&++Ae===g&&(I=Q),le===y&&++ue===f&&(Y=Q),(de=ge.nextSibling)!==null)break;ge=le,le=ge.parentNode}ge=de}c=I===-1||Y===-1?null:{start:I,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(Mh={focusedElem:a,selectionRange:c},Pc=!1,ps=A;ps!==null;)if(A=ps,a=A.child,(A.subtreeFlags&1024)!==0&&a!==null)a.return=A,ps=a;else for(;ps!==null;){switch(A=ps,y=A.alternate,a=A.flags,A.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,c=A,g=y.memoizedProps,y=y.memoizedState,f=c.stateNode;try{var Ue=qa(c.type,g,c.elementType===c.type);a=f.getSnapshotBeforeUpdate(Ue,y),f.__reactInternalSnapshotBeforeUpdate=a}catch(Qe){wt(c,c.return,Qe)}}break;case 3:if((a&1024)!==0){if(a=A.stateNode.containerInfo,c=a.nodeType,c===9)_h(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":_h(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=A.sibling,a!==null){a.return=A.return,ps=a;break}ps=A.return}}function vy(a,A,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Jn(a,c),f&4&&ui(5,c);break;case 1:if(Jn(a,c),f&4)if(a=c.stateNode,A===null)try{a.componentDidMount()}catch(Q){wt(c,c.return,Q)}else{var g=qa(c.type,A.memoizedProps);A=A.memoizedState;try{a.componentDidUpdate(g,A,a.__reactInternalSnapshotBeforeUpdate)}catch(Q){wt(c,c.return,Q)}}f&64&&fy(c),f&512&&fi(c,c.return);break;case 3:if(Jn(a,c),f&64&&(a=c.updateQueue,a!==null)){if(A=null,c.child!==null)switch(c.child.tag){case 27:case 5:A=c.child.stateNode;break;case 1:A=c.child.stateNode}try{ev(a,A)}catch(Q){wt(c,c.return,Q)}}break;case 27:A===null&&f&4&&py(c);case 26:case 5:Jn(a,c),A===null&&f&4&&my(c),f&512&&fi(c,c.return);break;case 12:Jn(a,c);break;case 13:Jn(a,c),f&4&&wy(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=SN.bind(null,c),VN(a,c))));break;case 22:if(f=c.memoizedState!==null||xn,!f){A=A!==null&&A.memoizedState!==null||Zt,g=xn;var y=Zt;xn=f,(Zt=A)&&!y?ea(a,c,(c.subtreeFlags&8772)!==0):Jn(a,c),xn=g,Zt=y}break;case 30:break;default:Jn(a,c)}}function yy(a){var A=a.alternate;A!==null&&(a.alternate=null,yy(A)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(A=a.stateNode,A!==null&&zu(A)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ut=null,Ks=!1;function vn(a,A,c){for(c=c.child;c!==null;)by(a,A,c),c=c.sibling}function by(a,A,c){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Hs,c)}catch{}switch(c.tag){case 26:Zt||Vr(c,A),vn(a,A,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Zt||Vr(c,A);var f=Ut,g=Ks;oa(c.type)&&(Ut=c.stateNode,Ks=!1),vn(a,A,c),wi(c.stateNode),Ut=f,Ks=g;break;case 5:Zt||Vr(c,A);case 6:if(f=Ut,g=Ks,Ut=null,vn(a,A,c),Ut=f,Ks=g,Ut!==null)if(Ks)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(c.stateNode)}catch(y){wt(c,A,y)}else try{Ut.removeChild(c.stateNode)}catch(y){wt(c,A,y)}break;case 18:Ut!==null&&(Ks?(a=Ut,lb(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Fi(a)):lb(Ut,c.stateNode));break;case 4:f=Ut,g=Ks,Ut=c.stateNode.containerInfo,Ks=!0,vn(a,A,c),Ut=f,Ks=g;break;case 0:case 11:case 14:case 15:Zt||Zn(2,c,A),Zt||Zn(4,c,A),vn(a,A,c);break;case 1:Zt||(Vr(c,A),f=c.stateNode,typeof f.componentWillUnmount=="function"&&hy(c,A,f)),vn(a,A,c);break;case 21:vn(a,A,c);break;case 22:Zt=(f=Zt)||c.memoizedState!==null,vn(a,A,c),Zt=f;break;default:vn(a,A,c)}}function wy(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Fi(a)}catch(c){wt(A,A.return,c)}}function vN(a){switch(a.tag){case 13:case 19:var A=a.stateNode;return A===null&&(A=a.stateNode=new xy),A;case 22:return a=a.stateNode,A=a._retryCache,A===null&&(A=a._retryCache=new xy),A;default:throw Error(n(435,a.tag))}}function fh(a,A){var c=vN(a);A.forEach(function(f){var g=QN.bind(null,a,f);c.has(f)||(c.add(f),f.then(g,g))})}function er(a,A){var c=A.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f],y=a,Q=A,I=Q;e:for(;I!==null;){switch(I.tag){case 27:if(oa(I.type)){Ut=I.stateNode,Ks=!1;break e}break;case 5:Ut=I.stateNode,Ks=!1;break e;case 3:case 4:Ut=I.stateNode.containerInfo,Ks=!0;break e}I=I.return}if(Ut===null)throw Error(n(160));by(y,Q,g),Ut=null,Ks=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(A.subtreeFlags&13878)for(A=A.child;A!==null;)By(A,a),A=A.sibling}var kr=null;function By(a,A){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:er(A,a),tr(a),f&4&&(Zn(3,a,a.return),ui(3,a),Zn(5,a,a.return));break;case 1:er(A,a),tr(a),f&512&&(Zt||c===null||Vr(c,c.return)),f&64&&xn&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var g=kr;if(er(A,a),tr(a),f&512&&(Zt||c===null||Vr(c,c.return)),f&4){var y=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":y=g.getElementsByTagName("title")[0],(!y||y[an]||y[Je]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(f),g.head.insertBefore(y,g.querySelector("head > title"))),Ns(y,f,c),y[Je]=a,ms(y),f=y;break e;case"link":var Q=pb("link","href",g).get(f+(c.href||""));if(Q){for(var I=0;I<Q.length;I++)if(y=Q[I],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){Q.splice(I,1);break t}}y=g.createElement(f),Ns(y,f,c),g.head.appendChild(y);break;case"meta":if(Q=pb("meta","content",g).get(f+(c.content||""))){for(I=0;I<Q.length;I++)if(y=Q[I],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){Q.splice(I,1);break t}}y=g.createElement(f),Ns(y,f,c),g.head.appendChild(y);break;default:throw Error(n(468,f))}y[Je]=a,ms(y),f=y}a.stateNode=f}else xb(g,a.type,a.stateNode);else a.stateNode=gb(g,f,a.memoizedProps);else y!==f?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,f===null?xb(g,a.type,a.stateNode):gb(g,f,a.memoizedProps)):f===null&&a.stateNode!==null&&lh(a,a.memoizedProps,c.memoizedProps)}break;case 27:er(A,a),tr(a),f&512&&(Zt||c===null||Vr(c,c.return)),c!==null&&f&4&&lh(a,a.memoizedProps,c.memoizedProps);break;case 5:if(er(A,a),tr(a),f&512&&(Zt||c===null||Vr(c,c.return)),a.flags&32){g=a.stateNode;try{Uo(g,"")}catch(de){wt(a,a.return,de)}}f&4&&a.stateNode!=null&&(g=a.memoizedProps,lh(a,g,c!==null?c.memoizedProps:g)),f&1024&&(uh=!0);break;case 6:if(er(A,a),tr(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(de){wt(a,a.return,de)}}break;case 3:if(Lc=null,g=kr,kr=Mc(A.containerInfo),er(A,a),kr=g,tr(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Fi(A.containerInfo)}catch(de){wt(a,a.return,de)}uh&&(uh=!1,Cy(a));break;case 4:f=kr,kr=Mc(a.stateNode.containerInfo),er(A,a),tr(a),kr=f;break;case 12:er(A,a),tr(a);break;case 13:er(A,a),tr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(vh=ke()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,fh(a,f)));break;case 22:g=a.memoizedState!==null;var Y=c!==null&&c.memoizedState!==null,Ae=xn,ue=Zt;if(xn=Ae||g,Zt=ue||Y,er(A,a),Zt=ue,xn=Ae,tr(a),f&8192)e:for(A=a.stateNode,A._visibility=g?A._visibility&-2:A._visibility|1,g&&(c===null||Y||xn||Zt||Za(a)),c=null,A=a;;){if(A.tag===5||A.tag===26){if(c===null){Y=c=A;try{if(y=Y.stateNode,g)Q=y.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none";else{I=Y.stateNode;var ge=Y.memoizedProps.style,le=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;I.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(de){wt(Y,Y.return,de)}}}else if(A.tag===6){if(c===null){Y=A;try{Y.stateNode.nodeValue=g?"":Y.memoizedProps}catch(de){wt(Y,Y.return,de)}}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===a)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;c===A&&(c=null),A=A.return}c===A&&(c=null),A.sibling.return=A.return,A=A.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,fh(a,c))));break;case 19:er(A,a),tr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,fh(a,f)));break;case 30:break;case 21:break;default:er(A,a),tr(a)}}function tr(a){var A=a.flags;if(A&2){try{for(var c,f=a.return;f!==null;){if(gy(f)){c=f;break}f=f.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var g=c.stateNode,y=ch(a);Cc(a,y,g);break;case 5:var Q=c.stateNode;c.flags&32&&(Uo(Q,""),c.flags&=-33);var I=ch(a);Cc(a,I,Q);break;case 3:case 4:var Y=c.stateNode.containerInfo,Ae=ch(a);dh(a,Ae,Y);break;default:throw Error(n(161))}}catch(ue){wt(a,a.return,ue)}a.flags&=-3}A&4096&&(a.flags&=-4097)}function Cy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var A=a;Cy(A),A.tag===5&&A.flags&1024&&A.stateNode.reset(),a=a.sibling}}function Jn(a,A){if(A.subtreeFlags&8772)for(A=A.child;A!==null;)vy(a,A.alternate,A),A=A.sibling}function Za(a){for(a=a.child;a!==null;){var A=a;switch(A.tag){case 0:case 11:case 14:case 15:Zn(4,A,A.return),Za(A);break;case 1:Vr(A,A.return);var c=A.stateNode;typeof c.componentWillUnmount=="function"&&hy(A,A.return,c),Za(A);break;case 27:wi(A.stateNode);case 26:case 5:Vr(A,A.return),Za(A);break;case 22:A.memoizedState===null&&Za(A);break;case 30:Za(A);break;default:Za(A)}a=a.sibling}}function ea(a,A,c){for(c=c&&(A.subtreeFlags&8772)!==0,A=A.child;A!==null;){var f=A.alternate,g=a,y=A,Q=y.flags;switch(y.tag){case 0:case 11:case 15:ea(g,y,c),ui(4,y);break;case 1:if(ea(g,y,c),f=y,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Ae){wt(f,f.return,Ae)}if(f=y,g=f.updateQueue,g!==null){var I=f.stateNode;try{var Y=g.shared.hiddenCallbacks;if(Y!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Y.length;g++)Jx(Y[g],I)}catch(Ae){wt(f,f.return,Ae)}}c&&Q&64&&fy(y),fi(y,y.return);break;case 27:py(y);case 26:case 5:ea(g,y,c),c&&f===null&&Q&4&&my(y),fi(y,y.return);break;case 12:ea(g,y,c);break;case 13:ea(g,y,c),c&&Q&4&&wy(g,y);break;case 22:y.memoizedState===null&&ea(g,y,c),fi(y,y.return);break;case 30:break;default:ea(g,y,c)}A=A.sibling}}function hh(a,A){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(a=A.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&ZA(c))}function mh(a,A){a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&ZA(a))}function Gr(a,A,c,f){if(A.subtreeFlags&10256)for(A=A.child;A!==null;)jy(a,A,c,f),A=A.sibling}function jy(a,A,c,f){var g=A.flags;switch(A.tag){case 0:case 11:case 15:Gr(a,A,c,f),g&2048&&ui(9,A);break;case 1:Gr(a,A,c,f);break;case 3:Gr(a,A,c,f),g&2048&&(a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&ZA(a)));break;case 12:if(g&2048){Gr(a,A,c,f),a=A.stateNode;try{var y=A.memoizedProps,Q=y.id,I=y.onPostCommit;typeof I=="function"&&I(Q,A.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Y){wt(A,A.return,Y)}}else Gr(a,A,c,f);break;case 13:Gr(a,A,c,f);break;case 23:break;case 22:y=A.stateNode,Q=A.alternate,A.memoizedState!==null?y._visibility&2?Gr(a,A,c,f):hi(a,A):y._visibility&2?Gr(a,A,c,f):(y._visibility|=2,Wo(a,A,c,f,(A.subtreeFlags&10256)!==0)),g&2048&&hh(Q,A);break;case 24:Gr(a,A,c,f),g&2048&&mh(A.alternate,A);break;default:Gr(a,A,c,f)}}function Wo(a,A,c,f,g){for(g=g&&(A.subtreeFlags&10256)!==0,A=A.child;A!==null;){var y=a,Q=A,I=c,Y=f,Ae=Q.flags;switch(Q.tag){case 0:case 11:case 15:Wo(y,Q,I,Y,g),ui(8,Q);break;case 23:break;case 22:var ue=Q.stateNode;Q.memoizedState!==null?ue._visibility&2?Wo(y,Q,I,Y,g):hi(y,Q):(ue._visibility|=2,Wo(y,Q,I,Y,g)),g&&Ae&2048&&hh(Q.alternate,Q);break;case 24:Wo(y,Q,I,Y,g),g&&Ae&2048&&mh(Q.alternate,Q);break;default:Wo(y,Q,I,Y,g)}A=A.sibling}}function hi(a,A){if(A.subtreeFlags&10256)for(A=A.child;A!==null;){var c=a,f=A,g=f.flags;switch(f.tag){case 22:hi(c,f),g&2048&&hh(f.alternate,f);break;case 24:hi(c,f),g&2048&&mh(f.alternate,f);break;default:hi(c,f)}A=A.sibling}}var mi=8192;function qo(a){if(a.subtreeFlags&mi)for(a=a.child;a!==null;)Ny(a),a=a.sibling}function Ny(a){switch(a.tag){case 26:qo(a),a.flags&mi&&a.memoizedState!==null&&nS(kr,a.memoizedState,a.memoizedProps);break;case 5:qo(a);break;case 3:case 4:var A=kr;kr=Mc(a.stateNode.containerInfo),qo(a),kr=A;break;case 22:a.memoizedState===null&&(A=a.alternate,A!==null&&A.memoizedState!==null?(A=mi,mi=16777216,qo(a),mi=A):qo(a));break;default:qo(a)}}function Sy(a){var A=a.alternate;if(A!==null&&(a=A.child,a!==null)){A.child=null;do A=a.sibling,a.sibling=null,a=A;while(a!==null)}}function gi(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var c=0;c<A.length;c++){var f=A[c];ps=f,Ey(f,a)}Sy(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Qy(a),a=a.sibling}function Qy(a){switch(a.tag){case 0:case 11:case 15:gi(a),a.flags&2048&&Zn(9,a,a.return);break;case 3:gi(a);break;case 12:gi(a);break;case 22:var A=a.stateNode;a.memoizedState!==null&&A._visibility&2&&(a.return===null||a.return.tag!==13)?(A._visibility&=-3,jc(a)):gi(a);break;default:gi(a)}}function jc(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var c=0;c<A.length;c++){var f=A[c];ps=f,Ey(f,a)}Sy(a)}for(a=a.child;a!==null;){switch(A=a,A.tag){case 0:case 11:case 15:Zn(8,A,A.return),jc(A);break;case 22:c=A.stateNode,c._visibility&2&&(c._visibility&=-3,jc(A));break;default:jc(A)}a=a.sibling}}function Ey(a,A){for(;ps!==null;){var c=ps;switch(c.tag){case 0:case 11:case 15:Zn(8,c,A);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ZA(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,ps=f;else e:for(c=a;ps!==null;){f=ps;var g=f.sibling,y=f.return;if(yy(f),f===c){ps=null;break e}if(g!==null){g.return=y,ps=g;break e}ps=y}}}var yN={getCacheForType:function(a){var A=Us(os),c=A.data.get(a);return c===void 0&&(c=a(),A.data.set(a,c)),c}},bN=typeof WeakMap=="function"?WeakMap:Map,dt=0,St=null,Ve=null,We=0,ut=0,sr=null,ta=!1,Zo=!1,gh=!1,yn=0,Vt=0,sa=0,Ja=0,ph=0,mr=0,Jo=0,pi=null,zs=null,xh=!1,vh=0,Nc=1/0,Sc=null,ra=null,js=0,na=null,eA=null,tA=0,yh=0,bh=null,Fy=null,xi=0,wh=null;function rr(){if((dt&2)!==0&&We!==0)return We&-We;if(K.T!==null){var a=Po;return a!==0?a:Eh()}return Ze()}function Uy(){mr===0&&(mr=(We&536870912)===0||ot?$t():536870912);var a=hr.current;return a!==null&&(a.flags|=32),mr}function nr(a,A,c){(a===St&&(ut===2||ut===9)||a.cancelPendingCommit!==null)&&(sA(a,0),aa(a,We,mr,!1)),st(a,c),((dt&2)===0||a!==St)&&(a===St&&((dt&2)===0&&(Ja|=c),Vt===4&&aa(a,We,mr,!1)),Yr(a))}function ky(a,A,c){if((dt&6)!==0)throw Error(n(327));var f=!c&&(A&124)===0&&(A&a.expiredLanes)===0||De(a,A),g=f?CN(a,A):jh(a,A,!0),y=f;do{if(g===0){Zo&&!f&&aa(a,A,0,!1);break}else{if(c=a.current.alternate,y&&!wN(c)){g=jh(a,A,!1),y=!1;continue}if(g===2){if(y=A,a.errorRecoveryDisabledLanes&y)var Q=0;else Q=a.pendingLanes&-536870913,Q=Q!==0?Q:Q&536870912?536870912:0;if(Q!==0){A=Q;e:{var I=a;g=pi;var Y=I.current.memoizedState.isDehydrated;if(Y&&(sA(I,Q).flags|=256),Q=jh(I,Q,!1),Q!==2){if(gh&&!Y){I.errorRecoveryDisabledLanes|=y,Ja|=y,g=4;break e}y=zs,zs=g,y!==null&&(zs===null?zs=y:zs.push.apply(zs,y))}g=Q}if(y=!1,g!==2)continue}}if(g===1){sA(a,0),aa(a,A,0,!0);break}e:{switch(f=a,y=g,y){case 0:case 1:throw Error(n(345));case 4:if((A&4194048)!==A)break;case 6:aa(f,A,mr,!ta);break e;case 2:zs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((A&62914560)===A&&(g=vh+300-ke(),10<g)){if(aa(f,A,mr,!ta),ve(f,0,!0)!==0)break e;f.timeoutHandle=Ab(Dy.bind(null,f,c,zs,Sc,xh,A,mr,Ja,Jo,ta,y,2,-0,0),g);break e}Dy(f,c,zs,Sc,xh,A,mr,Ja,Jo,ta,y,0,-0,0)}}break}while(!0);Yr(a)}function Dy(a,A,c,f,g,y,Q,I,Y,Ae,ue,ge,le,de){if(a.timeoutHandle=-1,ge=A.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(ji={stylesheets:null,count:0,unsuspend:rS},Ny(A),ge=aS(),ge!==null)){a.cancelPendingCommit=ge(_y.bind(null,a,A,y,c,f,g,Q,I,Y,ue,1,le,de)),aa(a,y,Q,!Ae);return}_y(a,A,y,c,f,g,Q,I,Y)}function wN(a){for(var A=a;;){var c=A.tag;if((c===0||c===11||c===15)&&A.flags&16384&&(c=A.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var g=c[f],y=g.getSnapshot;g=g.value;try{if(!Zs(y(),g))return!1}catch{return!1}}if(c=A.child,A.subtreeFlags&16384&&c!==null)c.return=A,A=c;else{if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return!0;A=A.return}A.sibling.return=A.return,A=A.sibling}}return!0}function aa(a,A,c,f){A&=~ph,A&=~Ja,a.suspendedLanes|=A,a.pingedLanes&=~A,f&&(a.warmLanes|=A),f=a.expirationTimes;for(var g=A;0<g;){var y=31-Mt(g),Q=1<<y;f[y]=-1,g&=~Q}c!==0&&Xe(a,c,A)}function Qc(){return(dt&6)===0?(vi(0),!1):!0}function Bh(){if(Ve!==null){if(ut===0)var a=Ve.return;else a=Ve,un=Ya=null,_f(a),Xo=null,li=0,a=Ve;for(;a!==null;)uy(a.alternate,a),a=a.return;Ve=null}}function sA(a,A){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,_N(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Bh(),St=a,Ve=c=ln(a.current,null),We=A,ut=0,sr=null,ta=!1,Zo=De(a,A),gh=!1,Jo=mr=ph=Ja=sa=Vt=0,zs=pi=null,xh=!1,(A&8)!==0&&(A|=A&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=A;0<f;){var g=31-Mt(f),y=1<<g;A|=a[g],f&=~y}return yn=A,Wl(),c}function Iy(a,A){_e=null,K.H=mc,A===ei||A===ac?(A=qx(),ut=3):A===Xx?(A=qx(),ut=4):ut=A===Zv?8:A!==null&&typeof A=="object"&&typeof A.then=="function"?6:1,sr=A,Ve===null&&(Vt=1,yc(a,cr(A,a.current)))}function Ry(){var a=K.H;return K.H=mc,a===null?mc:a}function Ty(){var a=K.A;return K.A=yN,a}function Ch(){Vt=4,ta||(We&4194048)!==We&&hr.current!==null||(Zo=!0),(sa&134217727)===0&&(Ja&134217727)===0||St===null||aa(St,We,mr,!1)}function jh(a,A,c){var f=dt;dt|=2;var g=Ry(),y=Ty();(St!==a||We!==A)&&(Sc=null,sA(a,A)),A=!1;var Q=Vt;e:do try{if(ut!==0&&Ve!==null){var I=Ve,Y=sr;switch(ut){case 8:Bh(),Q=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(A=!0);var Ae=ut;if(ut=0,sr=null,rA(a,I,Y,Ae),c&&Zo){Q=0;break e}break;default:Ae=ut,ut=0,sr=null,rA(a,I,Y,Ae)}}BN(),Q=Vt;break}catch(ue){Iy(a,ue)}while(!0);return A&&a.shellSuspendCounter++,un=Ya=null,dt=f,K.H=g,K.A=y,Ve===null&&(St=null,We=0,Wl()),Q}function BN(){for(;Ve!==null;)My(Ve)}function CN(a,A){var c=dt;dt|=2;var f=Ry(),g=Ty();St!==a||We!==A?(Sc=null,Nc=ke()+500,sA(a,A)):Zo=De(a,A);e:do try{if(ut!==0&&Ve!==null){A=Ve;var y=sr;t:switch(ut){case 1:ut=0,sr=null,rA(a,A,y,1);break;case 2:case 9:if($x(y)){ut=0,sr=null,Hy(A);break}A=function(){ut!==2&&ut!==9||St!==a||(ut=7),Yr(a)},y.then(A,A);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:$x(y)?(ut=0,sr=null,Hy(A)):(ut=0,sr=null,rA(a,A,y,7));break;case 5:var Q=null;switch(Ve.tag){case 26:Q=Ve.memoizedState;case 5:case 27:var I=Ve;if(!Q||vb(Q)){ut=0,sr=null;var Y=I.sibling;if(Y!==null)Ve=Y;else{var Ae=I.return;Ae!==null?(Ve=Ae,Ec(Ae)):Ve=null}break t}}ut=0,sr=null,rA(a,A,y,5);break;case 6:ut=0,sr=null,rA(a,A,y,6);break;case 8:Bh(),Vt=6;break e;default:throw Error(n(462))}}jN();break}catch(ue){Iy(a,ue)}while(!0);return un=Ya=null,K.H=f,K.A=g,dt=c,Ve!==null?0:(St=null,We=0,Wl(),Vt)}function jN(){for(;Ve!==null&&!at();)My(Ve)}function My(a){var A=cy(a.alternate,a,yn);a.memoizedProps=a.pendingProps,A===null?Ec(a):Ve=A}function Hy(a){var A=a,c=A.alternate;switch(A.tag){case 15:case 0:A=ny(c,A,A.pendingProps,A.type,void 0,We);break;case 11:A=ny(c,A,A.pendingProps,A.type.render,A.ref,We);break;case 5:_f(A);default:uy(c,A),A=Ve=Lx(A,yn),A=cy(c,A,yn)}a.memoizedProps=a.pendingProps,A===null?Ec(a):Ve=A}function rA(a,A,c,f){un=Ya=null,_f(A),Xo=null,li=0;var g=A.return;try{if(hN(a,g,A,c,We)){Vt=1,yc(a,cr(c,a.current)),Ve=null;return}}catch(y){if(g!==null)throw Ve=g,y;Vt=1,yc(a,cr(c,a.current)),Ve=null;return}A.flags&32768?(ot||f===1?a=!0:Zo||(We&536870912)!==0?a=!1:(ta=a=!0,(f===2||f===9||f===3||f===6)&&(f=hr.current,f!==null&&f.tag===13&&(f.flags|=16384))),Ly(A,a)):Ec(A)}function Ec(a){var A=a;do{if((A.flags&32768)!==0){Ly(A,ta);return}a=A.return;var c=gN(A.alternate,A,yn);if(c!==null){Ve=c;return}if(A=A.sibling,A!==null){Ve=A;return}Ve=A=a}while(A!==null);Vt===0&&(Vt=5)}function Ly(a,A){do{var c=pN(a.alternate,a);if(c!==null){c.flags&=32767,Ve=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!A&&(a=a.sibling,a!==null)){Ve=a;return}Ve=a=c}while(a!==null);Vt=6,Ve=null}function _y(a,A,c,f,g,y,Q,I,Y){a.cancelPendingCommit=null;do Fc();while(js!==0);if((dt&6)!==0)throw Error(n(327));if(A!==null){if(A===a.current)throw Error(n(177));if(y=A.lanes|A.childLanes,y|=mf,Lt(a,c,y,Q,I,Y),a===St&&(Ve=St=null,We=0),eA=A,na=a,tA=c,yh=y,bh=g,Fy=f,(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,EN(Es,function(){return Vy(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(A.flags&13878)!==0,(A.subtreeFlags&13878)!==0||f){f=K.T,K.T=null,g=J.p,J.p=2,Q=dt,dt|=4;try{xN(a,A,c)}finally{dt=Q,J.p=g,K.T=f}}js=1,Oy(),Py(),Ky()}}function Oy(){if(js===1){js=0;var a=na,A=eA,c=(A.flags&13878)!==0;if((A.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var f=J.p;J.p=2;var g=dt;dt|=4;try{By(A,a);var y=Mh,Q=Ex(a.containerInfo),I=y.focusedElem,Y=y.selectionRange;if(Q!==I&&I&&I.ownerDocument&&Qx(I.ownerDocument.documentElement,I)){if(Y!==null&&cf(I)){var Ae=Y.start,ue=Y.end;if(ue===void 0&&(ue=Ae),"selectionStart"in I)I.selectionStart=Ae,I.selectionEnd=Math.min(ue,I.value.length);else{var ge=I.ownerDocument||document,le=ge&&ge.defaultView||window;if(le.getSelection){var de=le.getSelection(),Ue=I.textContent.length,Qe=Math.min(Y.start,Ue),pt=Y.end===void 0?Qe:Math.min(Y.end,Ue);!de.extend&&Qe>pt&&(Q=pt,pt=Qe,Qe=Q);var se=Sx(I,Qe),ee=Sx(I,pt);if(se&&ee&&(de.rangeCount!==1||de.anchorNode!==se.node||de.anchorOffset!==se.offset||de.focusNode!==ee.node||de.focusOffset!==ee.offset)){var ae=ge.createRange();ae.setStart(se.node,se.offset),de.removeAllRanges(),Qe>pt?(de.addRange(ae),de.extend(ee.node,ee.offset)):(ae.setEnd(ee.node,ee.offset),de.addRange(ae))}}}}for(ge=[],de=I;de=de.parentNode;)de.nodeType===1&&ge.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ge.length;I++){var me=ge[I];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Pc=!!Th,Mh=Th=null}finally{dt=g,J.p=f,K.T=c}}a.current=A,js=2}}function Py(){if(js===2){js=0;var a=na,A=eA,c=(A.flags&8772)!==0;if((A.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var f=J.p;J.p=2;var g=dt;dt|=4;try{vy(a,A.alternate,A)}finally{dt=g,J.p=f,K.T=c}}js=3}}function Ky(){if(js===4||js===3){js=0,Nt();var a=na,A=eA,c=tA,f=Fy;(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?js=5:(js=0,eA=na=null,zy(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(ra=null),Re(c),A=A.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Hs,A,void 0,(A.current.flags&128)===128)}catch{}if(f!==null){A=K.T,g=J.p,J.p=2,K.T=null;try{for(var y=a.onRecoverableError,Q=0;Q<f.length;Q++){var I=f[Q];y(I.value,{componentStack:I.stack})}}finally{K.T=A,J.p=g}}(tA&3)!==0&&Fc(),Yr(a),g=a.pendingLanes,(c&4194090)!==0&&(g&42)!==0?a===wh?xi++:(xi=0,wh=a):xi=0,vi(0)}}function zy(a,A){(a.pooledCacheLanes&=A)===0&&(A=a.pooledCache,A!=null&&(a.pooledCache=null,ZA(A)))}function Fc(a){return Oy(),Py(),Ky(),Vy()}function Vy(){if(js!==5)return!1;var a=na,A=yh;yh=0;var c=Re(tA),f=K.T,g=J.p;try{J.p=32>c?32:c,K.T=null,c=bh,bh=null;var y=na,Q=tA;if(js=0,eA=na=null,tA=0,(dt&6)!==0)throw Error(n(331));var I=dt;if(dt|=4,Qy(y.current),jy(y,y.current,Q,c),dt=I,vi(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Hs,y)}catch{}return!0}finally{J.p=g,K.T=f,zy(a,A)}}function Gy(a,A,c){A=cr(c,A),A=eh(a.stateNode,A,2),a=Xn(a,A,2),a!==null&&(st(a,2),Yr(a))}function wt(a,A,c){if(a.tag===3)Gy(a,a,c);else for(;A!==null;){if(A.tag===3){Gy(A,a,c);break}else if(A.tag===1){var f=A.stateNode;if(typeof A.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ra===null||!ra.has(f))){a=cr(c,a),c=Wv(2),f=Xn(A,c,2),f!==null&&(qv(c,f,A,a),st(f,2),Yr(f));break}}A=A.return}}function Nh(a,A,c){var f=a.pingCache;if(f===null){f=a.pingCache=new bN;var g=new Set;f.set(A,g)}else g=f.get(A),g===void 0&&(g=new Set,f.set(A,g));g.has(c)||(gh=!0,g.add(c),a=NN.bind(null,a,A,c),A.then(a,a))}function NN(a,A,c){var f=a.pingCache;f!==null&&f.delete(A),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,St===a&&(We&c)===c&&(Vt===4||Vt===3&&(We&62914560)===We&&300>ke()-vh?(dt&2)===0&&sA(a,0):ph|=c,Jo===We&&(Jo=0)),Yr(a)}function Yy(a,A){A===0&&(A=yt()),a=Ho(a,A),a!==null&&(st(a,A),Yr(a))}function SN(a){var A=a.memoizedState,c=0;A!==null&&(c=A.retryLane),Yy(a,c)}function QN(a,A){var c=0;switch(a.tag){case 13:var f=a.stateNode,g=a.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(A),Yy(a,c)}function EN(a,A){return pe(a,A)}var Uc=null,nA=null,Sh=!1,kc=!1,Qh=!1,eo=0;function Yr(a){a!==nA&&a.next===null&&(nA===null?Uc=nA=a:nA=nA.next=a),kc=!0,Sh||(Sh=!0,UN())}function vi(a,A){if(!Qh&&kc){Qh=!0;do for(var c=!1,f=Uc;f!==null;){if(a!==0){var g=f.pendingLanes;if(g===0)var y=0;else{var Q=f.suspendedLanes,I=f.pingedLanes;y=(1<<31-Mt(42|a)+1)-1,y&=g&~(Q&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,qy(f,y))}else y=We,y=ve(f,f===St?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||De(f,y)||(c=!0,qy(f,y));f=f.next}while(c);Qh=!1}}function FN(){Xy()}function Xy(){kc=Sh=!1;var a=0;eo!==0&&(LN()&&(a=eo),eo=0);for(var A=ke(),c=null,f=Uc;f!==null;){var g=f.next,y=$y(f,A);y===0?(f.next=null,c===null?Uc=g:c.next=g,g===null&&(nA=c)):(c=f,(a!==0||(y&3)!==0)&&(kc=!0)),f=g}vi(a)}function $y(a,A){for(var c=a.suspendedLanes,f=a.pingedLanes,g=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var Q=31-Mt(y),I=1<<Q,Y=g[Q];Y===-1?((I&c)===0||(I&f)!==0)&&(g[Q]=Ke(I,A)):Y<=A&&(a.expiredLanes|=I),y&=~I}if(A=St,c=We,c=ve(a,a===A?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===A&&(ut===2||ut===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Ne(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||De(a,c)){if(A=c&-c,A===a.callbackPriority)return A;switch(f!==null&&Ne(f),Re(c)){case 2:case 8:c=hs;break;case 32:c=Es;break;case 268435456:c=Pn;break;default:c=Es}return f=Wy.bind(null,a),c=pe(c,f),a.callbackPriority=A,a.callbackNode=c,A}return f!==null&&f!==null&&Ne(f),a.callbackPriority=2,a.callbackNode=null,2}function Wy(a,A){if(js!==0&&js!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Fc()&&a.callbackNode!==c)return null;var f=We;return f=ve(a,a===St?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(ky(a,f,A),$y(a,ke()),a.callbackNode!=null&&a.callbackNode===c?Wy.bind(null,a):null)}function qy(a,A){if(Fc())return null;ky(a,A,!0)}function UN(){ON(function(){(dt&6)!==0?pe(Rt,FN):Xy()})}function Eh(){return eo===0&&(eo=$t()),eo}function Zy(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Kl(""+a)}function Jy(a,A){var c=A.ownerDocument.createElement("input");return c.name=A.name,c.value=A.value,a.id&&c.setAttribute("form",a.id),A.parentNode.insertBefore(c,A),a=new FormData(a),c.parentNode.removeChild(c),a}function kN(a,A,c,f,g){if(A==="submit"&&c&&c.stateNode===g){var y=Zy((g[$e]||null).action),Q=f.submitter;Q&&(A=(A=Q[$e]||null)?Zy(A.formAction):Q.getAttribute("formAction"),A!==null&&(y=A,Q=null));var I=new Yl("action","action",null,f,g);a.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(eo!==0){var Y=Q?Jy(g,Q):new FormData(g);$f(c,{pending:!0,data:Y,method:g.method,action:y},null,Y)}}else typeof y=="function"&&(I.preventDefault(),Y=Q?Jy(g,Q):new FormData(g),$f(c,{pending:!0,data:Y,method:g.method,action:y},y,Y))},currentTarget:g}]})}}for(var Fh=0;Fh<hf.length;Fh++){var Uh=hf[Fh],DN=Uh.toLowerCase(),IN=Uh[0].toUpperCase()+Uh.slice(1);Ur(DN,"on"+IN)}Ur(kx,"onAnimationEnd"),Ur(Dx,"onAnimationIteration"),Ur(Ix,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(q2,"onTransitionRun"),Ur(Z2,"onTransitionStart"),Ur(J2,"onTransitionCancel"),Ur(Rx,"onTransitionEnd"),Qo("onMouseEnter",["mouseout","mouseover"]),Qo("onMouseLeave",["mouseout","mouseover"]),Qo("onPointerEnter",["pointerout","pointerover"]),Qo("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yi));function eb(a,A){A=(A&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],g=f.event;f=f.listeners;e:{var y=void 0;if(A)for(var Q=f.length-1;0<=Q;Q--){var I=f[Q],Y=I.instance,Ae=I.currentTarget;if(I=I.listener,Y!==y&&g.isPropagationStopped())break e;y=I,g.currentTarget=Ae;try{y(g)}catch(ue){vc(ue)}g.currentTarget=null,y=Y}else for(Q=0;Q<f.length;Q++){if(I=f[Q],Y=I.instance,Ae=I.currentTarget,I=I.listener,Y!==y&&g.isPropagationStopped())break e;y=I,g.currentTarget=Ae;try{y(g)}catch(ue){vc(ue)}g.currentTarget=null,y=Y}}}}function Ge(a,A){var c=A[Wt];c===void 0&&(c=A[Wt]=new Set);var f=a+"__bubble";c.has(f)||(tb(A,a,2,!1),c.add(f))}function kh(a,A,c){var f=0;A&&(f|=4),tb(c,a,f,A)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Dh(a){if(!a[Dc]){a[Dc]=!0,Xp.forEach(function(c){c!=="selectionchange"&&(RN.has(c)||kh(c,!1,a),kh(c,!0,a))});var A=a.nodeType===9?a:a.ownerDocument;A===null||A[Dc]||(A[Dc]=!0,kh("selectionchange",!1,A))}}function tb(a,A,c,f){switch(jb(A)){case 2:var g=iS;break;case 8:g=lS;break;default:g=Yh}c=g.bind(null,A,c,a),g=void 0,!ef||A!=="touchstart"&&A!=="touchmove"&&A!=="wheel"||(g=!0),f?g!==void 0?a.addEventListener(A,c,{capture:!0,passive:g}):a.addEventListener(A,c,!0):g!==void 0?a.addEventListener(A,c,{passive:g}):a.addEventListener(A,c,!1)}function Ih(a,A,c,f,g){var y=f;if((A&1)===0&&(A&2)===0&&f!==null)e:for(;;){if(f===null)return;var Q=f.tag;if(Q===3||Q===4){var I=f.stateNode.containerInfo;if(I===g)break;if(Q===4)for(Q=f.return;Q!==null;){var Y=Q.tag;if((Y===3||Y===4)&&Q.stateNode.containerInfo===g)return;Q=Q.return}for(;I!==null;){if(Q=jo(I),Q===null)return;if(Y=Q.tag,Y===5||Y===6||Y===26||Y===27){f=y=Q;continue e}I=I.parentNode}}f=f.return}ix(function(){var Ae=y,ue=Zu(c),ge=[];e:{var le=Tx.get(a);if(le!==void 0){var de=Yl,Ue=a;switch(a){case"keypress":if(Vl(c)===0)break e;case"keydown":case"keyup":de=E2;break;case"focusin":Ue="focus",de=nf;break;case"focusout":Ue="blur",de=nf;break;case"beforeblur":case"afterblur":de=nf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=dx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=p2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=k2;break;case kx:case Dx:case Ix:de=y2;break;case Rx:de=I2;break;case"scroll":case"scrollend":de=m2;break;case"wheel":de=T2;break;case"copy":case"cut":case"paste":de=w2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=fx;break;case"toggle":case"beforetoggle":de=H2}var Qe=(A&4)!==0,pt=!Qe&&(a==="scroll"||a==="scrollend"),se=Qe?le!==null?le+"Capture":null:le;Qe=[];for(var ee=Ae,ae;ee!==null;){var me=ee;if(ae=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ae===null||se===null||(me=LA(ee,se),me!=null&&Qe.push(bi(ee,me,ae))),pt)break;ee=ee.return}0<Qe.length&&(le=new de(le,Ue,null,c,ue),ge.push({event:le,listeners:Qe}))}}if((A&7)===0){e:{if(le=a==="mouseover"||a==="pointerover",de=a==="mouseout"||a==="pointerout",le&&c!==qu&&(Ue=c.relatedTarget||c.fromElement)&&(jo(Ue)||Ue[bt]))break e;if((de||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,de?(Ue=c.relatedTarget||c.toElement,de=Ae,Ue=Ue?jo(Ue):null,Ue!==null&&(pt=i(Ue),Qe=Ue.tag,Ue!==pt||Qe!==5&&Qe!==27&&Qe!==6)&&(Ue=null)):(de=null,Ue=Ae),de!==Ue)){if(Qe=dx,me="onMouseLeave",se="onMouseEnter",ee="mouse",(a==="pointerout"||a==="pointerover")&&(Qe=fx,me="onPointerLeave",se="onPointerEnter",ee="pointer"),pt=de==null?le:HA(de),ae=Ue==null?le:HA(Ue),le=new Qe(me,ee+"leave",de,c,ue),le.target=pt,le.relatedTarget=ae,me=null,jo(ue)===Ae&&(Qe=new Qe(se,ee+"enter",Ue,c,ue),Qe.target=ae,Qe.relatedTarget=pt,me=Qe),pt=me,de&&Ue)t:{for(Qe=de,se=Ue,ee=0,ae=Qe;ae;ae=aA(ae))ee++;for(ae=0,me=se;me;me=aA(me))ae++;for(;0<ee-ae;)Qe=aA(Qe),ee--;for(;0<ae-ee;)se=aA(se),ae--;for(;ee--;){if(Qe===se||se!==null&&Qe===se.alternate)break t;Qe=aA(Qe),se=aA(se)}Qe=null}else Qe=null;de!==null&&sb(ge,le,de,Qe,!1),Ue!==null&&pt!==null&&sb(ge,pt,Ue,Qe,!0)}}e:{if(le=Ae?HA(Ae):window,de=le.nodeName&&le.nodeName.toLowerCase(),de==="select"||de==="input"&&le.type==="file")var we=bx;else if(vx(le))if(wx)we=X2;else{we=G2;var ze=V2}else de=le.nodeName,!de||de.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?Ae&&Wu(Ae.elementType)&&(we=bx):we=Y2;if(we&&(we=we(a,Ae))){yx(ge,we,c,ue);break e}ze&&ze(a,le,Ae),a==="focusout"&&Ae&&le.type==="number"&&Ae.memoizedProps.value!=null&&$u(le,"number",le.value)}switch(ze=Ae?HA(Ae):window,a){case"focusin":(vx(ze)||ze.contentEditable==="true")&&(Ro=ze,df=Ae,YA=null);break;case"focusout":YA=df=Ro=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,Fx(ge,c,ue);break;case"selectionchange":if(W2)break;case"keydown":case"keyup":Fx(ge,c,ue)}var Se;if(of)e:{switch(a){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Io?px(a,c)&&(Ee="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ee="onCompositionStart");Ee&&(hx&&c.locale!=="ko"&&(Io||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Io&&(Se=lx()):(zn=ue,tf="value"in zn?zn.value:zn.textContent,Io=!0)),ze=Ic(Ae,Ee),0<ze.length&&(Ee=new ux(Ee,a,null,c,ue),ge.push({event:Ee,listeners:ze}),Se?Ee.data=Se:(Se=xx(c),Se!==null&&(Ee.data=Se)))),(Se=_2?O2(a,c):P2(a,c))&&(Ee=Ic(Ae,"onBeforeInput"),0<Ee.length&&(ze=new ux("onBeforeInput","beforeinput",null,c,ue),ge.push({event:ze,listeners:Ee}),ze.data=Se)),kN(ge,a,Ae,c,ue)}eb(ge,A)})}function bi(a,A,c){return{instance:a,listener:A,currentTarget:c}}function Ic(a,A){for(var c=A+"Capture",f=[];a!==null;){var g=a,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=LA(a,c),g!=null&&f.unshift(bi(a,g,y)),g=LA(a,A),g!=null&&f.push(bi(a,g,y))),a.tag===3)return f;a=a.return}return[]}function aA(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function sb(a,A,c,f,g){for(var y=A._reactName,Q=[];c!==null&&c!==f;){var I=c,Y=I.alternate,Ae=I.stateNode;if(I=I.tag,Y!==null&&Y===f)break;I!==5&&I!==26&&I!==27||Ae===null||(Y=Ae,g?(Ae=LA(c,y),Ae!=null&&Q.unshift(bi(c,Ae,Y))):g||(Ae=LA(c,y),Ae!=null&&Q.push(bi(c,Ae,Y)))),c=c.return}Q.length!==0&&a.push({event:A,listeners:Q})}var TN=/\r\n?/g,MN=/\u0000|\uFFFD/g;function rb(a){return(typeof a=="string"?a:""+a).replace(TN,`
`).replace(MN,"")}function nb(a,A){return A=rb(A),rb(a)===A}function Rc(){}function gt(a,A,c,f,g,y){switch(c){case"children":typeof f=="string"?A==="body"||A==="textarea"&&f===""||Uo(a,f):(typeof f=="number"||typeof f=="bigint")&&A!=="body"&&Uo(a,""+f);break;case"className":_l(a,"class",f);break;case"tabIndex":_l(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":_l(a,c,f);break;case"style":ox(a,f,y);break;case"data":if(A!=="object"){_l(a,"data",f);break}case"src":case"href":if(f===""&&(A!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Kl(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(A!=="input"&&gt(a,A,"name",g.name,g,null),gt(a,A,"formEncType",g.formEncType,g,null),gt(a,A,"formMethod",g.formMethod,g,null),gt(a,A,"formTarget",g.formTarget,g,null)):(gt(a,A,"encType",g.encType,g,null),gt(a,A,"method",g.method,g,null),gt(a,A,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Kl(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=Rc);break;case"onScroll":f!=null&&Ge("scroll",a);break;case"onScrollEnd":f!=null&&Ge("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(g.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=Kl(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":Ge("beforetoggle",a),Ge("toggle",a),Ll(a,"popover",f);break;case"xlinkActuate":on(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":on(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":on(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":on(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":on(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":on(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":on(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":on(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":on(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ll(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=f2.get(c)||c,Ll(a,c,f))}}function Rh(a,A,c,f,g,y){switch(c){case"style":ox(a,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(g.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"children":typeof f=="string"?Uo(a,f):(typeof f=="number"||typeof f=="bigint")&&Uo(a,""+f);break;case"onScroll":f!=null&&Ge("scroll",a);break;case"onScrollEnd":f!=null&&Ge("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$p.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),A=c.slice(2,g?c.length-7:void 0),y=a[$e]||null,y=y!=null?y[c]:null,typeof y=="function"&&a.removeEventListener(A,y,g),typeof f=="function")){typeof y!="function"&&y!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(A,f,g);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):Ll(a,c,f)}}}function Ns(a,A,c){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",a),Ge("load",a);var f=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var Q=c[y];if(Q!=null)switch(y){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:gt(a,A,y,Q,c,null)}}g&&gt(a,A,"srcSet",c.srcSet,c,null),f&&gt(a,A,"src",c.src,c,null);return;case"input":Ge("invalid",a);var I=y=Q=g=null,Y=null,Ae=null;for(f in c)if(c.hasOwnProperty(f)){var ue=c[f];if(ue!=null)switch(f){case"name":g=ue;break;case"type":Q=ue;break;case"checked":Y=ue;break;case"defaultChecked":Ae=ue;break;case"value":y=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,A));break;default:gt(a,A,f,ue,c,null)}}sx(a,y,I,Y,Ae,Q,g,!1),Ol(a);return;case"select":Ge("invalid",a),f=Q=y=null;for(g in c)if(c.hasOwnProperty(g)&&(I=c[g],I!=null))switch(g){case"value":y=I;break;case"defaultValue":Q=I;break;case"multiple":f=I;default:gt(a,A,g,I,c,null)}A=y,c=Q,a.multiple=!!f,A!=null?Fo(a,!!f,A,!1):c!=null&&Fo(a,!!f,c,!0);return;case"textarea":Ge("invalid",a),y=g=f=null;for(Q in c)if(c.hasOwnProperty(Q)&&(I=c[Q],I!=null))switch(Q){case"value":f=I;break;case"defaultValue":g=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:gt(a,A,Q,I,c,null)}nx(a,f,g,y),Ol(a);return;case"option":for(Y in c)if(c.hasOwnProperty(Y)&&(f=c[Y],f!=null))switch(Y){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:gt(a,A,Y,f,c,null)}return;case"dialog":Ge("beforetoggle",a),Ge("toggle",a),Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":Ge("load",a);break;case"video":case"audio":for(f=0;f<yi.length;f++)Ge(yi[f],a);break;case"image":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"embed":case"source":case"link":Ge("error",a),Ge("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in c)if(c.hasOwnProperty(Ae)&&(f=c[Ae],f!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:gt(a,A,Ae,f,c,null)}return;default:if(Wu(A)){for(ue in c)c.hasOwnProperty(ue)&&(f=c[ue],f!==void 0&&Rh(a,A,ue,f,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(f=c[I],f!=null&&gt(a,A,I,f,c,null))}function HN(a,A,c,f){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,Q=null,I=null,Y=null,Ae=null,ue=null;for(de in c){var ge=c[de];if(c.hasOwnProperty(de)&&ge!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":Y=ge;default:f.hasOwnProperty(de)||gt(a,A,de,null,f,ge)}}for(var le in f){var de=f[le];if(ge=c[le],f.hasOwnProperty(le)&&(de!=null||ge!=null))switch(le){case"type":y=de;break;case"name":g=de;break;case"checked":Ae=de;break;case"defaultChecked":ue=de;break;case"value":Q=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,A));break;default:de!==ge&&gt(a,A,le,de,f,ge)}}Xu(a,Q,I,Y,Ae,ue,y,g);return;case"select":de=Q=I=le=null;for(y in c)if(Y=c[y],c.hasOwnProperty(y)&&Y!=null)switch(y){case"value":break;case"multiple":de=Y;default:f.hasOwnProperty(y)||gt(a,A,y,null,f,Y)}for(g in f)if(y=f[g],Y=c[g],f.hasOwnProperty(g)&&(y!=null||Y!=null))switch(g){case"value":le=y;break;case"defaultValue":I=y;break;case"multiple":Q=y;default:y!==Y&&gt(a,A,g,y,f,Y)}A=I,c=Q,f=de,le!=null?Fo(a,!!c,le,!1):!!f!=!!c&&(A!=null?Fo(a,!!c,A,!0):Fo(a,!!c,c?[]:"",!1));return;case"textarea":de=le=null;for(I in c)if(g=c[I],c.hasOwnProperty(I)&&g!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:gt(a,A,I,null,f,g)}for(Q in f)if(g=f[Q],y=c[Q],f.hasOwnProperty(Q)&&(g!=null||y!=null))switch(Q){case"value":le=g;break;case"defaultValue":de=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==y&&gt(a,A,Q,g,f,y)}rx(a,le,de);return;case"option":for(var Ue in c)if(le=c[Ue],c.hasOwnProperty(Ue)&&le!=null&&!f.hasOwnProperty(Ue))switch(Ue){case"selected":a.selected=!1;break;default:gt(a,A,Ue,null,f,le)}for(Y in f)if(le=f[Y],de=c[Y],f.hasOwnProperty(Y)&&le!==de&&(le!=null||de!=null))switch(Y){case"selected":a.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:gt(a,A,Y,le,f,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in c)le=c[Qe],c.hasOwnProperty(Qe)&&le!=null&&!f.hasOwnProperty(Qe)&&gt(a,A,Qe,null,f,le);for(Ae in f)if(le=f[Ae],de=c[Ae],f.hasOwnProperty(Ae)&&le!==de&&(le!=null||de!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,A));break;default:gt(a,A,Ae,le,f,de)}return;default:if(Wu(A)){for(var pt in c)le=c[pt],c.hasOwnProperty(pt)&&le!==void 0&&!f.hasOwnProperty(pt)&&Rh(a,A,pt,void 0,f,le);for(ue in f)le=f[ue],de=c[ue],!f.hasOwnProperty(ue)||le===de||le===void 0&&de===void 0||Rh(a,A,ue,le,f,de);return}}for(var se in c)le=c[se],c.hasOwnProperty(se)&&le!=null&&!f.hasOwnProperty(se)&&gt(a,A,se,null,f,le);for(ge in f)le=f[ge],de=c[ge],!f.hasOwnProperty(ge)||le===de||le==null&&de==null||gt(a,A,ge,le,f,de)}var Th=null,Mh=null;function Tc(a){return a.nodeType===9?a:a.ownerDocument}function ab(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ob(a,A){if(a===0)switch(A){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&A==="foreignObject"?0:a}function Hh(a,A){return a==="textarea"||a==="noscript"||typeof A.children=="string"||typeof A.children=="number"||typeof A.children=="bigint"||typeof A.dangerouslySetInnerHTML=="object"&&A.dangerouslySetInnerHTML!==null&&A.dangerouslySetInnerHTML.__html!=null}var Lh=null;function LN(){var a=window.event;return a&&a.type==="popstate"?a===Lh?!1:(Lh=a,!0):(Lh=null,!1)}var Ab=typeof setTimeout=="function"?setTimeout:void 0,_N=typeof clearTimeout=="function"?clearTimeout:void 0,ib=typeof Promise=="function"?Promise:void 0,ON=typeof queueMicrotask=="function"?queueMicrotask:typeof ib<"u"?function(a){return ib.resolve(null).then(a).catch(PN)}:Ab;function PN(a){setTimeout(function(){throw a})}function oa(a){return a==="head"}function lb(a,A){var c=A,f=0,g=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<f&&8>f){c=f;var Q=a.ownerDocument;if(c&1&&wi(Q.documentElement),c&2&&wi(Q.body),c&4)for(c=Q.head,wi(c),Q=c.firstChild;Q;){var I=Q.nextSibling,Y=Q.nodeName;Q[an]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&Q.rel.toLowerCase()==="stylesheet"||c.removeChild(Q),Q=I}}if(g===0){a.removeChild(y),Fi(A);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:f=c.charCodeAt(0)-48;else f=0;c=y}while(c);Fi(A)}function _h(a){var A=a.firstChild;for(A&&A.nodeType===10&&(A=A.nextSibling);A;){var c=A;switch(A=A.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":_h(c),zu(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function KN(a,A,c,f){for(;a.nodeType===1;){var g=c;if(a.nodeName.toLowerCase()!==A.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[an])switch(A){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(A==="input"&&a.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=Dr(a.nextSibling),a===null)break}return null}function zN(a,A,c){if(A==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Dr(a.nextSibling),a===null))return null;return a}function Oh(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function VN(a,A){var c=a.ownerDocument;if(a.data!=="$?"||c.readyState==="complete")A();else{var f=function(){A(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Dr(a){for(;a!=null;a=a.nextSibling){var A=a.nodeType;if(A===1||A===3)break;if(A===8){if(A=a.data,A==="$"||A==="$!"||A==="$?"||A==="F!"||A==="F")break;if(A==="/$")return null}}return a}var Ph=null;function cb(a){a=a.previousSibling;for(var A=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(A===0)return a;A--}else c==="/$"&&A++}a=a.previousSibling}return null}function db(a,A,c){switch(A=Tc(c),a){case"html":if(a=A.documentElement,!a)throw Error(n(452));return a;case"head":if(a=A.head,!a)throw Error(n(453));return a;case"body":if(a=A.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function wi(a){for(var A=a.attributes;A.length;)a.removeAttributeNode(A[0]);zu(a)}var gr=new Map,ub=new Set;function Mc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var bn=J.d;J.d={f:GN,r:YN,D:XN,C:$N,L:WN,m:qN,X:JN,S:ZN,M:eS};function GN(){var a=bn.f(),A=Qc();return a||A}function YN(a){var A=No(a);A!==null&&A.tag===5&&A.type==="form"?kv(A):bn.r(a)}var oA=typeof document>"u"?null:document;function fb(a,A,c){var f=oA;if(f&&typeof A=="string"&&A){var g=lr(A);g='link[rel="'+a+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),ub.has(g)||(ub.add(g),a={rel:a,crossOrigin:c,href:A},f.querySelector(g)===null&&(A=f.createElement("link"),Ns(A,"link",a),ms(A),f.head.appendChild(A)))}}function XN(a){bn.D(a),fb("dns-prefetch",a,null)}function $N(a,A){bn.C(a,A),fb("preconnect",a,A)}function WN(a,A,c){bn.L(a,A,c);var f=oA;if(f&&a&&A){var g='link[rel="preload"][as="'+lr(A)+'"]';A==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+lr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+lr(c.imageSizes)+'"]')):g+='[href="'+lr(a)+'"]';var y=g;switch(A){case"style":y=AA(a);break;case"script":y=iA(a)}gr.has(y)||(a=m({rel:"preload",href:A==="image"&&c&&c.imageSrcSet?void 0:a,as:A},c),gr.set(y,a),f.querySelector(g)!==null||A==="style"&&f.querySelector(Bi(y))||A==="script"&&f.querySelector(Ci(y))||(A=f.createElement("link"),Ns(A,"link",a),ms(A),f.head.appendChild(A)))}}function qN(a,A){bn.m(a,A);var c=oA;if(c&&a){var f=A&&typeof A.as=="string"?A.as:"script",g='link[rel="modulepreload"][as="'+lr(f)+'"][href="'+lr(a)+'"]',y=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=iA(a)}if(!gr.has(y)&&(a=m({rel:"modulepreload",href:a},A),gr.set(y,a),c.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ci(y)))return}f=c.createElement("link"),Ns(f,"link",a),ms(f),c.head.appendChild(f)}}}function ZN(a,A,c){bn.S(a,A,c);var f=oA;if(f&&a){var g=So(f).hoistableStyles,y=AA(a);A=A||"default";var Q=g.get(y);if(!Q){var I={loading:0,preload:null};if(Q=f.querySelector(Bi(y)))I.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":A},c),(c=gr.get(y))&&Kh(a,c);var Y=Q=f.createElement("link");ms(Y),Ns(Y,"link",a),Y._p=new Promise(function(Ae,ue){Y.onload=Ae,Y.onerror=ue}),Y.addEventListener("load",function(){I.loading|=1}),Y.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Hc(Q,A,f)}Q={type:"stylesheet",instance:Q,count:1,state:I},g.set(y,Q)}}}function JN(a,A){bn.X(a,A);var c=oA;if(c&&a){var f=So(c).hoistableScripts,g=iA(a),y=f.get(g);y||(y=c.querySelector(Ci(g)),y||(a=m({src:a,async:!0},A),(A=gr.get(g))&&zh(a,A),y=c.createElement("script"),ms(y),Ns(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(g,y))}}function eS(a,A){bn.M(a,A);var c=oA;if(c&&a){var f=So(c).hoistableScripts,g=iA(a),y=f.get(g);y||(y=c.querySelector(Ci(g)),y||(a=m({src:a,async:!0,type:"module"},A),(A=gr.get(g))&&zh(a,A),y=c.createElement("script"),ms(y),Ns(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(g,y))}}function hb(a,A,c,f){var g=(g=re.current)?Mc(g):null;if(!g)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(A=AA(c.href),c=So(g).hoistableStyles,f=c.get(A),f||(f={type:"style",instance:null,count:0,state:null},c.set(A,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=AA(c.href);var y=So(g).hoistableStyles,Q=y.get(a);if(Q||(g=g.ownerDocument||g,Q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,Q),(y=g.querySelector(Bi(a)))&&!y._p&&(Q.instance=y,Q.state.loading=5),gr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},gr.set(a,c),y||tS(g,a,c,Q.state))),A&&f===null)throw Error(n(528,""));return Q}if(A&&f!==null)throw Error(n(529,""));return null;case"script":return A=c.async,c=c.src,typeof c=="string"&&A&&typeof A!="function"&&typeof A!="symbol"?(A=iA(c),c=So(g).hoistableScripts,f=c.get(A),f||(f={type:"script",instance:null,count:0,state:null},c.set(A,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function AA(a){return'href="'+lr(a)+'"'}function Bi(a){return'link[rel="stylesheet"]['+a+"]"}function mb(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function tS(a,A,c,f){a.querySelector('link[rel="preload"][as="style"]['+A+"]")?f.loading=1:(A=a.createElement("link"),f.preload=A,A.addEventListener("load",function(){return f.loading|=1}),A.addEventListener("error",function(){return f.loading|=2}),Ns(A,"link",c),ms(A),a.head.appendChild(A))}function iA(a){return'[src="'+lr(a)+'"]'}function Ci(a){return"script[async]"+a}function gb(a,A,c){if(A.count++,A.instance===null)switch(A.type){case"style":var f=a.querySelector('style[data-href~="'+lr(c.href)+'"]');if(f)return A.instance=f,ms(f),f;var g=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),ms(f),Ns(f,"style",g),Hc(f,c.precedence,a),A.instance=f;case"stylesheet":g=AA(c.href);var y=a.querySelector(Bi(g));if(y)return A.state.loading|=4,A.instance=y,ms(y),y;f=mb(c),(g=gr.get(g))&&Kh(f,g),y=(a.ownerDocument||a).createElement("link"),ms(y);var Q=y;return Q._p=new Promise(function(I,Y){Q.onload=I,Q.onerror=Y}),Ns(y,"link",f),A.state.loading|=4,Hc(y,c.precedence,a),A.instance=y;case"script":return y=iA(c.src),(g=a.querySelector(Ci(y)))?(A.instance=g,ms(g),g):(f=c,(g=gr.get(y))&&(f=m({},c),zh(f,g)),a=a.ownerDocument||a,g=a.createElement("script"),ms(g),Ns(g,"link",f),a.head.appendChild(g),A.instance=g);case"void":return null;default:throw Error(n(443,A.type))}else A.type==="stylesheet"&&(A.state.loading&4)===0&&(f=A.instance,A.state.loading|=4,Hc(f,c.precedence,a));return A.instance}function Hc(a,A,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,y=g,Q=0;Q<f.length;Q++){var I=f[Q];if(I.dataset.precedence===A)y=I;else if(y!==g)break}y?y.parentNode.insertBefore(a,y.nextSibling):(A=c.nodeType===9?c.head:c,A.insertBefore(a,A.firstChild))}function Kh(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.title==null&&(a.title=A.title)}function zh(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.integrity==null&&(a.integrity=A.integrity)}var Lc=null;function pb(a,A,c){if(Lc===null){var f=new Map,g=Lc=new Map;g.set(c,f)}else g=Lc,f=g.get(c),f||(f=new Map,g.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),g=0;g<c.length;g++){var y=c[g];if(!(y[an]||y[Je]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var Q=y.getAttribute(A)||"";Q=a+Q;var I=f.get(Q);I?I.push(y):f.set(Q,[y])}}return f}function xb(a,A,c){a=a.ownerDocument||a,a.head.insertBefore(c,A==="title"?a.querySelector("head > title"):null)}function sS(a,A,c){if(c===1||A.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof A.precedence!="string"||typeof A.href!="string"||A.href==="")break;return!0;case"link":if(typeof A.rel!="string"||typeof A.href!="string"||A.href===""||A.onLoad||A.onError)break;switch(A.rel){case"stylesheet":return a=A.disabled,typeof A.precedence=="string"&&a==null;default:return!0}case"script":if(A.async&&typeof A.async!="function"&&typeof A.async!="symbol"&&!A.onLoad&&!A.onError&&A.src&&typeof A.src=="string")return!0}return!1}function vb(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var ji=null;function rS(){}function nS(a,A,c){if(ji===null)throw Error(n(475));var f=ji;if(A.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(A.state.loading&4)===0){if(A.instance===null){var g=AA(c.href),y=a.querySelector(Bi(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=_c.bind(f),a.then(f,f)),A.state.loading|=4,A.instance=y,ms(y);return}y=a.ownerDocument||a,c=mb(c),(g=gr.get(g))&&Kh(c,g),y=y.createElement("link"),ms(y);var Q=y;Q._p=new Promise(function(I,Y){Q.onload=I,Q.onerror=Y}),Ns(y,"link",c),A.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(A,a),(a=A.state.preload)&&(A.state.loading&3)===0&&(f.count++,A=_c.bind(f),a.addEventListener("load",A),a.addEventListener("error",A))}}function aS(){if(ji===null)throw Error(n(475));var a=ji;return a.stylesheets&&a.count===0&&Vh(a,a.stylesheets),0<a.count?function(A){var c=setTimeout(function(){if(a.stylesheets&&Vh(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=A,function(){a.unsuspend=null,clearTimeout(c)}}:null}function _c(){if(this.count--,this.count===0){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Oc=null;function Vh(a,A){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Oc=new Map,A.forEach(oS,a),Oc=null,_c.call(a))}function oS(a,A){if(!(A.state.loading&4)){var c=Oc.get(a);if(c)var f=c.get(null);else{c=new Map,Oc.set(a,c);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var Q=g[y];(Q.nodeName==="LINK"||Q.getAttribute("media")!=="not all")&&(c.set(Q.dataset.precedence,Q),f=Q)}f&&c.set(null,f)}g=A.instance,Q=g.getAttribute("data-precedence"),y=c.get(Q)||f,y===f&&c.set(null,g),c.set(Q,g),this.count++,f=_c.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),y?y.parentNode.insertBefore(g,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),A.state.loading|=4}}var Ni={$$typeof:D,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function AS(a,A,c,f,g,y,Q,I){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.hiddenUpdates=Ht(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=Q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function yb(a,A,c,f,g,y,Q,I,Y,Ae,ue,ge){return a=new AS(a,A,c,Q,I,Y,Ae,ge),A=1,y===!0&&(A|=24),y=Js(3,null,null,A),a.current=y,y.stateNode=a,A=Nf(),A.refCount++,a.pooledCache=A,A.refCount++,y.memoizedState={element:f,isDehydrated:c,cache:A},Ff(y),a}function bb(a){return a?(a=Lo,a):Lo}function wb(a,A,c,f,g,y){g=bb(g),f.context===null?f.context=g:f.pendingContext=g,f=Yn(A),f.payload={element:c},y=y===void 0?null:y,y!==null&&(f.callback=y),c=Xn(a,f,A),c!==null&&(nr(c,a,A),si(c,a,A))}function Bb(a,A){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<A?c:A}}function Gh(a,A){Bb(a,A),(a=a.alternate)&&Bb(a,A)}function Cb(a){if(a.tag===13){var A=Ho(a,67108864);A!==null&&nr(A,a,67108864),Gh(a,67108864)}}var Pc=!0;function iS(a,A,c,f){var g=K.T;K.T=null;var y=J.p;try{J.p=2,Yh(a,A,c,f)}finally{J.p=y,K.T=g}}function lS(a,A,c,f){var g=K.T;K.T=null;var y=J.p;try{J.p=8,Yh(a,A,c,f)}finally{J.p=y,K.T=g}}function Yh(a,A,c,f){if(Pc){var g=Xh(f);if(g===null)Ih(a,A,f,Kc,c),Nb(a,f);else if(dS(g,a,A,c,f))f.stopPropagation();else if(Nb(a,f),A&4&&-1<cS.indexOf(a)){for(;g!==null;){var y=No(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var Q=xe(y.pendingLanes);if(Q!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;Q;){var Y=1<<31-Mt(Q);I.entanglements[1]|=Y,Q&=~Y}Yr(y),(dt&6)===0&&(Nc=ke()+500,vi(0))}}break;case 13:I=Ho(y,2),I!==null&&nr(I,y,2),Qc(),Gh(y,2)}if(y=Xh(f),y===null&&Ih(a,A,f,Kc,c),y===g)break;g=y}g!==null&&f.stopPropagation()}else Ih(a,A,f,null,c)}}function Xh(a){return a=Zu(a),$h(a)}var Kc=null;function $h(a){if(Kc=null,a=jo(a),a!==null){var A=i(a);if(A===null)a=null;else{var c=A.tag;if(c===13){if(a=l(A),a!==null)return a;a=null}else if(c===3){if(A.stateNode.current.memoizedState.isDehydrated)return A.tag===3?A.stateNode.containerInfo:null;a=null}else A!==a&&(a=null)}}return Kc=a,null}function jb(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case Rt:return 2;case hs:return 8;case Es:case rn:return 32;case Pn:return 268435456;default:return 32}default:return 32}}var Wh=!1,Aa=null,ia=null,la=null,Si=new Map,Qi=new Map,ca=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nb(a,A){switch(a){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Si.delete(A.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(A.pointerId)}}function Ei(a,A,c,f,g,y){return a===null||a.nativeEvent!==y?(a={blockedOn:A,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},A!==null&&(A=No(A),A!==null&&Cb(A)),a):(a.eventSystemFlags|=f,A=a.targetContainers,g!==null&&A.indexOf(g)===-1&&A.push(g),a)}function dS(a,A,c,f,g){switch(A){case"focusin":return Aa=Ei(Aa,a,A,c,f,g),!0;case"dragenter":return ia=Ei(ia,a,A,c,f,g),!0;case"mouseover":return la=Ei(la,a,A,c,f,g),!0;case"pointerover":var y=g.pointerId;return Si.set(y,Ei(Si.get(y)||null,a,A,c,f,g)),!0;case"gotpointercapture":return y=g.pointerId,Qi.set(y,Ei(Qi.get(y)||null,a,A,c,f,g)),!0}return!1}function Sb(a){var A=jo(a.target);if(A!==null){var c=i(A);if(c!==null){if(A=c.tag,A===13){if(A=l(c),A!==null){a.blockedOn=A,Kt(a.priority,function(){if(c.tag===13){var f=rr();f=rt(f);var g=Ho(c,f);g!==null&&nr(g,c,f),Gh(c,f)}});return}}else if(A===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function zc(a){if(a.blockedOn!==null)return!1;for(var A=a.targetContainers;0<A.length;){var c=Xh(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);qu=f,c.target.dispatchEvent(f),qu=null}else return A=No(c),A!==null&&Cb(A),a.blockedOn=c,!1;A.shift()}return!0}function Qb(a,A,c){zc(a)&&c.delete(A)}function uS(){Wh=!1,Aa!==null&&zc(Aa)&&(Aa=null),ia!==null&&zc(ia)&&(ia=null),la!==null&&zc(la)&&(la=null),Si.forEach(Qb),Qi.forEach(Qb)}function Vc(a,A){a.blockedOn===A&&(a.blockedOn=null,Wh||(Wh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uS)))}var Gc=null;function Eb(a){Gc!==a&&(Gc=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gc===a&&(Gc=null);for(var A=0;A<a.length;A+=3){var c=a[A],f=a[A+1],g=a[A+2];if(typeof f!="function"){if($h(f||c)===null)continue;break}var y=No(c);y!==null&&(a.splice(A,3),A-=3,$f(y,{pending:!0,data:g,method:c.method,action:f},f,g))}}))}function Fi(a){function A(Y){return Vc(Y,a)}Aa!==null&&Vc(Aa,a),ia!==null&&Vc(ia,a),la!==null&&Vc(la,a),Si.forEach(A),Qi.forEach(A);for(var c=0;c<ca.length;c++){var f=ca[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<ca.length&&(c=ca[0],c.blockedOn===null);)Sb(c),c.blockedOn===null&&ca.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var g=c[f],y=c[f+1],Q=g[$e]||null;if(typeof y=="function")Q||Eb(c);else if(Q){var I=null;if(y&&y.hasAttribute("formAction")){if(g=y,Q=y[$e]||null)I=Q.formAction;else if($h(g)!==null)continue}else I=Q.action;typeof I=="function"?c[f+1]=I:(c.splice(f,3),f-=3),Eb(c)}}}function qh(a){this._internalRoot=a}Yc.prototype.render=qh.prototype.render=function(a){var A=this._internalRoot;if(A===null)throw Error(n(409));var c=A.current,f=rr();wb(c,f,a,A,null,null)},Yc.prototype.unmount=qh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var A=a.containerInfo;wb(a.current,2,null,a,null,null),Qc(),A[bt]=null}};function Yc(a){this._internalRoot=a}Yc.prototype.unstable_scheduleHydration=function(a){if(a){var A=Ze();a={blockedOn:null,target:a,priority:A};for(var c=0;c<ca.length&&A!==0&&A<ca[c].priority;c++);ca.splice(c,0,a),c===0&&Sb(a)}};var Fb=e.version;if(Fb!=="19.1.0")throw Error(n(527,Fb,"19.1.0"));J.findDOMNode=function(a){var A=a._reactInternals;if(A===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=u(A),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var fS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Hs=Xc.inject(fS),qe=Xc}catch{}}return ki.createRoot=function(a,A){if(!o(a))throw Error(n(299));var c=!1,f="",g=Gv,y=Yv,Q=Xv,I=null;return A!=null&&(A.unstable_strictMode===!0&&(c=!0),A.identifierPrefix!==void 0&&(f=A.identifierPrefix),A.onUncaughtError!==void 0&&(g=A.onUncaughtError),A.onCaughtError!==void 0&&(y=A.onCaughtError),A.onRecoverableError!==void 0&&(Q=A.onRecoverableError),A.unstable_transitionCallbacks!==void 0&&(I=A.unstable_transitionCallbacks)),A=yb(a,1,!1,null,null,c,f,g,y,Q,I,null),a[bt]=A.current,Dh(a),new qh(A)},ki.hydrateRoot=function(a,A,c){if(!o(a))throw Error(n(299));var f=!1,g="",y=Gv,Q=Yv,I=Xv,Y=null,Ae=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(Q=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Y=c.unstable_transitionCallbacks),c.formState!==void 0&&(Ae=c.formState)),A=yb(a,1,!0,A,c??null,f,g,y,Q,I,Y,Ae),A.context=bb(null),c=A.current,f=rr(),f=rt(f),g=Yn(f),g.callback=null,Xn(c,g,f),c=f,A.current.lanes=c,st(A,c),Yr(A),a[bt]=A.current,Dh(a),new Yc(A)},ki.version="19.1.0",ki}var _b;function bS(){if(_b)return em.exports;_b=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),em.exports=yS(),em.exports}var wS=bS();const BS=Jg(wS);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ob="popstate";function CS(t={}){function e(n,o){let{pathname:i,search:l,hash:d}=n.location;return og("",{pathname:i,search:l,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(n,o){return typeof o=="string"?o:hl(o)}return NS(e,s,null,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jS(){return Math.random().toString(36).substring(2,10)}function Pb(t,e){return{usr:t.state,key:t.key,idx:e}}function og(t,e,s=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?FA(e):e,state:s,key:e&&e.key||n||jS()}}function hl({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function FA(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function NS(t,e,s,n={}){let{window:o=document.defaultView,v5Compat:i=!1}=n,l=o.history,d="POP",u=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function p(){d="POP";let C=m(),j=C==null?null:C-h;h=C,u&&u({action:d,location:B.location,delta:j})}function v(C,j){d="PUSH";let S=og(B.location,C,j);h=m()+1;let D=Pb(S,h),N=B.createHref(S);try{l.pushState(D,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(N)}i&&u&&u({action:d,location:B.location,delta:1})}function b(C,j){d="REPLACE";let S=og(B.location,C,j);h=m();let D=Pb(S,h),N=B.createHref(S);l.replaceState(D,"",N),i&&u&&u({action:d,location:B.location,delta:0})}function w(C){return SS(C)}let B={get action(){return d},get location(){return t(o,l)},listen(C){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(Ob,p),u=C,()=>{o.removeEventListener(Ob,p),u=null}},createHref(C){return e(o,C)},createURL:w,encodeLocation(C){let j=w(C);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:b,go(C){return l.go(C)}};return B}function SS(t,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(s,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:hl(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=s+n),new URL(n,s)}function OB(t,e,s="/"){return QS(t,e,s,!1)}function QS(t,e,s,n){let o=typeof e=="string"?FA(e):e,i=Mn(o.pathname||"/",s);if(i==null)return null;let l=PB(t);ES(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let h=_S(i);d=HS(l[u],h,n)}return d}function PB(t,e=[],s=[],n="",o=!1){let i=(l,d,u=o,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&u)return;Pt(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let p=Dn([n,m.relativePath]),v=s.concat(m);l.children&&l.children.length>0&&(Pt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),PB(l.children,e,v,p,u)),!(l.path==null&&!l.index)&&e.push({path:p,score:TS(p,l.index),routesMeta:v})};return t.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))i(l,d);else for(let u of KB(l.path))i(l,d,!0,u)}),e}function KB(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,o=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return o?[i,""]:[i];let l=KB(n.join("/")),d=[];return d.push(...l.map(u=>u===""?i:[i,u].join("/"))),o&&d.push(...l),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function ES(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:MS(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var FS=/^:[\w-]+$/,US=3,kS=2,DS=1,IS=10,RS=-2,Kb=t=>t==="*";function TS(t,e){let s=t.split("/"),n=s.length;return s.some(Kb)&&(n+=RS),e&&(n+=kS),s.filter(o=>!Kb(o)).reduce((o,i)=>o+(FS.test(i)?US:i===""?DS:IS),n)}function MS(t,e){return t.length===e.length&&t.slice(0,-1).every((n,o)=>n===e[o])?t[t.length-1]-e[e.length-1]:0}function HS(t,e,s=!1){let{routesMeta:n}=t,o={},i="/",l=[];for(let d=0;d<n.length;++d){let u=n[d],h=d===n.length-1,m=i==="/"?e:e.slice(i.length)||"/",p=Yd({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),v=u.route;if(!p&&h&&s&&!n[n.length-1].route.index&&(p=Yd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(o,p.params),l.push({params:o,pathname:Dn([i,p.pathname]),pathnameBase:zS(Dn([i,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(i=Dn([i,p.pathnameBase]))}return l}function Yd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=LS(t.path,t.caseSensitive,t.end),o=e.match(s);if(!o)return null;let i=o[0],l=i.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:p},v)=>{if(m==="*"){let w=d[v]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[v];return p&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function LS(t,e=!1,s=!0){Tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(n.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),n]}function _S(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}function OS(t,e="/"){let{pathname:s,search:n="",hash:o=""}=typeof t=="string"?FA(t):t;return{pathname:s?s.startsWith("/")?s:PS(s,e):e,search:VS(n),hash:GS(o)}}function PS(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function nm(t,e,s,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KS(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function zB(t){let e=KS(t);return e.map((s,n)=>n===e.length-1?s.pathname:s.pathnameBase)}function VB(t,e,s,n=!1){let o;typeof t=="string"?o=FA(t):(o={...t},Pt(!o.pathname||!o.pathname.includes("?"),nm("?","pathname","search",o)),Pt(!o.pathname||!o.pathname.includes("#"),nm("#","pathname","hash",o)),Pt(!o.search||!o.search.includes("#"),nm("#","search","hash",o)));let i=t===""||o.pathname==="",l=i?"/":o.pathname,d;if(l==null)d=s;else{let p=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;o.pathname=v.join("/")}d=p>=0?e[p]:"/"}let u=OS(o,d),h=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}var Dn=t=>t.join("/").replace(/\/\/+/g,"/"),zS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GB=["POST","PUT","PATCH","DELETE"];new Set(GB);var XS=["GET",...GB];new Set(XS);var UA=x.createContext(null);UA.displayName="DataRouter";var vu=x.createContext(null);vu.displayName="DataRouterState";x.createContext(!1);var YB=x.createContext({isTransitioning:!1});YB.displayName="ViewTransition";var $S=x.createContext(new Map);$S.displayName="Fetchers";var WS=x.createContext(null);WS.displayName="Await";var Jr=x.createContext(null);Jr.displayName="Navigation";var Ql=x.createContext(null);Ql.displayName="Location";var _r=x.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var sp=x.createContext(null);sp.displayName="RouteError";function qS(t,{relative:e}={}){Pt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=x.useContext(Jr),{hash:o,pathname:i,search:l}=Fl(t,{relative:e}),d=i;return s!=="/"&&(d=i==="/"?s:Dn([s,i])),n.createHref({pathname:d,search:l,hash:o})}function El(){return x.useContext(Ql)!=null}function _n(){return Pt(El(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ql).location}var XB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $B(t){x.useContext(Jr).static||x.useLayoutEffect(t)}function vt(){let{isDataRoute:t}=x.useContext(_r);return t?uQ():ZS()}function ZS(){Pt(El(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(UA),{basename:e,navigator:s}=x.useContext(Jr),{matches:n}=x.useContext(_r),{pathname:o}=_n(),i=JSON.stringify(zB(n)),l=x.useRef(!1);return $B(()=>{l.current=!0}),x.useCallback((u,h={})=>{if(Tr(l.current,XB),!l.current)return;if(typeof u=="number"){s.go(u);return}let m=VB(u,JSON.parse(i),o,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Dn([e,m.pathname])),(h.replace?s.replace:s.push)(m,h.state,h)},[e,s,i,o,t])}var JS=x.createContext(null);function eQ(t){let e=x.useContext(_r).outlet;return x.useMemo(()=>e&&x.createElement(JS.Provider,{value:t},e),[e,t])}function en(){let{matches:t}=x.useContext(_r),e=t[t.length-1];return e?e.params:{}}function Fl(t,{relative:e}={}){let{matches:s}=x.useContext(_r),{pathname:n}=_n(),o=JSON.stringify(zB(s));return x.useMemo(()=>VB(t,JSON.parse(o),n,e==="path"),[t,o,n,e])}function tQ(t,e){return WB(t,e)}function WB(t,e,s,n,o){Pt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Jr),{matches:l}=x.useContext(_r),d=l[l.length-1],u=d?d.params:{},h=d?d.pathname:"/",m=d?d.pathnameBase:"/",p=d&&d.route;{let S=p&&p.path||"";qB(h,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let v=_n(),b;if(e){let S=typeof e=="string"?FA(e):e;Pt(m==="/"||S.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),b=S}else b=v;let w=b.pathname||"/",B=w;if(m!=="/"){let S=m.replace(/^\//,"").split("/");B="/"+w.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=OB(t,{pathname:B});Tr(p||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Tr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=oQ(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Dn([m,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:Dn([m,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),l,s,n,o);return e&&j?x.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function sQ(){let t=dQ(),e=YS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),s?x.createElement("pre",{style:o},s):null,l)}var rQ=x.createElement(sQ,null),nQ=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(_r.Provider,{value:this.props.routeContext},x.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aQ({routeContext:t,match:e,children:s}){let n=x.useContext(UA);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(_r.Provider,{value:t},s)}function oQ(t,e=[],s=null,n=null,o=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let i=t,l=s?.errors;if(l!=null){let h=i.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Pt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let d=!1,u=-1;if(s)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:v}=s,b=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,m,p)=>{let v,b=!1,w=null,B=null;s&&(v=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||rQ,d&&(u<0&&p===0?(qB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,B=null):u===p&&(b=!0,B=m.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,p+1)),j=()=>{let S;return v?S=w:b?S=B:m.route.Component?S=x.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=h,x.createElement(aQ,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:s!=null},children:S})};return s&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?x.createElement(nQ,{location:s.location,revalidation:s.revalidation,component:w,error:v,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:n}):j()},null)}function rp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AQ(t){let e=x.useContext(UA);return Pt(e,rp(t)),e}function iQ(t){let e=x.useContext(vu);return Pt(e,rp(t)),e}function lQ(t){let e=x.useContext(_r);return Pt(e,rp(t)),e}function np(t){let e=lQ(t),s=e.matches[e.matches.length-1];return Pt(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function cQ(){return np("useRouteId")}function dQ(){let t=x.useContext(sp),e=iQ("useRouteError"),s=np("useRouteError");return t!==void 0?t:e.errors?.[s]}function uQ(){let{router:t}=AQ("useNavigate"),e=np("useNavigate"),s=x.useRef(!1);return $B(()=>{s.current=!0}),x.useCallback(async(o,i={})=>{Tr(s.current,XB),s.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...i}))},[t,e])}var zb={};function qB(t,e,s){!e&&!zb[t]&&(zb[t]=!0,Tr(!1,s))}x.memo(fQ);function fQ({routes:t,future:e,state:s,unstable_onError:n}){return WB(t,void 0,s,n,e)}function hQ(t){return eQ(t.context)}function At(t){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mQ({basename:t="/",children:e=null,location:s,navigationType:n="POP",navigator:o,static:i=!1}){Pt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:l,navigator:o,static:i,future:{}}),[l,o,i]);typeof s=="string"&&(s=FA(s));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:v="default"}=s,b=x.useMemo(()=>{let w=Mn(u,l);return w==null?null:{location:{pathname:w,search:h,hash:m,state:p,key:v},navigationType:n}},[l,u,h,m,p,v,n]);return Tr(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(Jr.Provider,{value:d},x.createElement(Ql.Provider,{children:e,value:b}))}function gQ({children:t,location:e}){return tQ(Ag(t),e)}function Ag(t,e=[]){let s=[];return x.Children.forEach(t,(n,o)=>{if(!x.isValidElement(n))return;let i=[...e,o];if(n.type===x.Fragment){s.push.apply(s,Ag(n.props.children,i));return}Pt(n.type===At,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Ag(n.props.children,i)),s.push(l)}),s}var Md="get",Hd="application/x-www-form-urlencoded";function yu(t){return t!=null&&typeof t.tagName=="string"}function pQ(t){return yu(t)&&t.tagName.toLowerCase()==="button"}function xQ(t){return yu(t)&&t.tagName.toLowerCase()==="form"}function vQ(t){return yu(t)&&t.tagName.toLowerCase()==="input"}function yQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bQ(t,e){return t.button===0&&(!e||e==="_self")&&!yQ(t)}function ig(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,s)=>{let n=t[s];return e.concat(Array.isArray(n)?n.map(o=>[s,o]):[[s,n]])},[]))}function wQ(t,e){let s=ig(t);return e&&e.forEach((n,o)=>{s.has(o)||e.getAll(o).forEach(i=>{s.append(o,i)})}),s}var $c=null;function BQ(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var CQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function am(t){return t!=null&&!CQ.has(t)?(Tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hd}"`),null):t}function jQ(t,e){let s,n,o,i,l;if(xQ(t)){let d=t.getAttribute("action");n=d?Mn(d,e):null,s=t.getAttribute("method")||Md,o=am(t.getAttribute("enctype"))||Hd,i=new FormData(t)}else if(pQ(t)||vQ(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(n=u?Mn(u,e):null,s=t.getAttribute("formmethod")||d.getAttribute("method")||Md,o=am(t.getAttribute("formenctype"))||am(d.getAttribute("enctype"))||Hd,i=new FormData(d,t),!BQ()){let{name:h,type:m,value:p}=t;if(m==="image"){let v=h?`${h}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else h&&i.append(h,p)}}else{if(yu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Md,n=null,o=Hd,l=t}return i&&o==="text/plain"&&(l=i,i=void 0),{action:n,method:s.toLowerCase(),encType:o,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ap(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NQ(t,e,s){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${s}`:e&&Mn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}async function SQ(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QQ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function EQ(t,e,s){let n=await Promise.all(t.map(async o=>{let i=e.routes[o.route.id];if(i){let l=await SQ(i,s);return l.links?l.links():[]}return[]}));return DQ(n.flat(1).filter(QQ).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Vb(t,e,s,n,o,i){let l=(u,h)=>s[h]?u.route.id!==s[h].route.id:!0,d=(u,h)=>s[h].pathname!==u.pathname||s[h].route.path?.endsWith("*")&&s[h].params["*"]!==u.params["*"];return i==="assets"?e.filter((u,h)=>l(u,h)||d(u,h)):i==="data"?e.filter((u,h)=>{let m=n.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,h)||d(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function FQ(t,e,{includeHydrateFallback:s}={}){return UQ(t.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function UQ(t){return[...new Set(t)]}function kQ(t){let e={},s=Object.keys(t).sort();for(let n of s)e[n]=t[n];return e}function DQ(t,e){let s=new Set;return new Set(e),t.reduce((n,o)=>{let i=JSON.stringify(kQ(o));return s.has(i)||(s.add(i),n.push({key:i,link:o})),n},[])}function ZB(){let t=x.useContext(UA);return ap(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function IQ(){let t=x.useContext(vu);return ap(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var op=x.createContext(void 0);op.displayName="FrameworkContext";function JB(){let t=x.useContext(op);return ap(t,"You must render this element inside a <HydratedRouter> element"),t}function RQ(t,e){let s=x.useContext(op),[n,o]=x.useState(!1),[i,l]=x.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:h,onMouseLeave:m,onTouchStart:p}=e,v=x.useRef(null);x.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let B=j=>{j.forEach(S=>{l(S.isIntersecting)})},C=new IntersectionObserver(B,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),x.useEffect(()=>{if(n){let B=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(B)}}},[n]);let b=()=>{o(!0)},w=()=>{o(!1),l(!1)};return s?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Di(d,b),onBlur:Di(u,w),onMouseEnter:Di(h,b),onMouseLeave:Di(m,w),onTouchStart:Di(p,b)}]:[!1,v,{}]}function Di(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function TQ({page:t,...e}){let{router:s}=ZB(),n=x.useMemo(()=>OB(s.routes,t,s.basename),[s.routes,t,s.basename]);return n?x.createElement(HQ,{page:t,matches:n,...e}):null}function MQ(t){let{manifest:e,routeModules:s}=JB(),[n,o]=x.useState([]);return x.useEffect(()=>{let i=!1;return EQ(t,e,s).then(l=>{i||o(l)}),()=>{i=!0}},[t,e,s]),n}function HQ({page:t,matches:e,...s}){let n=_n(),{manifest:o,routeModules:i}=JB(),{basename:l}=ZB(),{loaderData:d,matches:u}=IQ(),h=x.useMemo(()=>Vb(t,e,u,o,n,"data"),[t,e,u,o,n]),m=x.useMemo(()=>Vb(t,e,u,o,n,"assets"),[t,e,u,o,n]),p=x.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,B=!1;if(e.forEach(j=>{let S=o.routes[j.route.id];!S||!S.hasLoader||(!h.some(D=>D.route.id===j.route.id)&&j.route.id in d&&i[j.route.id]?.shouldRevalidate||S.hasClientLoader?B=!0:w.add(j.route.id))}),w.size===0)return[];let C=NQ(t,l,"data");return B&&w.size>0&&C.searchParams.set("_routes",e.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[C.pathname+C.search]},[l,d,n,o,h,e,t,i]),v=x.useMemo(()=>FQ(m,o),[m,o]),b=MQ(m);return x.createElement(x.Fragment,null,p.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...s})),v.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...s})),b.map(({key:w,link:B})=>x.createElement("link",{key:w,nonce:s.nonce,...B})))}function LQ(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var eC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eC&&(window.__reactRouterVersion="7.9.4")}catch{}function _Q({basename:t,children:e,window:s}){let n=x.useRef();n.current==null&&(n.current=CS({window:s,v5Compat:!0}));let o=n.current,[i,l]=x.useState({action:o.action,location:o.location}),d=x.useCallback(u=>{x.startTransition(()=>l(u))},[l]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.createElement(mQ,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:o})}var tC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bu=x.forwardRef(function({onClick:e,discover:s="render",prefetch:n="none",relative:o,reloadDocument:i,replace:l,state:d,target:u,to:h,preventScrollReset:m,viewTransition:p,...v},b){let{basename:w}=x.useContext(Jr),B=typeof h=="string"&&tC.test(h),C,j=!1;if(typeof h=="string"&&B&&(C=h,eC))try{let M=new URL(window.location.href),Z=h.startsWith("//")?new URL(M.protocol+h):new URL(h),P=Mn(Z.pathname,w);Z.origin===M.origin&&P!=null?h=P+Z.search+Z.hash:j=!0}catch{Tr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=qS(h,{relative:o}),[D,N,E]=RQ(n,v),k=zQ(h,{replace:l,state:d,target:u,preventScrollReset:m,relative:o,viewTransition:p});function T(M){e&&e(M),M.defaultPrevented||k(M)}let _=x.createElement("a",{...v,...E,href:C||S,onClick:j||i?e:T,ref:LQ(b,N),target:u,"data-discover":!B&&s==="render"?"true":void 0});return D&&!B?x.createElement(x.Fragment,null,_,x.createElement(TQ,{page:S})):_});bu.displayName="Link";var OQ=x.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:n="",end:o=!1,style:i,to:l,viewTransition:d,children:u,...h},m){let p=Fl(l,{relative:h.relative}),v=_n(),b=x.useContext(vu),{navigator:w,basename:B}=x.useContext(Jr),C=b!=null&&$Q(p)&&d===!0,j=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,S=v.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(S=S.toLowerCase(),D=D?D.toLowerCase():null,j=j.toLowerCase()),D&&B&&(D=Mn(D,B)||D);const N=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let E=S===j||!o&&S.startsWith(j)&&S.charAt(N)==="/",k=D!=null&&(D===j||!o&&D.startsWith(j)&&D.charAt(j.length)==="/"),T={isActive:E,isPending:k,isTransitioning:C},_=E?e:void 0,M;typeof n=="function"?M=n(T):M=[n,E?"active":null,k?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Z=typeof i=="function"?i(T):i;return x.createElement(bu,{...h,"aria-current":_,className:M,ref:m,style:Z,to:l,viewTransition:d},typeof u=="function"?u(T):u)});OQ.displayName="NavLink";var PQ=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:n,replace:o,state:i,method:l=Md,action:d,onSubmit:u,relative:h,preventScrollReset:m,viewTransition:p,...v},b)=>{let w=YQ(),B=XQ(d,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&tC.test(d),S=D=>{if(u&&u(D),D.defaultPrevented)return;D.preventDefault();let N=D.nativeEvent.submitter,E=N?.getAttribute("formmethod")||l;w(N||D.currentTarget,{fetcherKey:e,method:E,navigate:s,replace:o,state:i,relative:h,preventScrollReset:m,viewTransition:p})};return x.createElement("form",{ref:b,method:C,action:B,onSubmit:n?u:S,...v,"data-discover":!j&&t==="render"?"true":void 0})});PQ.displayName="Form";function KQ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sC(t){let e=x.useContext(UA);return Pt(e,KQ(t)),e}function zQ(t,{target:e,replace:s,state:n,preventScrollReset:o,relative:i,viewTransition:l}={}){let d=vt(),u=_n(),h=Fl(t,{relative:i});return x.useCallback(m=>{if(bQ(m,e)){m.preventDefault();let p=s!==void 0?s:hl(u)===hl(h);d(t,{replace:p,state:n,preventScrollReset:o,relative:i,viewTransition:l})}},[u,d,h,s,n,e,t,o,i,l])}function Ap(t){Tr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(ig(t)),s=x.useRef(!1),n=_n(),o=x.useMemo(()=>wQ(n.search,s.current?null:e.current),[n.search]),i=vt(),l=x.useCallback((d,u)=>{const h=ig(typeof d=="function"?d(new URLSearchParams(o)):d);s.current=!0,i("?"+h,u)},[i,o]);return[o,l]}var VQ=0,GQ=()=>`__${String(++VQ)}__`;function YQ(){let{router:t}=sC("useSubmit"),{basename:e}=x.useContext(Jr),s=cQ();return x.useCallback(async(n,o={})=>{let{action:i,method:l,encType:d,formData:u,body:h}=jQ(n,e);if(o.navigate===!1){let m=o.fetcherKey||GQ();await t.fetch(m,s,o.action||i,{preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||l,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||l,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,s])}function XQ(t,{relative:e}={}){let{basename:s}=x.useContext(Jr),n=x.useContext(_r);Pt(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),i={...Fl(t||".",{relative:e})},l=_n();if(t==null){i.search=l.search;let d=new URLSearchParams(i.search),u=d.getAll("index");if(u.some(m=>m==="")){d.delete("index"),u.filter(p=>p).forEach(p=>d.append("index",p));let m=d.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:Dn([s,i.pathname])),hl(i)}function $Q(t,{relative:e}={}){let s=x.useContext(YB);Pt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sC("useViewTransitionState"),o=Fl(t,{relative:e});if(!s.isTransitioning)return!1;let i=Mn(s.currentLocation.pathname,n)||s.currentLocation.pathname,l=Mn(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Yd(o.pathname,l)!=null||Yd(o.pathname,i)!=null}var Vi=tp();function WQ({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 13.5V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 9.75V10.5"}))}const qQ=x.forwardRef(WQ);function ZQ({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const mo=x.forwardRef(ZQ);function JQ({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const eE=x.forwardRef(JQ);function tE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Bs=x.forwardRef(tE);function sE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const rC=x.forwardRef(sE);function rE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const nE=x.forwardRef(rE);function aE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const nC=x.forwardRef(aE);function oE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const AE=x.forwardRef(oE);function iE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const lE=x.forwardRef(iE);function cE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const dE=x.forwardRef(cE);function uE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const fE=x.forwardRef(uE);function hE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const aC=x.forwardRef(hE);function mE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const gE=x.forwardRef(mE);function pE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ka=x.forwardRef(pE);function xE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const oC=x.forwardRef(xE);function vE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Gt=x.forwardRef(vE);function yE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Br=x.forwardRef(yE);function bE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const ip=x.forwardRef(bE);function wE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const lp=x.forwardRef(wE);function BE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const wu=x.forwardRef(BE);function CE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const jE=x.forwardRef(CE);function NE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const SE=x.forwardRef(NE);function QE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Xs=x.forwardRef(QE);function EE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const FE=x.forwardRef(EE);function UE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const kE=x.forwardRef(UE);function DE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const IE=x.forwardRef(DE);function RE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const In=x.forwardRef(RE);function TE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const et=x.forwardRef(TE);function ME({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Sr=x.forwardRef(ME);function HE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const ml=x.forwardRef(HE);function LE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Un=x.forwardRef(LE);function _E({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Gb=x.forwardRef(_E);function OE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ul=x.forwardRef(OE);function PE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const KE=x.forwardRef(PE);function zE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const VE=x.forwardRef(zE);function GE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM13.5 10.5h-6"}))}const YE=x.forwardRef(GE);function XE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"}))}const $E=x.forwardRef(XE);function WE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const On=x.forwardRef(WE);function qE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const ZE=x.forwardRef(qE);function JE({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Qr=x.forwardRef(JE);function eF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const AC=x.forwardRef(eF);function tF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const go=x.forwardRef(tF);function sF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ts=x.forwardRef(sF);function rF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const jA=x.forwardRef(rF);function nF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Xd=x.forwardRef(nF);function aF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}const Yb=x.forwardRef(aF);function oF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const cp=x.forwardRef(oF);function AF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Ld=x.forwardRef(AF);function iF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const lF=x.forwardRef(iF);function cF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const iC=x.forwardRef(cF);function dF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const uF=x.forwardRef(dF);function fF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 0 0 5.304 0l6.401-6.402M6.75 21A3.75 3.75 0 0 1 3 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 0 0 3.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008Z"}))}const lC=x.forwardRef(fF);function hF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const $d=x.forwardRef(hF);function mF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const fs=x.forwardRef(mF);function gF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const pF=x.forwardRef(gF);function xF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const cC=x.forwardRef(xF);function vF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Da=x.forwardRef(vF);function yF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const dC=x.forwardRef(yF);function bF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}const wF=x.forwardRef(bF);function BF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Hn=x.forwardRef(BF);function CF({title:t,titleId:e,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Rn=x.forwardRef(CF),uC=x.createContext(void 0),fC=()=>{const t=x.useContext(uC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},jF=({children:t})=>{const[e,s]=x.useState("light");x.useEffect(()=>{try{const l=localStorage.getItem("tne-theme")==="dark";l&&document.documentElement.classList.add("theme-dark"),s(l?"dark":"light")}catch{s("light")}},[]),x.useEffect(()=>{const i=document.documentElement;e==="dark"?i.classList.add("theme-dark"):i.classList.remove("theme-dark");try{localStorage.setItem("tne-theme",e)}catch{}},[e]);const o={theme:e,toggleTheme:()=>{s(i=>i==="light"?"dark":"light")}};return r.jsx(uC.Provider,{value:o,children:t})};function hC({title:t,onMenuClick:e,searchPlaceholder:s="Search…",actions:n,className:o=""}){const{theme:i,toggleTheme:l}=fC();return r.jsx("header",{className:`sticky top-0 z-10 pb-3 bg-[--background]/80 backdrop-blur supports-[backdrop-filter]:bg-[--background]/70 border-b ${o}`,style:{borderColor:"var(--color-border)"},children:r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[e&&r.jsx("button",{className:"lg:hidden inline-flex items-center justify-center h-9 w-9 rounded-md border border-[--color-border]",onClick:e,"aria-label":"Open navigation",children:r.jsx(dE,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-xl md:text-2xl font-semibold",children:t})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{placeholder:s,className:"h-9 w-44 md:w-64 rounded-md px-3 bg-[--color-card] text-[--color-foreground] border border-[--color-border]"}),r.jsx("button",{onClick:l,className:"h-9 w-9 rounded-md flex items-center justify-center border border-[--color-border]","aria-label":"Toggle theme",children:i==="dark"?r.jsx(uF,{className:"h-5 w-5"}):r.jsx(ZE,{className:"h-5 w-5"})}),n]})]})})}function mC({sidebar:t,header:e,children:s,mobileDrawer:n,className:o=""}){return r.jsxs("div",{className:`min-h-screen ${o}`,children:[r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"hidden lg:block fixed left-0 top-0 h-screen w-60 z-10",children:t}),r.jsx("main",{className:"flex-1 lg:ml-60",children:r.jsxs("div",{className:"py-6 px-4 md:px-8 lg:px-10 space-y-8",children:[e,s]})})]}),n]})}const lg=[{name:"Overview",icon:iC},{name:"Sales",icon:et},{name:"Invoices",icon:Sr},{name:"Orders",icon:SE},{name:"Products",icon:In},{name:"Customers",icon:dC},{name:"Inventory",icon:$d},{name:"Returns",icon:rC},{name:"Reports",icon:oC},{name:"Settings",icon:qQ}];function Wd({active:t,onSelect:e,items:s=lg,drawer:n=!1}){const{theme:o}=fC(),[i,l]=x.useState(new Set),[d,u]=x.useState(new Set),h=n?"px-3 pt-3 pb-4 h-full overflow-auto":"px-3 lg:px-4 h-full overflow-y-auto pt-3.5 border-r",m=b=>{const w=new Set(i);if(w.has(b)){w.delete(b);const B=new Set(d),C=s.find(j=>j.name===b);C?.subMenus&&C.subMenus.forEach(j=>{B.delete(j.id)}),u(B)}else w.add(b);l(w)},p=b=>{b.subMenus?m(b.name):e(b.name)},v=b=>b.map(w=>{const B=t===w.name;return r.jsx("div",{children:r.jsxs("button",{onClick:()=>e(w.name),className:`relative w-full flex items-center gap-3 py-2.5 rounded-md text-left transition-colors duration-200 text-sm font-medium pl-8 pr-3 ${B?"bg-blue-50 text-blue-700":"hover:bg-gray-50"}`,style:{color:B?"var(--accent)":"var(--color-foreground)"},"aria-current":B?"page":void 0,children:[w.icon&&r.jsx(w.icon,{className:"h-4 w-4 transition-colors duration-200",style:{color:B?"var(--accent)":"var(--color-foreground)"}}),r.jsx("span",{className:`transition-colors duration-200 ${B?"font-semibold":""}`,children:w.name})]})},w.id)});return r.jsxs("aside",{className:h,style:{borderColor:n?void 0:"var(--color-border)",background:"var(--background)"},children:[r.jsx("div",{className:"h-12 flex items-center mb-2 px-1",children:r.jsx("img",{src:o==="dark"?"/images/topnotch-logo-light.png":"/images/topnotch-logo-dark.png",alt:"TopNotch Electronics",className:"h-16 sm:h-20 md:h-24 lg:h-28 xl:h-32 w-auto object-contain"},o==="dark"?"dark":"light")}),r.jsx("nav",{className:"space-y-0.5 mt-2",children:s.map(b=>{const w=b.subMenus&&b.subMenus.length>0,B=i.has(b.name),C=t===b.name||w&&B;return r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>p(b),className:"relative w-full flex items-center gap-3 pl-4 pr-3 py-2.5 rounded-md text-left transition-colors duration-200 text-[--color-foreground] text-sm md:text-[15px] hover:bg-[var(--muted)]",style:{backgroundColor:C?"var(--muted)":"transparent"},"aria-current":C?"page":void 0,children:[r.jsx("span",{className:"absolute left-1 top-1/2 -translate-y-1/2 h-6 rounded-full transition-all duration-300",style:{width:C?"3px":"0px",background:"var(--accent)",opacity:C?1:0}}),w&&r.jsx("span",{className:"flex-shrink-0",children:B?r.jsx(ip,{className:"h-4 w-4"}):r.jsx(wu,{className:"h-4 w-4"})}),r.jsx(b.icon,{className:"h-5 w-5 transition-colors duration-200",style:{color:C?"var(--accent)":"var(--color-foreground)"}}),r.jsx("span",{className:`transition-colors duration-200 ${C?"font-semibold":""}`,children:b.name})]}),w&&B&&b.subMenus&&r.jsx("div",{className:"ml-2 mt-1 space-y-1",children:v(b.subMenus)})]},b.name)})})]})}function gC(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(s=gC(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function NF(){for(var t,e,s=0,n="",o=arguments.length;s<o;s++)(t=arguments[s])&&(e=gC(t))&&(n&&(n+=" "),n+=e);return n}const dp="-",SF=t=>{const e=EF(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const d=l.split(dp);return d[0]===""&&d.length!==1&&d.shift(),pC(d,e)||QF(l)},getConflictingClassGroupIds:(l,d)=>{const u=s[l]||[];return d&&n[l]?[...u,...n[l]]:u}}},pC=(t,e)=>{if(t.length===0)return e.classGroupId;const s=t[0],n=e.nextPart.get(s),o=n?pC(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const i=t.join(dp);return e.validators.find(({validator:l})=>l(i))?.classGroupId},Xb=/^\[(.+)\]$/,QF=t=>{if(Xb.test(t)){const e=Xb.exec(t)[1],s=e?.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},EF=t=>{const{theme:e,classGroups:s}=t,n={nextPart:new Map,validators:[]};for(const o in s)cg(s[o],n,o,e);return n},cg=(t,e,s,n)=>{t.forEach(o=>{if(typeof o=="string"){const i=o===""?e:$b(e,o);i.classGroupId=s;return}if(typeof o=="function"){if(FF(o)){cg(o(n),e,s,n);return}e.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([i,l])=>{cg(l,$b(e,i),s,n)})})},$b=(t,e)=>{let s=t;return e.split(dp).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},FF=t=>t.isThemeGetter,UF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,n=new Map;const o=(i,l)=>{s.set(i,l),e++,e>t&&(e=0,n=s,s=new Map)};return{get(i){let l=s.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return o(i,l),l},set(i,l){s.has(i)?s.set(i,l):o(i,l)}}},dg="!",ug=":",kF=ug.length,DF=t=>{const{prefix:e,experimentalParseClassName:s}=t;let n=o=>{const i=[];let l=0,d=0,u=0,h;for(let w=0;w<o.length;w++){let B=o[w];if(l===0&&d===0){if(B===ug){i.push(o.slice(u,w)),u=w+kF;continue}if(B==="/"){h=w;continue}}B==="["?l++:B==="]"?l--:B==="("?d++:B===")"&&d--}const m=i.length===0?o:o.substring(u),p=IF(m),v=p!==m,b=h&&h>u?h-u:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:p,maybePostfixModifierPosition:b}};if(e){const o=e+ug,i=n;n=l=>l.startsWith(o)?i(l.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(s){const o=n;n=i=>s({className:i,parseClassName:o})}return n},IF=t=>t.endsWith(dg)?t.substring(0,t.length-1):t.startsWith(dg)?t.substring(1):t,RF=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const o=[];let i=[];return n.forEach(l=>{l[0]==="["||e[l]?(o.push(...i.sort(),l),i=[]):i.push(l)}),o.push(...i.sort()),o}},TF=t=>({cache:UF(t.cacheSize),parseClassName:DF(t),sortModifiers:RF(t),...SF(t)}),MF=/\s+/,HF=(t,e)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:i}=e,l=[],d=t.trim().split(MF);let u="";for(let h=d.length-1;h>=0;h-=1){const m=d[h],{isExternal:p,modifiers:v,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:B}=s(m);if(p){u=m+(u.length>0?" "+u:u);continue}let C=!!B,j=n(C?w.substring(0,B):w);if(!j){if(!C){u=m+(u.length>0?" "+u:u);continue}if(j=n(w),!j){u=m+(u.length>0?" "+u:u);continue}C=!1}const S=i(v).join(":"),D=b?S+dg:S,N=D+j;if(l.includes(N))continue;l.push(N);const E=o(j,C);for(let k=0;k<E.length;++k){const T=E[k];l.push(D+T)}u=m+(u.length>0?" "+u:u)}return u};function LF(){let t=0,e,s,n="";for(;t<arguments.length;)(e=arguments[t++])&&(s=xC(e))&&(n&&(n+=" "),n+=s);return n}const xC=t=>{if(typeof t=="string")return t;let e,s="";for(let n=0;n<t.length;n++)t[n]&&(e=xC(t[n]))&&(s&&(s+=" "),s+=e);return s};function _F(t,...e){let s,n,o,i=l;function l(u){const h=e.reduce((m,p)=>p(m),t());return s=TF(h),n=s.cache.get,o=s.cache.set,i=d,d(u)}function d(u){const h=n(u);if(h)return h;const m=HF(u,s);return o(u,m),m}return function(){return i(LF.apply(null,arguments))}}const is=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},vC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,OF=/^\d+\/\d+$/,PF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,VF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lA=t=>OF.test(t),Oe=t=>!!t&&!Number.isNaN(Number(t)),ua=t=>!!t&&Number.isInteger(Number(t)),om=t=>t.endsWith("%")&&Oe(t.slice(0,-1)),wn=t=>PF.test(t),YF=()=>!0,XF=t=>KF.test(t)&&!zF.test(t),bC=()=>!1,$F=t=>VF.test(t),WF=t=>GF.test(t),qF=t=>!Be(t)&&!Ce(t),ZF=t=>kA(t,CC,bC),Be=t=>vC.test(t),to=t=>kA(t,jC,XF),Am=t=>kA(t,rU,Oe),Wb=t=>kA(t,wC,bC),JF=t=>kA(t,BC,WF),Wc=t=>kA(t,NC,$F),Ce=t=>yC.test(t),Ii=t=>DA(t,jC),eU=t=>DA(t,nU),qb=t=>DA(t,wC),tU=t=>DA(t,CC),sU=t=>DA(t,BC),qc=t=>DA(t,NC,!0),kA=(t,e,s)=>{const n=vC.exec(t);return n?n[1]?e(n[1]):s(n[2]):!1},DA=(t,e,s=!1)=>{const n=yC.exec(t);return n?n[1]?e(n[1]):s:!1},wC=t=>t==="position"||t==="percentage",BC=t=>t==="image"||t==="url",CC=t=>t==="length"||t==="size"||t==="bg-size",jC=t=>t==="length",rU=t=>t==="number",nU=t=>t==="family-name",NC=t=>t==="shadow",aU=()=>{const t=is("color"),e=is("font"),s=is("text"),n=is("font-weight"),o=is("tracking"),i=is("leading"),l=is("breakpoint"),d=is("container"),u=is("spacing"),h=is("radius"),m=is("shadow"),p=is("inset-shadow"),v=is("text-shadow"),b=is("drop-shadow"),w=is("blur"),B=is("perspective"),C=is("aspect"),j=is("ease"),S=is("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...N(),Ce,Be],k=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],_=()=>[Ce,Be,u],M=()=>[lA,"full","auto",..._()],Z=()=>[ua,"none","subgrid",Ce,Be],P=()=>["auto",{span:["full",ua,Ce,Be]},ua,Ce,Be],H=()=>[ua,"auto",Ce,Be],W=()=>["auto","min","max","fr",Ce,Be],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",..._()],J=()=>[lA,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],z=()=>[t,Ce,Be],oe=()=>[...N(),qb,Wb,{position:[Ce,Be]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",tU,ZF,{size:[Ce,Be]}],F=()=>[om,Ii,to],R=()=>["","none","full",h,Ce,Be],O=()=>["",Oe,Ii,to],$=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Oe,om,qb,Wb],V=()=>["","none",w,Ce,Be],X=()=>["none",Oe,Ce,Be],G=()=>["none",Oe,Ce,Be],q=()=>[Oe,Ce,Be],ce=()=>[lA,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wn],breakpoint:[wn],color:[YF],container:[wn],"drop-shadow":[wn],ease:["in","out","in-out"],font:[qF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wn],shadow:[wn],spacing:["px",Oe],text:[wn],"text-shadow":[wn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lA,Be,Ce,C]}],container:["container"],columns:[{columns:[Oe,Be,Ce,d]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[ua,"auto",Ce,Be]}],basis:[{basis:[lA,"full","auto",d,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,lA,"auto","initial","none",Be]}],grow:[{grow:["",Oe,Ce,Be]}],shrink:[{shrink:["",Oe,Ce,Be]}],order:[{order:[ua,"first","last","none",Ce,Be]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[d,"screen",...J()]}],"min-w":[{"min-w":[d,"screen","none",...J()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",s,Ii,to]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ce,Am]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",om,Be]}],"font-family":[{font:[eU,Be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ce,Be]}],"line-clamp":[{"line-clamp":[Oe,"none",Ce,Am]}],leading:[{leading:[i,..._()]}],"list-image":[{"list-image":["none",Ce,Be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",Ce,to]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Oe,"auto",Ce,Be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ua,Ce,Be],radial:["",Ce,Be],conic:[ua,Ce,Be]},sU,JF]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...$(),"hidden","none"]}],"divide-style":[{divide:[...$(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...$(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,Ce,Be]}],"outline-w":[{outline:["",Oe,Ii,to]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",m,qc,Wc]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",p,qc,Wc]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Oe,to]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",v,qc,Wc]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Oe,Ce,Be]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Ce,Be]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Be]}],filter:[{filter:["","none",Ce,Be]}],blur:[{blur:V()}],brightness:[{brightness:[Oe,Ce,Be]}],contrast:[{contrast:[Oe,Ce,Be]}],"drop-shadow":[{"drop-shadow":["","none",b,qc,Wc]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Oe,Ce,Be]}],"hue-rotate":[{"hue-rotate":[Oe,Ce,Be]}],invert:[{invert:["",Oe,Ce,Be]}],saturate:[{saturate:[Oe,Ce,Be]}],sepia:[{sepia:["",Oe,Ce,Be]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Be]}],"backdrop-blur":[{"backdrop-blur":V()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,Ce,Be]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,Ce,Be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,Ce,Be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,Ce,Be]}],"backdrop-invert":[{"backdrop-invert":["",Oe,Ce,Be]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,Ce,Be]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,Ce,Be]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,Ce,Be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",Ce,Be]}],ease:[{ease:["linear","initial",j,Ce,Be]}],delay:[{delay:[Oe,Ce,Be]}],animate:[{animate:["none",S,Ce,Be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[B,Ce,Be]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:G()}],"scale-x":[{"scale-x":G()}],"scale-y":[{"scale-y":G()}],"scale-z":[{"scale-z":G()}],"scale-3d":["scale-3d"],skew:[{skew:q()}],"skew-x":[{"skew-x":q()}],"skew-y":[{"skew-y":q()}],transform:[{transform:[Ce,Be,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Be]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Oe,Ii,to,Am]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},oU=_F(aU);function He(...t){return oU(NF(t))}function je({title:t,value:e,icon:s,className:n="",trend:o}){return r.jsxs("div",{className:He("p-6 rounded-xl relative",n),style:{background:"var(--card)",border:"1px solid var(--border)"},children:[r.jsx("div",{className:"h-2 w-16 rounded-full mb-4",style:{background:"var(--accent)"}}),r.jsx("div",{className:"text-sm font-medium mb-2",style:{color:"var(--muted-foreground)"},children:t}),r.jsx("div",{className:"text-xl md:text-2xl font-bold mb-4 break-words overflow-hidden",style:{color:"var(--foreground)"},children:e}),o&&r.jsxs("div",{className:He("text-sm mb-4 flex items-center gap-1",o.isPositive?"text-green-600":"text-red-600"),children:[r.jsx("span",{children:o.isPositive?"↗":"↘"}),r.jsxs("span",{children:[Math.abs(o.value),"%"]})]}),s&&r.jsx("div",{className:"absolute bottom-4 right-4",children:s})]})}function Sa({title:t,children:e,className:s="",headerActions:n}){return r.jsxs("div",{className:He("p-5 rounded-xl",s),style:{background:"var(--card)",border:"1px solid var(--border)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:t}),n&&r.jsx("div",{children:n})]}),e]})}function fg({title:t,items:e,className:s="",headerActions:n,itemsPerPage:o=10}){const i=o>0&&e.length>o,[l,d]=x.useState(1),u=Math.ceil(e.length/o),h=(l-1)*o,m=h+o,p=i?e.slice(h,m):e,v=b=>{d(Math.max(1,Math.min(b,u)))};return r.jsxs("div",{className:He("rounded-xl",s),style:{background:"var(--card)",border:"1px solid var(--border)"},children:[r.jsxs("div",{className:"p-5 pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:t}),n&&r.jsx("div",{children:n})]}),r.jsx("ul",{className:"space-y-3 text-sm",children:p.map(b=>r.jsxs("li",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-3",children:[b.icon||r.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:"var(--accent)"}}),r.jsx("span",{className:"font-medium",style:{color:"var(--foreground)"},children:b.label})]}),r.jsx("span",{style:{color:"var(--muted-foreground)"},children:b.value})]},b.id))})]}),i&&u>1&&r.jsxs("div",{className:"flex items-center justify-between px-5 py-3",style:{borderTop:"1px solid var(--border)"},children:[r.jsxs("div",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:["Showing ",h+1," to ",Math.min(m,e.length)," of ",e.length," results"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>v(l-1),disabled:l===1,className:"p-1 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",style:{color:"var(--foreground)",border:"1px solid var(--border)"},children:r.jsx(lp,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:u},(b,w)=>w+1).map(b=>r.jsx("button",{onClick:()=>v(b),className:`px-2 py-1 text-sm rounded-md ${l===b?"":"hover:opacity-80"}`,style:{backgroundColor:l===b?"var(--accent)":"transparent",color:l===b?"var(--accent-contrast)":"var(--foreground)",border:"1px solid var(--border)"},children:b},b))}),r.jsx("button",{onClick:()=>v(l+1),disabled:l===u,className:"p-1 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",style:{color:"var(--foreground)",border:"1px solid var(--border)"},children:r.jsx(wu,{className:"h-4 w-4"})})]})]})]})}function Ws({title:t,columns:e,data:s,className:n="",headerActions:o,itemsPerPage:i=10}){const[l,d]=x.useState(1),[u,h]=x.useState(null),[m,p]=x.useState("asc"),v=[...s].sort((D,N)=>{if(!u)return 0;const E=D[u],k=N[u];let T=0;return typeof E=="string"&&typeof k=="string"?T=E.localeCompare(k):typeof E=="number"&&typeof k=="number"?T=E-k:T=String(E).localeCompare(String(k)),m==="asc"?T:-T}),b=Math.ceil(v.length/i),w=(l-1)*i,B=w+i,C=v.slice(w,B),j=D=>{d(Math.max(1,Math.min(D,b)))},S=D=>{u===D?p(m==="asc"?"desc":"asc"):(h(D),p("asc")),d(1)};return r.jsxs("div",{className:He("rounded-xl overflow-hidden",n),style:{background:"var(--card)",border:"1px solid var(--border)"},children:[r.jsxs("div",{className:"p-5 font-medium flex items-center justify-between",style:{borderBottom:"1px solid var(--border)"},children:[r.jsx("span",{style:{color:"var(--foreground)"},children:t}),o&&r.jsx("div",{children:o})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{className:"text-left",style:{color:"var(--muted-foreground)",borderBottom:"1px solid var(--border)"},children:e.map(D=>r.jsx("th",{className:He("px-5 py-3 select-none",D.sortable!==!1&&"cursor-pointer hover:bg-black/5 transition-colors",D.className),onClick:()=>D.sortable!==!1&&S(D.key),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:D.label}),D.sortable!==!1&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx(jE,{className:He("h-3 w-3 -mb-1 transition-colors",u===D.key&&m==="asc"?"text-orange-500":"text-gray-400")}),r.jsx(ip,{className:He("h-3 w-3 transition-colors",u===D.key&&m==="desc"?"text-orange-500":"text-gray-400")})]})]})},D.key))})}),r.jsx("tbody",{children:C.map((D,N)=>r.jsx("tr",{style:{borderBottom:"1px solid var(--border)"},children:e.map(E=>r.jsx("td",{className:He("px-5 py-3",E.className),children:D[E.key]},E.key))},N))})]})}),b>1&&r.jsxs("div",{className:"flex items-center justify-between px-5 py-3",style:{borderTop:"1px solid var(--border)"},children:[r.jsxs("div",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:["Showing ",w+1," to ",Math.min(B,v.length)," of ",v.length," results"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>j(l-1),disabled:l===1,className:"p-1 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",style:{color:"var(--foreground)",border:"1px solid var(--border)"},children:r.jsx(lp,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:b},(D,N)=>N+1).map(D=>r.jsx("button",{onClick:()=>j(D),className:`px-2 py-1 text-sm rounded-md ${l===D?"text-white":"hover:opacity-80"}`,style:{backgroundColor:l===D?"var(--accent)":"transparent",color:l===D?"white":"var(--foreground)",border:"1px solid var(--border)"},children:D},D))}),r.jsx("button",{onClick:()=>j(l+1),disabled:l===b,className:"p-1 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",style:{color:"var(--foreground)",border:"1px solid var(--border)"},children:r.jsx(wu,{className:"h-4 w-4"})})]})]})]})}function SC({id:t,title:e,children:s,className:n=""}){const o=i=>{i.currentTarget.closest("dialog")?.close()};return r.jsxs("dialog",{id:t,className:He("lg:hidden p-0 rounded-xl shadow-xl w-[90vw] max-w-sm",n),style:{background:"var(--card)",border:"1px solid var(--border)"},children:[r.jsx("div",{className:"p-3",style:{borderBottom:"1px solid var(--border)"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:e}),r.jsx("button",{className:"h-8 w-8 rounded-md flex items-center justify-center",style:{border:"1px solid var(--border)"},onClick:o,children:"✕"})]})}),s]})}class Bu{generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}createSuccessResponse(e){return{success:!0,data:e}}createErrorResponse(e){return{success:!1,error:e}}handleError(e){const s=e instanceof Error?e.message:"An unknown error occurred";return console.error("Service error:",s),this.createErrorResponse(s)}validateRequired(e,s){const n=[];return s.forEach(o=>{(!e[o]||typeof e[o]=="string"&&e[o]==="")&&n.push(`${String(o)} is required`)}),n}}class AU extends Bu{constructor(){super()}async getAllCustomers(){try{if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.getCustomers();return e.success?this.createSuccessResponse(e.data||[]):this.createErrorResponse(e.error||"Failed to fetch customers")}return this.createErrorResponse("Electron IPC not available")}catch(e){return this.handleError(e)}}async getCustomerById(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.getCustomerById(e);return s.success?this.createSuccessResponse(s.data||null):this.createErrorResponse(s.error||"Failed to fetch customer")}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async createCustomer(e){try{const s=this.validateRequired(e,["name"]);if(s.length>0)return this.createErrorResponse(s.join(", "));if(typeof window<"u"&&window.electronAPI){const n=await window.electronAPI.createCustomer(e);return!n.success||!n.data?this.createErrorResponse(n.error||"Failed to create customer"):this.createSuccessResponse(n.data)}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async updateCustomer(e,s){try{if(typeof window<"u"&&window.electronAPI){const n=await window.electronAPI.updateCustomer(e,s);return n.success?this.createSuccessResponse(n.data):this.createErrorResponse(n.error||"Failed to update customer")}return this.createErrorResponse("Electron IPC not available")}catch(n){return this.handleError(n)}}async deleteCustomer(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.deleteCustomer(e);return s.success?this.createSuccessResponse(!0):this.createErrorResponse(s.error||"Failed to delete customer")}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async searchCustomers(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.searchCustomers(e);return s.success?this.createSuccessResponse(s.data||[]):this.createErrorResponse(s.error||"Failed to search customers")}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async getCustomersPaginated(e=1,s=10){try{if(typeof window<"u"&&window.electronAPI){const n=await window.electronAPI.getCustomers();if(!n.success)return this.createErrorResponse(n.error||"Failed to fetch customers");const o=n.data||[],i=(e-1)*s,l=i+s,d=o.slice(i,l);return this.createSuccessResponse({items:d,total:o.length,page:e,limit:s,hasNext:l<o.length,hasPrev:e>1})}return this.createErrorResponse("Electron IPC not available")}catch(n){return this.handleError(n)}}async exportCustomers(){try{if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.exportData();if(e.success&&e.path){const n=(await window.electronAPI.getCustomers()).data?.length||0;return this.createSuccessResponse({path:e.path,count:n})}}return this.createErrorResponse("Export functionality not available")}catch(e){return this.handleError(e)}}async importCustomers(){try{if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.importData();if(e.success){const s=e.data?.customers?.length||0,o=(await window.electronAPI.getCustomers()).data?.length||0;return this.createSuccessResponse({importedCount:s,totalCount:o})}}return this.createErrorResponse("Import functionality not available")}catch(e){return this.handleError(e)}}async getActiveCustomers(){try{if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.getCustomers();if(!e.success)return this.createErrorResponse(e.error||"Failed to fetch customers");const n=(e.data||[]).filter(o=>o.isActive!==!1);return this.createSuccessResponse(n)}return this.createErrorResponse("Electron IPC not available")}catch(e){return this.handleError(e)}}async getCustomerStats(){try{if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.getCustomerStats();return e.success?this.createSuccessResponse(e.data||{total:0,active:0,inactive:0,withEmail:0,withPhone:0}):this.createErrorResponse(e.error||"Failed to fetch customer stats")}return this.createErrorResponse("Electron IPC not available")}catch(e){return this.handleError(e)}}}class iU extends Bu{constructor(){super()}async getAllProducts(){try{if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.getProducts();return e.success?this.createSuccessResponse(e.data||[]):this.createErrorResponse(e.error||"Failed to fetch products")}return this.createErrorResponse("Electron IPC not available")}catch(e){return this.handleError(e)}}async getProductById(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.getProductById(e);return s.success?this.createSuccessResponse(s.data||null):this.createErrorResponse(s.error||"Failed to fetch product")}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async createProduct(e){try{const s=this.validateRequired(e,["name","price"]);if(s.length>0)return this.createErrorResponse(s.join(", "));if(e.price<=0)return this.createErrorResponse("Price must be greater than 0");if(typeof window<"u"&&window.electronAPI){const n=await window.electronAPI.createProduct(e);return!n.success||!n.data?this.createErrorResponse(n.error||"Failed to create product"):this.createSuccessResponse(n.data)}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async updateProduct(e,s){try{if(typeof window<"u"&&window.electronAPI){const n=await window.electronAPI.updateProduct(e,s);return n.success?this.createSuccessResponse(n.data):this.createErrorResponse(n.error||"Failed to update product")}return this.createErrorResponse("Electron IPC not available")}catch(n){return this.handleError(n)}}async deleteProduct(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.deleteProduct(e);return s.success?this.createSuccessResponse(!0):this.createErrorResponse(s.error||"Failed to delete product")}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async getLowStockProducts(){try{if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.getProducts();if(!e.success)return this.createErrorResponse(e.error||"Failed to fetch products");const n=(e.data||[]).filter(o=>o.minStock&&o.stock<=o.minStock);return this.createSuccessResponse(n)}return this.createErrorResponse("Electron IPC not available")}catch(e){return this.handleError(e)}}async updateStock(e,s){try{if(s<0)return this.createErrorResponse("Stock cannot be negative");if(typeof window<"u"&&window.electronAPI){const n=await window.electronAPI.updateProduct(e,{stock:s});return n.success?this.createSuccessResponse(n.data):this.createErrorResponse(n.error||"Failed to update stock")}return this.createErrorResponse("Electron IPC not available")}catch(n){return this.handleError(n)}}async searchProducts(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.getProducts();if(!s.success)return this.createErrorResponse(s.error||"Failed to fetch products");const o=(s.data||[]).filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.sku?.toLowerCase().includes(e.toLowerCase())||i.category?.toLowerCase().includes(e.toLowerCase()));return this.createSuccessResponse(o)}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async getProductsPaginated(e=1,s=10){try{if(typeof window<"u"&&window.electronAPI){const n=await window.electronAPI.getProducts();if(!n.success)return this.createErrorResponse(n.error||"Failed to fetch products");const o=n.data||[],i=(e-1)*s,l=i+s,d=o.slice(i,l);return this.createSuccessResponse({items:d,total:o.length,page:e,limit:s,hasNext:l<o.length,hasPrev:e>1})}return this.createErrorResponse("Electron IPC not available")}catch(n){return this.handleError(n)}}}class lU extends Bu{constructor(){super()}async getAllSales(){try{if(console.log("🔧 salesService.getAllSales called"),typeof window<"u"&&window.electronAPI){console.log("🔧 window.electronAPI available, calling getSales");const e=await window.electronAPI.getSales();return e.success?this.createSuccessResponse(e.data||[]):this.createErrorResponse(e.error||"Failed to fetch sales")}return this.createErrorResponse("Electron IPC not available")}catch(e){return this.handleError(e)}}async getSaleById(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.getSaleById(e);return s.success?this.createSuccessResponse(s.data||null):this.createErrorResponse(s.error||"Failed to fetch sale")}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async createSale(e){try{const s=this.validateRequired(e,["items","total"]);if(s.length>0)return this.createErrorResponse(s.join(", "));if(e.items.length===0)return this.createErrorResponse("Sale must have at least one item");const n=await this.validateStockAvailability(e.items);if(!n.success)return this.createErrorResponse(n.error);if(typeof window<"u"&&window.electronAPI){const o=await window.electronAPI.createSale(e);return!o.success||!o.data?this.createErrorResponse(o.error||"Failed to create sale"):this.createSuccessResponse(o.data)}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async updateSale(e,s){try{if(typeof window<"u"&&window.electronAPI){const n=await window.electronAPI.updateSale(e,s);return n.success?this.createSuccessResponse(n.data):this.createErrorResponse(n.error||"Failed to update sale")}return this.createErrorResponse("Electron IPC not available")}catch(n){return this.handleError(n)}}async deleteSale(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.deleteSale(e);return s.success?this.createSuccessResponse(!0):this.createErrorResponse(s.error||"Failed to delete sale")}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async getSalesByStatus(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.getSales();if(!s.success)return this.createErrorResponse(s.error||"Failed to fetch sales");const o=(s.data||[]).filter(i=>i.status===e);return this.createSuccessResponse(o)}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async getRecentSales(e=10){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.getSales();if(!s.success)return this.createErrorResponse(s.error||"Failed to fetch sales");const o=(s.data||[]).sort((i,l)=>new Date(l.createdAt).getTime()-new Date(i.createdAt).getTime()).slice(0,e);return this.createSuccessResponse(o)}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async getSalesPaginated(e=1,s=10){try{if(typeof window<"u"&&window.electronAPI){const n=await window.electronAPI.getSales();if(!n.success)return this.createErrorResponse(n.error||"Failed to fetch sales");const o=n.data||[],i=(e-1)*s,l=i+s,d=o.slice(i,l);return this.createSuccessResponse({items:d,total:o.length,page:e,limit:s,hasNext:l<o.length,hasPrev:e>1})}return this.createErrorResponse("Electron IPC not available")}catch(n){return this.handleError(n)}}async searchSales(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.getSales();if(!s.success)return this.createErrorResponse(s.error||"Failed to fetch sales");const o=(s.data||[]).filter(i=>i.id.toLowerCase().includes(e.toLowerCase())||i.customerName?.toLowerCase().includes(e.toLowerCase())||i.paymentMethod.toLowerCase().includes(e.toLowerCase()));return this.createSuccessResponse(o)}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}async validateStockAvailability(e){try{if(typeof window<"u"&&window.electronAPI){const s=await window.electronAPI.getProducts();if(!s.success)return this.createErrorResponse(s.error||"Failed to fetch products");const n=s.data||[];for(const o of e){const i=n.find(l=>l.id===o.productId);if(!i)return this.createErrorResponse(`Product ${o.productName} not found`);if(i.stock<o.quantity)return this.createErrorResponse(`Insufficient stock for ${o.productName}. Available: ${i.stock}`)}return this.createSuccessResponse(!0)}return this.createErrorResponse("Electron IPC not available")}catch(s){return this.handleError(s)}}}class cU extends Bu{constructor(){super()}async getCompanySettings(){try{if(console.log("getCompanySettings called"),console.log("window exists:",typeof window<"u"),console.log("electronAPI exists:",!!(typeof window<"u"&&window.electronAPI)),typeof window<"u"&&window.electronAPI){if(console.log("Available methods:",Object.keys(window.electronAPI)),window.electronAPI.getCompanySettings){console.log("Using getCompanySettings method");const s=await window.electronAPI.getCompanySettings();return s.success&&s.data?this.createSuccessResponse(s.data):this.createErrorResponse(s.error||"Failed to get company settings")}if(window.electronAPI.loadData){console.log("Using loadData fallback method");const s=await window.electronAPI.loadData();if(s.success&&s.data?.settings)return this.createSuccessResponse(s.data.settings)}}console.log("Using default settings fallback");const e={companyName:"TopNotch Electronics",address:"",phone:"",email:"",taxRate:.15,currency:"USD"};return this.createSuccessResponse(e)}catch(e){return console.error("Error in getCompanySettings:",e),this.handleError(e)}}async updateCompanySettings(e){try{if(console.log("updateCompanySettings called with:",e),console.log("window exists:",typeof window<"u"),console.log("electronAPI exists:",!!(typeof window<"u"&&window.electronAPI)),typeof window<"u"&&window.electronAPI){if(console.log("Available methods:",Object.keys(window.electronAPI)),window.electronAPI.updateCompanySettings){console.log("Using updateCompanySettings method");const s=await window.electronAPI.updateCompanySettings(e);return s.success&&s.data?this.createSuccessResponse(s.data):this.createErrorResponse(s.error||"Failed to update company settings")}if(window.electronAPI.saveData&&window.electronAPI.loadData){console.log("Using saveData fallback method");const s=await window.electronAPI.loadData();if(s.success&&s.data){const n={...s.data,settings:{...s.data.settings,...e}};if((await window.electronAPI.saveData(n)).success)return this.createSuccessResponse({...s.data.settings,...e})}}}return console.log("Electron API not available, using mock response"),this.createErrorResponse("Electron API not available - please run in Electron app")}catch(s){return console.error("Error in updateCompanySettings:",s),this.handleError(s)}}async exportData(){try{if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.exportData();return this.createSuccessResponse(e)}else return this.createErrorResponse("Electron API not available")}catch(e){return this.handleError(e)}}async importData(){try{if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.importData();return this.createSuccessResponse(e)}else return this.createErrorResponse("Electron API not available")}catch(e){return this.handleError(e)}}async getPreferences(){try{if(console.log("getPreferences called"),typeof window<"u"&&window.electronAPI&&window.electronAPI.getPreferences){console.log("Using getPreferences method");const s=await window.electronAPI.getPreferences();return s.success&&s.data?this.createSuccessResponse(s.data):this.createErrorResponse(s.error||"Failed to get preferences")}console.log("Using default preferences fallback");const e={autoSaveDrafts:!0,confirmBeforeDelete:!0,showAnimations:!0,lowStockAlerts:!0,defaultPaymentMethod:"cash",invoiceNumberFormat:"INV-{YYYY}-{MM}-{####}",receiptFooter:"Thank you for your business!",autoBackup:!0,backupFrequency:"daily",showProductImages:!0,defaultInvoiceStatus:"completed",receiptPaperSize:"A4",showTaxBreakdown:!0,requireCustomerInfo:!1,autoCalculateTax:!0,defaultDiscountPercent:0,showProfitMargin:!1,inventoryTracking:!0,barcodeScanning:!1,darkMode:!1,language:"en",dateFormat:"MM/DD/YYYY",timeFormat:"12h",currencyPosition:"before",decimalPlaces:2,autoLogout:!1,sessionTimeout:30,printReceipts:!0,soundEffects:!0};return this.createSuccessResponse(e)}catch(e){return console.error("Error in getPreferences:",e),this.handleError(e)}}async updatePreferences(e){try{if(console.log("updatePreferences called with:",e),typeof window<"u"&&window.electronAPI&&window.electronAPI.updatePreferences){console.log("Using updatePreferences method");const s=await window.electronAPI.updatePreferences(e);return s.success&&s.data?this.createSuccessResponse(s.data):this.createErrorResponse(s.error||"Failed to update preferences")}return console.log("Electron API not available, using mock response"),this.createErrorResponse("Electron API not available - please run in Electron app")}catch(s){return console.error("Error in updatePreferences:",s),this.handleError(s)}}}class dU{async getAllOrders(){try{if(typeof window<"u"&&window.electronAPI?.getOrders){const e=await window.electronAPI.getOrders();return{success:e.success,data:e.data||[],error:e.error}}return{success:!1,error:"Electron IPC not available",data:[]}}catch(e){return console.error("Error getting orders:",e),{success:!1,error:e instanceof Error?e.message:"Failed to get orders",data:[]}}}async getOrderById(e){try{if(typeof window<"u"&&window.electronAPI?.getOrderById){const s=await window.electronAPI.getOrderById(e);return{success:s.success,data:s.data||null,error:s.error}}return{success:!1,error:"Electron IPC not available",data:null}}catch(s){return console.error("Error getting order:",s),{success:!1,error:s instanceof Error?s.message:"Failed to get order",data:null}}}async createOrder(e){try{if(typeof window<"u"&&window.electronAPI?.createOrder){const s=await window.electronAPI.createOrder(e);return{success:s.success,data:s.data,error:s.error}}return{success:!1,error:"Electron IPC not available"}}catch(s){return console.error("Error creating order:",s),{success:!1,error:s instanceof Error?s.message:"Failed to create order"}}}async updateOrder(e,s){try{if(typeof window<"u"&&window.electronAPI?.updateOrder){const n=await window.electronAPI.updateOrder(e,s);return{success:n.success,data:n.data,error:n.error}}return{success:!1,error:"Electron IPC not available"}}catch(n){return console.error("Error updating order:",n),{success:!1,error:n instanceof Error?n.message:"Failed to update order"}}}async deleteOrder(e){try{if(typeof window<"u"&&window.electronAPI?.deleteOrder){const s=await window.electronAPI.deleteOrder(e);return{success:s.success,error:s.error}}return{success:!1,error:"Electron IPC not available"}}catch(s){return console.error("Error deleting order:",s),{success:!1,error:s instanceof Error?s.message:"Failed to delete order"}}}async getOrdersByStatus(e){const s=await this.getAllOrders();return s.success&&s.data?{success:!0,data:s.data.filter(o=>o.status===e)}:s}async getOrdersByPaymentStatus(e){const s=await this.getAllOrders();return s.success&&s.data?{success:!0,data:s.data.filter(o=>o.paymentStatus===e)}:s}async getOrdersBySupplier(e){const s=await this.getAllOrders();return s.success&&s.data?{success:!0,data:s.data.filter(o=>o.supplierName.toLowerCase().includes(e.toLowerCase()))}:s}async searchOrders(e){const s=await this.getAllOrders();if(s.success&&s.data){const n=e.toLowerCase();return{success:!0,data:s.data.filter(i=>i.orderNumber.toLowerCase().includes(n)||i.supplierName.toLowerCase().includes(n)||i.notes?.toLowerCase().includes(n))}}return s}}class uU{async getAllReturns(){try{if(typeof window<"u"&&window.electronAPI?.getReturns){const e=await window.electronAPI.getReturns();return{success:e.success,data:e.data||[],error:e.error}}return{success:!1,error:"Electron IPC not available",data:[]}}catch(e){return console.error("Error getting returns:",e),{success:!1,error:e instanceof Error?e.message:"Failed to get returns",data:[]}}}async getReturnById(e){try{if(typeof window<"u"&&window.electronAPI?.getReturnById){const s=await window.electronAPI.getReturnById(e);return{success:s.success,data:s.data||null,error:s.error}}return{success:!1,error:"Electron IPC not available",data:null}}catch(s){return console.error("Error getting return:",s),{success:!1,error:s instanceof Error?s.message:"Failed to get return",data:null}}}async createReturn(e){try{if(typeof window<"u"&&window.electronAPI?.createReturn){const s=await window.electronAPI.createReturn(e);return{success:s.success,data:s.data,error:s.error}}return{success:!1,error:"Electron IPC not available"}}catch(s){return console.error("Error creating return:",s),{success:!1,error:s instanceof Error?s.message:"Failed to create return"}}}async updateReturn(e,s){try{if(typeof window<"u"&&window.electronAPI?.updateReturn){const n=await window.electronAPI.updateReturn(e,s);return{success:n.success,data:n.data,error:n.error}}return{success:!1,error:"Electron IPC not available"}}catch(n){return console.error("Error updating return:",n),{success:!1,error:n instanceof Error?n.message:"Failed to update return"}}}async deleteReturn(e){try{if(typeof window<"u"&&window.electronAPI?.deleteReturn){const s=await window.electronAPI.deleteReturn(e);return{success:s.success,error:s.error}}return{success:!1,error:"Electron IPC not available"}}catch(s){return console.error("Error deleting return:",s),{success:!1,error:s instanceof Error?s.message:"Failed to delete return"}}}async getReturnsByStatus(e){const s=await this.getAllReturns();return s.success&&s.data?{success:!0,data:s.data.filter(o=>o.status===e)}:s}async getReturnsBySale(e){const s=await this.getAllReturns();return s.success&&s.data?{success:!0,data:s.data.filter(o=>o.saleId===e)}:s}async getReturnsByCustomer(e){const s=await this.getAllReturns();return s.success&&s.data?{success:!0,data:s.data.filter(o=>o.customerId===e)}:s}async searchReturns(e){const s=await this.getAllReturns();if(s.success&&s.data){const n=e.toLowerCase();return{success:!0,data:s.data.filter(i=>i.returnNumber.toLowerCase().includes(n)||i.customerName?.toLowerCase().includes(n)||i.notes?.toLowerCase().includes(n))}}return s}}const bs=new AU,ds=new iU,Er=new lU,En=new cU,Qa=new dU,wr=new uU,QC=x.createContext(void 0),it=()=>{const t=x.useContext(QC);if(t===void 0)throw new Error("useSettings must be used within a SettingsProvider");return t},fU=({children:t})=>{const[e,s]=x.useState({companyName:"",address:"",phone:"",email:"",taxRate:.15,currency:"USD"}),[n,o]=x.useState({autoSaveDrafts:!0,confirmBeforeDelete:!0,showAnimations:!0,lowStockAlerts:!0,defaultPaymentMethod:"cash",invoiceNumberFormat:"INV-{YYYY}-{MM}-{####}",receiptFooter:"Thank you for your business!",autoBackup:!0,backupFrequency:"daily",showProductImages:!0,defaultInvoiceStatus:"completed",receiptPaperSize:"A4",showTaxBreakdown:!0,requireCustomerInfo:!1,autoCalculateTax:!0,defaultDiscountPercent:0,showProfitMargin:!1,inventoryTracking:!0,barcodeScanning:!1,darkMode:!1,language:"en",dateFormat:"MM/DD/YYYY",timeFormat:"12h",currencyPosition:"before",decimalPlaces:2,autoLogout:!1,sessionTimeout:30,printReceipts:!0,soundEffects:!0}),[i,l]=x.useState(!0),[d,u]=x.useState(null),h=async()=>{try{l(!0),u(null);const C=await En.getCompanySettings();C.success&&C.data&&s(C.data);const j=await En.getPreferences();j.success&&j.data&&o(j.data)}catch(C){console.error("Failed to load settings:",C),u("Failed to load settings")}finally{l(!1)}};x.useEffect(()=>{h()},[]);const m=C=>{const j=n.decimalPlaces||2,S=p(),D=n.currencyPosition||"before",N=new Intl.NumberFormat("en-US",{minimumFractionDigits:j,maximumFractionDigits:j}).format(C);return D==="after"?`${N} ${S}`:`${S}${N}`},p=()=>({NLE:"Le",NLe:"NLe",USD:"$",EUR:"€",GBP:"£",CAD:"C$",AUD:"A$",JPY:"¥",CHF:"CHF",CNY:"¥",INR:"₹",BRL:"R$"})[e.currency||"USD"]||"$",v=C=>{if(!C)return"N/A";const j=typeof C=="string"?new Date(C):C;if(isNaN(j.getTime()))return"Invalid Date";const S=n.dateFormat||"MM/DD/YYYY",D={"MM/DD/YYYY":{month:"2-digit",day:"2-digit",year:"numeric"},"DD/MM/YYYY":{day:"2-digit",month:"2-digit",year:"numeric"},"YYYY-MM-DD":{year:"numeric",month:"2-digit",day:"2-digit"},"DD-MM-YYYY":{day:"2-digit",month:"2-digit",year:"numeric"}},N=D[S]||D["MM/DD/YYYY"];return new Intl.DateTimeFormat("en-US",N).format(j)},B={companySettings:e,setCompanySettings:s,preferences:n,setPreferences:o,formatCurrency:m,formatDate:v,formatDateTime:C=>{const j=typeof C=="string"?new Date(C):C,S=n.timeFormat||"12h",D=v(j),N=S==="24h"?{hour:"2-digit",minute:"2-digit",hour12:!1}:{hour:"numeric",minute:"2-digit",hour12:!0},E=new Intl.DateTimeFormat("en-US",N).format(j);return`${D} ${E}`},getCurrencySymbol:p,loading:i,error:d,refreshSettings:h,generateInvoiceNumber:()=>{const C=n.invoiceNumberFormat||"INV-{YYYY}-{MM}-{####}",j=new Date;return C.replace("{YYYY}",j.getFullYear().toString()).replace("{MM}",String(j.getMonth()+1).padStart(2,"0")).replace("{DD}",String(j.getDate()).padStart(2,"0")).replace("{####}",String(Math.floor(Math.random()*9999)+1).padStart(4,"0"))}};return r.jsx(QC.Provider,{value:B,children:t})},hU=()=>{const{preferences:t}=it();x.useEffect(()=>{const e=document.documentElement;t.darkMode?e.classList.add("theme-dark"):e.classList.remove("theme-dark")},[t.darkMode])};function mU(){const[t,e]=x.useState(!1),[s,n]=x.useState("TopNotch Sales Manager"),o=_n(),i=vt(),l=o.pathname;hU();const d=x.useCallback(()=>l==="/"?"Overview":l.startsWith("/sales")?"Sales":l.startsWith("/invoices")?"Invoices":l.startsWith("/orders")?"Orders":l.startsWith("/products")?"Products":l.startsWith("/customers")?"Customers":l.startsWith("/inventory")?"Inventory":l.startsWith("/returns")?"Returns":l.startsWith("/reports")?"Reports":l.startsWith("/settings")?"Settings":"TopNotch Sales Manager",[l]);x.useEffect(()=>{n(d())},[d]);const u=v=>{const w={Overview:"/",Sales:"/sales",Invoices:"/invoices",Orders:"/orders",Products:"/products",Customers:"/customers",Inventory:"/inventory",Returns:"/returns",Reports:"/reports",Settings:"/settings","Company Info":"/settings?tab=company","Tax Settings":"/settings?tab=tax","Data Backup":"/settings?tab=backup",Preferences:"/settings?tab=preferences"}[v];w&&w!==l&&i(w),e(!1)},h=()=>{const v=document.getElementById("mobile-drawer");v&&(t?v.close():v.showModal(),e(!t))},m=v=>{u(v),e(!1)},p=()=>l==="/sales"?r.jsx(r.Fragment,{children:r.jsx("button",{className:"btn btn-ghost",onClick:()=>window.location.href="/sales/new",children:"New Sale"})}):l==="/invoices"?r.jsx(r.Fragment,{children:r.jsx("button",{className:"btn btn-ghost",onClick:()=>window.location.href="/invoices/new",children:"New Invoice"})}):l==="/customers"?r.jsx(r.Fragment,{children:r.jsx("button",{className:"btn btn-ghost",onClick:()=>window.location.href="/customers/new",children:"New Customer"})}):l==="/products"?r.jsx(r.Fragment,{children:r.jsx("button",{className:"btn btn-ghost",onClick:()=>window.location.href="/products/new",children:"New Product"})}):null;return r.jsx(mC,{sidebar:r.jsx(Wd,{active:s,onSelect:u,items:lg}),header:r.jsx(hC,{title:s,onMenuClick:h,actions:p()}),mobileDrawer:r.jsx(SC,{id:"mobile-drawer",title:"Navigation",children:r.jsx(Wd,{active:s,onSelect:m,items:lg,drawer:!0})}),children:r.jsx(hQ,{})})}function gU(){return r.jsx(x.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:r.jsx(mU,{})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function kl(t){return t+.5|0}const xa=(t,e,s)=>Math.max(Math.min(t,s),e);function Gi(t){return xa(kl(t*2.55),0,255)}function Ea(t){return xa(kl(t*255),0,255)}function Fn(t){return xa(kl(t/2.55)/100,0,1)}function Zb(t){return xa(kl(t*100),0,100)}const pr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hg=[..."0123456789ABCDEF"],pU=t=>hg[t&15],xU=t=>hg[(t&240)>>4]+hg[t&15],Zc=t=>(t&240)>>4===(t&15),vU=t=>Zc(t.r)&&Zc(t.g)&&Zc(t.b)&&Zc(t.a);function yU(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&pr[t[1]]*17,g:255&pr[t[2]]*17,b:255&pr[t[3]]*17,a:e===5?pr[t[4]]*17:255}:(e===7||e===9)&&(s={r:pr[t[1]]<<4|pr[t[2]],g:pr[t[3]]<<4|pr[t[4]],b:pr[t[5]]<<4|pr[t[6]],a:e===9?pr[t[7]]<<4|pr[t[8]]:255})),s}const bU=(t,e)=>t<255?e(t):"";function wU(t){var e=vU(t)?pU:xU;return t?"#"+e(t.r)+e(t.g)+e(t.b)+bU(t.a,e):void 0}const BU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function EC(t,e,s){const n=e*Math.min(s,1-s),o=(i,l=(i+t/30)%12)=>s-n*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function CU(t,e,s){const n=(o,i=(o+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function jU(t,e,s){const n=EC(t,1,.5);let o;for(e+s>1&&(o=1/(e+s),e*=o,s*=o),o=0;o<3;o++)n[o]*=1-e-s,n[o]+=e;return n}function NU(t,e,s,n,o){return t===o?(e-s)/n+(e<s?6:0):e===o?(s-t)/n+2:(t-e)/n+4}function up(t){const s=t.r/255,n=t.g/255,o=t.b/255,i=Math.max(s,n,o),l=Math.min(s,n,o),d=(i+l)/2;let u,h,m;return i!==l&&(m=i-l,h=d>.5?m/(2-i-l):m/(i+l),u=NU(s,n,o,m,i),u=u*60+.5),[u|0,h||0,d]}function fp(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(Ea)}function hp(t,e,s){return fp(EC,t,e,s)}function SU(t,e,s){return fp(jU,t,e,s)}function QU(t,e,s){return fp(CU,t,e,s)}function FC(t){return(t%360+360)%360}function EU(t){const e=BU.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?Gi(+e[5]):Ea(+e[5]));const o=FC(+e[2]),i=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?n=SU(o,i,l):e[1]==="hsv"?n=QU(o,i,l):n=hp(o,i,l),{r:n[0],g:n[1],b:n[2],a:s}}function FU(t,e){var s=up(t);s[0]=FC(s[0]+e),s=hp(s),t.r=s[0],t.g=s[1],t.b=s[2]}function UU(t){if(!t)return;const e=up(t),s=e[0],n=Zb(e[1]),o=Zb(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${o}%, ${Fn(t.a)})`:`hsl(${s}, ${n}%, ${o}%)`}const Jb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},e0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kU(){const t={},e=Object.keys(e0),s=Object.keys(Jb);let n,o,i,l,d;for(n=0;n<e.length;n++){for(l=d=e[n],o=0;o<s.length;o++)i=s[o],d=d.replace(i,Jb[i]);i=parseInt(e0[l],16),t[d]=[i>>16&255,i>>8&255,i&255]}return t}let Jc;function DU(t){Jc||(Jc=kU(),Jc.transparent=[0,0,0,0]);const e=Jc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const IU=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function RU(t){const e=IU.exec(t);let s=255,n,o,i;if(e){if(e[7]!==n){const l=+e[7];s=e[8]?Gi(l):xa(l*255,0,255)}return n=+e[1],o=+e[3],i=+e[5],n=255&(e[2]?Gi(n):xa(n,0,255)),o=255&(e[4]?Gi(o):xa(o,0,255)),i=255&(e[6]?Gi(i):xa(i,0,255)),{r:n,g:o,b:i,a:s}}}function TU(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Fn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const im=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,cA=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function MU(t,e,s){const n=cA(Fn(t.r)),o=cA(Fn(t.g)),i=cA(Fn(t.b));return{r:Ea(im(n+s*(cA(Fn(e.r))-n))),g:Ea(im(o+s*(cA(Fn(e.g))-o))),b:Ea(im(i+s*(cA(Fn(e.b))-i))),a:t.a+s*(e.a-t.a)}}function ed(t,e,s){if(t){let n=up(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=hp(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function UC(t,e){return t&&Object.assign(e||{},t)}function t0(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ea(t[3]))):(e=UC(t,{r:0,g:0,b:0,a:1}),e.a=Ea(e.a)),e}function HU(t){return t.charAt(0)==="r"?RU(t):EU(t)}class gl{constructor(e){if(e instanceof gl)return e;const s=typeof e;let n;s==="object"?n=t0(e):s==="string"&&(n=yU(e)||DU(e)||HU(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=UC(this._rgb);return e&&(e.a=Fn(e.a)),e}set rgb(e){this._rgb=t0(e)}rgbString(){return this._valid?TU(this._rgb):void 0}hexString(){return this._valid?wU(this._rgb):void 0}hslString(){return this._valid?UU(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,o=e.rgb;let i;const l=s===i?.5:s,d=2*l-1,u=n.a-o.a,h=((d*u===-1?d:(d+u)/(1+d*u))+1)/2;i=1-h,n.r=255&h*n.r+i*o.r+.5,n.g=255&h*n.g+i*o.g+.5,n.b=255&h*n.b+i*o.b+.5,n.a=l*n.a+(1-l)*o.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=MU(this._rgb,e._rgb,s)),this}clone(){return new gl(this.rgb)}alpha(e){return this._rgb.a=Ea(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=kl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ed(this._rgb,2,e),this}darken(e){return ed(this._rgb,2,-e),this}saturate(e){return ed(this._rgb,1,e),this}desaturate(e){return ed(this._rgb,1,-e),this}rotate(e){return FU(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Bn(){}const LU=(()=>{let t=0;return()=>t++})();function ct(t){return t==null}function ws(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function tt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Fr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Xr(t,e){return Fr(t)?t:e}function Pe(t,e){return typeof t>"u"?e:t}const _U=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,kC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Et(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function ft(t,e,s,n){let o,i,l;if(ws(t))for(i=t.length,o=0;o<i;o++)e.call(s,t[o],o);else if(tt(t))for(l=Object.keys(t),i=l.length,o=0;o<i;o++)e.call(s,t[l[o]],l[o])}function qd(t,e){let s,n,o,i;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(o=t[s],i=e[s],o.datasetIndex!==i.datasetIndex||o.index!==i.index)return!1;return!0}function Zd(t){if(ws(t))return t.map(Zd);if(tt(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let o=0;for(;o<n;++o)e[s[o]]=Zd(t[s[o]]);return e}return t}function DC(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function OU(t,e,s,n){if(!DC(t))return;const o=e[t],i=s[t];tt(o)&&tt(i)?pl(o,i,n):e[t]=Zd(i)}function pl(t,e,s){const n=ws(e)?e:[e],o=n.length;if(!tt(t))return t;s=s||{};const i=s.merger||OU;let l;for(let d=0;d<o;++d){if(l=n[d],!tt(l))continue;const u=Object.keys(l);for(let h=0,m=u.length;h<m;++h)i(u[h],t,l,s)}return t}function sl(t,e){return pl(t,e,{merger:PU})}function PU(t,e,s){if(!DC(t))return;const n=e[t],o=s[t];tt(n)&&tt(o)?sl(n,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Zd(o))}const s0={"":t=>t,x:t=>t.x,y:t=>t.y};function KU(t){const e=t.split("."),s=[];let n="";for(const o of e)n+=o,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function zU(t){const e=KU(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function po(t,e){return(s0[e]||(s0[e]=zU(e)))(t)}function mp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xl=t=>typeof t<"u",Ia=t=>typeof t=="function",r0=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function VU(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const jt=Math.PI,Xt=2*jt,GU=Xt+jt,Jd=Number.POSITIVE_INFINITY,YU=jt/180,us=jt/2,so=jt/4,n0=jt*2/3,IC=Math.log10,Zr=Math.sign;function rl(t,e,s){return Math.abs(t-e)<s}function a0(t){const e=Math.round(t);t=rl(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(IC(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function XU(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((o,i)=>o-i).pop(),e}function $U(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function vl(t){return!$U(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function WU(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function qU(t,e,s){let n,o,i;for(n=0,o=t.length;n<o;n++)i=t[n][s],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function kn(t){return t*(jt/180)}function ZU(t){return t*(180/jt)}function o0(t){if(!Fr(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function RC(t,e){const s=e.x-t.x,n=e.y-t.y,o=Math.sqrt(s*s+n*n);let i=Math.atan2(n,s);return i<-.5*jt&&(i+=Xt),{angle:i,distance:o}}function mg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function JU(t,e){return(t-e+GU)%Xt-jt}function Rr(t){return(t%Xt+Xt)%Xt}function yl(t,e,s,n){const o=Rr(t),i=Rr(e),l=Rr(s),d=Rr(i-o),u=Rr(l-o),h=Rr(o-i),m=Rr(o-l);return o===i||o===l||n&&i===l||d>u&&h<m}function Rs(t,e,s){return Math.max(e,Math.min(s,t))}function e4(t){return Rs(t,-32768,32767)}function va(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function gp(t,e,s){s=s||(l=>t[l]<e);let n=t.length-1,o=0,i;for(;n-o>1;)i=o+n>>1,s(i)?o=i:n=i;return{lo:o,hi:n}}const lo=(t,e,s,n)=>gp(t,s,n?o=>{const i=t[o][e];return i<s||i===s&&t[o+1][e]===s}:o=>t[o][e]<s),t4=(t,e,s)=>gp(t,s,n=>t[n][e]>=s);function s4(t,e,s){let n=0,o=t.length;for(;n<o&&t[n]<e;)n++;for(;o>n&&t[o-1]>s;)o--;return n>0||o<t.length?t.slice(n,o):t}const TC=["push","pop","shift","splice","unshift"];function r4(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),TC.forEach(s=>{const n="_onData"+mp(s),o=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...i){const l=o.apply(this,i);return t._chartjs.listeners.forEach(d=>{typeof d[n]=="function"&&d[n](...i)}),l}})})}function A0(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,o=n.indexOf(e);o!==-1&&n.splice(o,1),!(n.length>0)&&(TC.forEach(i=>{delete t[i]}),delete t._chartjs)}function MC(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const HC=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function LC(t,e){let s=[],n=!1;return function(...o){s=o,n||(n=!0,HC.call(window,()=>{n=!1,t.apply(e,s)}))}}function n4(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const _C=t=>t==="start"?"left":t==="end"?"right":"center",or=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,a4=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function o4(t,e,s){const n=e.length;let o=0,i=n;if(t._sorted){const{iScale:l,vScale:d,_parsed:u}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=l.axis,{min:p,max:v,minDefined:b,maxDefined:w}=l.getUserBounds();if(b){if(o=Math.min(lo(u,m,p).lo,s?n:lo(e,m,l.getPixelForValue(p)).lo),h){const B=u.slice(0,o+1).reverse().findIndex(C=>!ct(C[d.axis]));o-=Math.max(0,B)}o=Rs(o,0,n-1)}if(w){let B=Math.max(lo(u,l.axis,v,!0).hi+1,s?0:lo(e,m,l.getPixelForValue(v),!0).hi+1);if(h){const C=u.slice(B-1).findIndex(j=>!ct(j[d.axis]));B+=Math.max(0,C)}i=Rs(B,o,n)-o}else i=n-o}return{start:o,count:i}}function A4(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,o={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=o,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,o),i}const td=t=>t===0||t===1,i0=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Xt/s)),l0=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Xt/s)+1,nl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*us)+1,easeOutSine:t=>Math.sin(t*us),easeInOutSine:t=>-.5*(Math.cos(jt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>td(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>td(t)?t:i0(t,.075,.3),easeOutElastic:t=>td(t)?t:l0(t,.075,.3),easeInOutElastic(t){return td(t)?t:t<.5?.5*i0(t*2,.1125,.45):.5+.5*l0(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-nl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?nl.easeInBounce(t*2)*.5:nl.easeOutBounce(t*2-1)*.5+.5};function pp(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function c0(t){return pp(t)?t:new gl(t)}function lm(t){return pp(t)?t:new gl(t).saturate(.5).darken(.1).hexString()}const i4=["x","y","borderWidth","radius","tension"],l4=["color","borderColor","backgroundColor"];function c4(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:l4},numbers:{type:"number",properties:i4}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function d4(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const d0=new Map;function u4(t,e){e=e||{};const s=t+JSON.stringify(e);let n=d0.get(s);return n||(n=new Intl.NumberFormat(t,e),d0.set(s,n)),n}function xp(t,e,s){return u4(e,s).format(t)}const f4={values(t){return ws(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let o,i=t;if(s.length>1){const h=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(h<1e-4||h>1e15)&&(o="scientific"),i=h4(t,s)}const l=IC(Math.abs(i)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:o,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(u,this.options.ticks.format),xp(t,n,u)}};function h4(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var OC={formatters:f4};function m4(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:OC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const xo=Object.create(null),gg=Object.create(null);function al(t,e){if(!e)return t;const s=e.split(".");for(let n=0,o=s.length;n<o;++n){const i=s[n];t=t[i]||(t[i]=Object.create(null))}return t}function cm(t,e,s){return typeof e=="string"?pl(al(t,e),s):pl(al(t,""),e)}class g4{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,o)=>lm(o.backgroundColor),this.hoverBorderColor=(n,o)=>lm(o.borderColor),this.hoverColor=(n,o)=>lm(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return cm(this,e,s)}get(e){return al(this,e)}describe(e,s){return cm(gg,e,s)}override(e,s){return cm(xo,e,s)}route(e,s,n,o){const i=al(this,e),l=al(this,n),d="_"+s;Object.defineProperties(i,{[d]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const u=this[d],h=l[o];return tt(u)?Object.assign({},h,u):Pe(u,h)},set(u){this[d]=u}}})}apply(e){e.forEach(s=>s(this))}}var ts=new g4({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[c4,d4,m4]);function p4(t){return!t||ct(t.size)||ct(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function u0(t,e,s,n,o){let i=e[o];return i||(i=e[o]=t.measureText(o).width,s.push(o)),i>n&&(n=i),n}function ro(t,e,s){const n=t.currentDevicePixelRatio,o=s!==0?Math.max(s/2,.5):0;return Math.round((e-o)*n)/n+o}function f0(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function pg(t,e,s,n){PC(t,e,s,n,null)}function PC(t,e,s,n,o){let i,l,d,u,h,m,p,v;const b=e.pointStyle,w=e.rotation,B=e.radius;let C=(w||0)*YU;if(b&&typeof b=="object"&&(i=b.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(C),t.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),t.restore();return}if(!(isNaN(B)||B<=0)){switch(t.beginPath(),b){default:o?t.ellipse(s,n,o/2,B,0,0,Xt):t.arc(s,n,B,0,Xt),t.closePath();break;case"triangle":m=o?o/2:B,t.moveTo(s+Math.sin(C)*m,n-Math.cos(C)*B),C+=n0,t.lineTo(s+Math.sin(C)*m,n-Math.cos(C)*B),C+=n0,t.lineTo(s+Math.sin(C)*m,n-Math.cos(C)*B),t.closePath();break;case"rectRounded":h=B*.516,u=B-h,l=Math.cos(C+so)*u,p=Math.cos(C+so)*(o?o/2-h:u),d=Math.sin(C+so)*u,v=Math.sin(C+so)*(o?o/2-h:u),t.arc(s-p,n-d,h,C-jt,C-us),t.arc(s+v,n-l,h,C-us,C),t.arc(s+p,n+d,h,C,C+us),t.arc(s-v,n+l,h,C+us,C+jt),t.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*B,m=o?o/2:u,t.rect(s-m,n-u,2*m,2*u);break}C+=so;case"rectRot":p=Math.cos(C)*(o?o/2:B),l=Math.cos(C)*B,d=Math.sin(C)*B,v=Math.sin(C)*(o?o/2:B),t.moveTo(s-p,n-d),t.lineTo(s+v,n-l),t.lineTo(s+p,n+d),t.lineTo(s-v,n+l),t.closePath();break;case"crossRot":C+=so;case"cross":p=Math.cos(C)*(o?o/2:B),l=Math.cos(C)*B,d=Math.sin(C)*B,v=Math.sin(C)*(o?o/2:B),t.moveTo(s-p,n-d),t.lineTo(s+p,n+d),t.moveTo(s+v,n-l),t.lineTo(s-v,n+l);break;case"star":p=Math.cos(C)*(o?o/2:B),l=Math.cos(C)*B,d=Math.sin(C)*B,v=Math.sin(C)*(o?o/2:B),t.moveTo(s-p,n-d),t.lineTo(s+p,n+d),t.moveTo(s+v,n-l),t.lineTo(s-v,n+l),C+=so,p=Math.cos(C)*(o?o/2:B),l=Math.cos(C)*B,d=Math.sin(C)*B,v=Math.sin(C)*(o?o/2:B),t.moveTo(s-p,n-d),t.lineTo(s+p,n+d),t.moveTo(s+v,n-l),t.lineTo(s-v,n+l);break;case"line":l=o?o/2:Math.cos(C)*B,d=Math.sin(C)*B,t.moveTo(s-l,n-d),t.lineTo(s+l,n+d);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(C)*(o?o/2:B),n+Math.sin(C)*B);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function bl(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function vp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function yp(t){t.restore()}function x4(t,e,s,n,o){if(!e)return t.lineTo(s.x,s.y);if(o==="middle"){const i=(e.x+s.x)/2;t.lineTo(i,e.y),t.lineTo(i,s.y)}else o==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function v4(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function y4(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ct(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function b4(t,e,s,n,o){if(o.strikethrough||o.underline){const i=t.measureText(n),l=e-i.actualBoundingBoxLeft,d=e+i.actualBoundingBoxRight,u=s-i.actualBoundingBoxAscent,h=s+i.actualBoundingBoxDescent,m=o.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(l,m),t.lineTo(d,m),t.stroke()}}function w4(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function eu(t,e,s,n,o,i={}){const l=ws(e)?e:[e],d=i.strokeWidth>0&&i.strokeColor!=="";let u,h;for(t.save(),t.font=o.string,y4(t,i),u=0;u<l.length;++u)h=l[u],i.backdrop&&w4(t,i.backdrop),d&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ct(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(h,s,n,i.maxWidth)),t.fillText(h,s,n,i.maxWidth),b4(t,s,n,h,i),n+=Number(o.lineHeight);t.restore()}function tu(t,e){const{x:s,y:n,w:o,h:i,radius:l}=e;t.arc(s+l.topLeft,n+l.topLeft,l.topLeft,1.5*jt,jt,!0),t.lineTo(s,n+i-l.bottomLeft),t.arc(s+l.bottomLeft,n+i-l.bottomLeft,l.bottomLeft,jt,us,!0),t.lineTo(s+o-l.bottomRight,n+i),t.arc(s+o-l.bottomRight,n+i-l.bottomRight,l.bottomRight,us,0,!0),t.lineTo(s+o,n+l.topRight),t.arc(s+o-l.topRight,n+l.topRight,l.topRight,0,-us,!0),t.lineTo(s+l.topLeft,n)}const B4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,C4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j4(t,e){const s=(""+t).match(B4);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const N4=t=>+t||0;function bp(t,e){const s={},n=tt(e),o=n?Object.keys(e):e,i=tt(t)?n?l=>Pe(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of o)s[l]=N4(i(l));return s}function KC(t){return bp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function bA(t){return bp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Mr(t){const e=KC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function $s(t,e){t=t||{},e=e||ts.font;let s=Pe(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=Pe(t.style,e.style);n&&!(""+n).match(C4)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const o={family:Pe(t.family,e.family),lineHeight:j4(Pe(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:Pe(t.weight,e.weight),string:""};return o.string=p4(o),o}function sd(t,e,s,n){let o,i,l;for(o=0,i=t.length;o<i;++o)if(l=t[o],l!==void 0&&l!==void 0)return l}function S4(t,e,s){const{min:n,max:o}=t,i=kC(e,(o-n)/2),l=(d,u)=>s&&d===0?0:d+u;return{min:l(n,-Math.abs(i)),max:l(o,i)}}function vo(t,e){return Object.assign(Object.create(t),e)}function wp(t,e=[""],s,n,o=()=>t[0]){const i=s||t;typeof n>"u"&&(n=YC("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:o,override:d=>wp([d,...t],e,i,n)};return new Proxy(l,{deleteProperty(d,u){return delete d[u],delete d._keys,delete t[0][u],!0},get(d,u){return VC(d,u,()=>R4(u,e,t,d))},getOwnPropertyDescriptor(d,u){return Reflect.getOwnPropertyDescriptor(d._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,u){return m0(d).includes(u)},ownKeys(d){return m0(d)},set(d,u,h){const m=d._storage||(d._storage=o());return d[u]=m[u]=h,delete d._keys,!0}})}function NA(t,e,s,n){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:zC(t,n),setContext:i=>NA(t,i,s,n),override:i=>NA(t.override(i),e,s,n)};return new Proxy(o,{deleteProperty(i,l){return delete i[l],delete t[l],!0},get(i,l,d){return VC(i,l,()=>E4(i,l,d))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(i,l,d){return t[l]=d,delete i[l],!0}})}function zC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:s,indexable:n,isScriptable:Ia(s)?s:()=>s,isIndexable:Ia(n)?n:()=>n}}const Q4=(t,e)=>t?t+mp(e):e,Bp=(t,e)=>tt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function VC(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function E4(t,e,s){const{_proxy:n,_context:o,_subProxy:i,_descriptors:l}=t;let d=n[e];return Ia(d)&&l.isScriptable(e)&&(d=F4(e,d,t,s)),ws(d)&&d.length&&(d=U4(e,d,t,l.isIndexable)),Bp(e,d)&&(d=NA(d,o,i&&i[e],l)),d}function F4(t,e,s,n){const{_proxy:o,_context:i,_subProxy:l,_stack:d}=s;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let u=e(i,l||n);return d.delete(t),Bp(t,u)&&(u=Cp(o._scopes,o,t,u)),u}function U4(t,e,s,n){const{_proxy:o,_context:i,_subProxy:l,_descriptors:d}=s;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(tt(e[0])){const u=e,h=o._scopes.filter(m=>m!==u);e=[];for(const m of u){const p=Cp(h,o,t,m);e.push(NA(p,i,l&&l[t],d))}}return e}function GC(t,e,s){return Ia(t)?t(e,s):t}const k4=(t,e)=>t===!0?e:typeof t=="string"?po(e,t):void 0;function D4(t,e,s,n,o){for(const i of e){const l=k4(s,i);if(l){t.add(l);const d=GC(l._fallback,s,o);if(typeof d<"u"&&d!==s&&d!==n)return d}else if(l===!1&&typeof n<"u"&&s!==n)return null}return!1}function Cp(t,e,s,n){const o=e._rootScopes,i=GC(e._fallback,s,n),l=[...t,...o],d=new Set;d.add(n);let u=h0(d,l,s,i||s,n);return u===null||typeof i<"u"&&i!==s&&(u=h0(d,l,i,u,n),u===null)?!1:wp(Array.from(d),[""],o,i,()=>I4(e,s,n))}function h0(t,e,s,n,o){for(;s;)s=D4(t,e,s,n,o);return s}function I4(t,e,s){const n=t._getTarget();e in n||(n[e]={});const o=n[e];return ws(o)&&tt(s)?s:o||{}}function R4(t,e,s,n){let o;for(const i of e)if(o=YC(Q4(i,t),s),typeof o<"u")return Bp(t,o)?Cp(s,n,t,o):o}function YC(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function m0(t){let e=t._keys;return e||(e=t._keys=T4(t._scopes)),e}function T4(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(o=>!o.startsWith("_")))e.add(n);return Array.from(e)}const M4=Number.EPSILON||1e-14,SA=(t,e)=>e<t.length&&!t[e].skip&&t[e],XC=t=>t==="x"?"y":"x";function H4(t,e,s,n){const o=t.skip?e:t,i=e,l=s.skip?e:s,d=mg(i,o),u=mg(l,i);let h=d/(d+u),m=u/(d+u);h=isNaN(h)?0:h,m=isNaN(m)?0:m;const p=n*h,v=n*m;return{previous:{x:i.x-p*(l.x-o.x),y:i.y-p*(l.y-o.y)},next:{x:i.x+v*(l.x-o.x),y:i.y+v*(l.y-o.y)}}}function L4(t,e,s){const n=t.length;let o,i,l,d,u,h=SA(t,0);for(let m=0;m<n-1;++m)if(u=h,h=SA(t,m+1),!(!u||!h)){if(rl(e[m],0,M4)){s[m]=s[m+1]=0;continue}o=s[m]/e[m],i=s[m+1]/e[m],d=Math.pow(o,2)+Math.pow(i,2),!(d<=9)&&(l=3/Math.sqrt(d),s[m]=o*l*e[m],s[m+1]=i*l*e[m])}}function _4(t,e,s="x"){const n=XC(s),o=t.length;let i,l,d,u=SA(t,0);for(let h=0;h<o;++h){if(l=d,d=u,u=SA(t,h+1),!d)continue;const m=d[s],p=d[n];l&&(i=(m-l[s])/3,d[`cp1${s}`]=m-i,d[`cp1${n}`]=p-i*e[h]),u&&(i=(u[s]-m)/3,d[`cp2${s}`]=m+i,d[`cp2${n}`]=p+i*e[h])}}function O4(t,e="x"){const s=XC(e),n=t.length,o=Array(n).fill(0),i=Array(n);let l,d,u,h=SA(t,0);for(l=0;l<n;++l)if(d=u,u=h,h=SA(t,l+1),!!u){if(h){const m=h[e]-u[e];o[l]=m!==0?(h[s]-u[s])/m:0}i[l]=d?h?Zr(o[l-1])!==Zr(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}L4(t,o,i),_4(t,i,e)}function rd(t,e,s){return Math.max(Math.min(t,s),e)}function P4(t,e){let s,n,o,i,l,d=bl(t[0],e);for(s=0,n=t.length;s<n;++s)l=i,i=d,d=s<n-1&&bl(t[s+1],e),i&&(o=t[s],l&&(o.cp1x=rd(o.cp1x,e.left,e.right),o.cp1y=rd(o.cp1y,e.top,e.bottom)),d&&(o.cp2x=rd(o.cp2x,e.left,e.right),o.cp2y=rd(o.cp2y,e.top,e.bottom)))}function K4(t,e,s,n,o){let i,l,d,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")O4(t,o);else{let h=n?t[t.length-1]:t[0];for(i=0,l=t.length;i<l;++i)d=t[i],u=H4(h,d,t[Math.min(i+1,l-(n?0:1))%l],e.tension),d.cp1x=u.previous.x,d.cp1y=u.previous.y,d.cp2x=u.next.x,d.cp2y=u.next.y,h=d}e.capBezierPoints&&P4(t,s)}function jp(){return typeof window<"u"&&typeof document<"u"}function Np(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function su(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Cu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function z4(t,e){return Cu(t).getPropertyValue(e)}const V4=["top","right","bottom","left"];function uo(t,e,s){const n={};s=s?"-"+s:"";for(let o=0;o<4;o++){const i=V4[o];n[i]=parseFloat(t[e+"-"+i+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const G4=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function Y4(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:o,offsetY:i}=n;let l=!1,d,u;if(G4(o,i,t.target))d=o,u=i;else{const h=e.getBoundingClientRect();d=n.clientX-h.left,u=n.clientY-h.top,l=!0}return{x:d,y:u,box:l}}function oo(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,o=Cu(s),i=o.boxSizing==="border-box",l=uo(o,"padding"),d=uo(o,"border","width"),{x:u,y:h,box:m}=Y4(t,s),p=l.left+(m&&d.left),v=l.top+(m&&d.top);let{width:b,height:w}=e;return i&&(b-=l.width+d.width,w-=l.height+d.height),{x:Math.round((u-p)/b*s.width/n),y:Math.round((h-v)/w*s.height/n)}}function X4(t,e,s){let n,o;if(e===void 0||s===void 0){const i=t&&Np(t);if(!i)e=t.clientWidth,s=t.clientHeight;else{const l=i.getBoundingClientRect(),d=Cu(i),u=uo(d,"border","width"),h=uo(d,"padding");e=l.width-h.width-u.width,s=l.height-h.height-u.height,n=su(d.maxWidth,i,"clientWidth"),o=su(d.maxHeight,i,"clientHeight")}}return{width:e,height:s,maxWidth:n||Jd,maxHeight:o||Jd}}const ya=t=>Math.round(t*10)/10;function $4(t,e,s,n){const o=Cu(t),i=uo(o,"margin"),l=su(o.maxWidth,t,"clientWidth")||Jd,d=su(o.maxHeight,t,"clientHeight")||Jd,u=X4(t,e,s);let{width:h,height:m}=u;if(o.boxSizing==="content-box"){const v=uo(o,"border","width"),b=uo(o,"padding");h-=b.width+v.width,m-=b.height+v.height}return h=Math.max(0,h-i.width),m=Math.max(0,n?h/n:m-i.height),h=ya(Math.min(h,l,u.maxWidth)),m=ya(Math.min(m,d,u.maxHeight)),h&&!m&&(m=ya(h/2)),(e!==void 0||s!==void 0)&&n&&u.height&&m>u.height&&(m=u.height,h=ya(Math.floor(m*n))),{width:h,height:m}}function g0(t,e,s){const n=e||1,o=ya(t.height*n),i=ya(t.width*n);t.height=ya(t.height),t.width=ya(t.width);const l=t.canvas;return l.style&&(s||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||l.height!==o||l.width!==i?(t.currentDevicePixelRatio=n,l.height=o,l.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const W4=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};jp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function p0(t,e){const s=z4(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Ao(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function q4(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function Z4(t,e,s,n){const o={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},l=Ao(t,o,s),d=Ao(o,i,s),u=Ao(i,e,s),h=Ao(l,d,s),m=Ao(d,u,s);return Ao(h,m,s)}const J4=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},e5=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function wA(t,e,s){return t?J4(e,s):e5()}function $C(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function WC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function qC(t){return t==="angle"?{between:yl,compare:JU,normalize:Rr}:{between:va,compare:(e,s)=>e-s,normalize:e=>e}}function x0({start:t,end:e,count:s,loop:n,style:o}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:o}}function t5(t,e,s){const{property:n,start:o,end:i}=s,{between:l,normalize:d}=qC(n),u=e.length;let{start:h,end:m,loop:p}=t,v,b;if(p){for(h+=u,m+=u,v=0,b=u;v<b&&l(d(e[h%u][n]),o,i);++v)h--,m--;h%=u,m%=u}return m<h&&(m+=u),{start:h,end:m,loop:p,style:t.style}}function s5(t,e,s){if(!s)return[t];const{property:n,start:o,end:i}=s,l=e.length,{compare:d,between:u,normalize:h}=qC(n),{start:m,end:p,loop:v,style:b}=t5(t,e,s),w=[];let B=!1,C=null,j,S,D;const N=()=>u(o,D,j)&&d(o,D)!==0,E=()=>d(i,j)===0||u(i,D,j),k=()=>B||N(),T=()=>!B||E();for(let _=m,M=m;_<=p;++_)S=e[_%l],!S.skip&&(j=h(S[n]),j!==D&&(B=u(j,o,i),C===null&&k()&&(C=d(j,o)===0?_:M),C!==null&&T()&&(w.push(x0({start:C,end:_,loop:v,count:l,style:b})),C=null),M=_,D=j));return C!==null&&w.push(x0({start:C,end:p,loop:v,count:l,style:b})),w}function r5(t,e){const s=[],n=t.segments;for(let o=0;o<n.length;o++){const i=s5(n[o],t.points,e);i.length&&s.push(...i)}return s}function n5(t,e,s,n){let o=0,i=e-1;if(s&&!n)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,s&&(i+=o);i>o&&t[i%e].skip;)i--;return i%=e,{start:o,end:i}}function a5(t,e,s,n){const o=t.length,i=[];let l=e,d=t[e],u;for(u=e+1;u<=s;++u){const h=t[u%o];h.skip||h.stop?d.skip||(n=!1,i.push({start:e%o,end:(u-1)%o,loop:n}),e=l=h.stop?u:null):(l=u,d.skip&&(e=u)),d=h}return l!==null&&i.push({start:e%o,end:l%o,loop:n}),i}function o5(t,e){const s=t.points,n=t.options.spanGaps,o=s.length;if(!o)return[];const i=!!t._loop,{start:l,end:d}=n5(s,o,i,n);if(n===!0)return v0(t,[{start:l,end:d,loop:i}],s,e);const u=d<l?d+o:d,h=!!t._fullLoop&&l===0&&d===o-1;return v0(t,a5(s,l,u,h),s,e)}function v0(t,e,s,n){return!n||!n.setContext||!s?e:A5(t,e,s,n)}function A5(t,e,s,n){const o=t._chart.getContext(),i=y0(t.options),{_datasetIndex:l,options:{spanGaps:d}}=t,u=s.length,h=[];let m=i,p=e[0].start,v=p;function b(w,B,C,j){const S=d?-1:1;if(w!==B){for(w+=u;s[w%u].skip;)w-=S;for(;s[B%u].skip;)B+=S;w%u!==B%u&&(h.push({start:w%u,end:B%u,loop:C,style:j}),m=j,p=B%u)}}for(const w of e){p=d?p:w.start;let B=s[p%u],C;for(v=p+1;v<=w.end;v++){const j=s[v%u];C=y0(n.setContext(vo(o,{type:"segment",p0:B,p1:j,p0DataIndex:(v-1)%u,p1DataIndex:v%u,datasetIndex:l}))),i5(C,m)&&b(p,v-1,w.loop,m),B=j,m=C}p<v-1&&b(p,v-1,w.loop,m)}return h}function y0(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function i5(t,e){if(!e)return!1;const s=[],n=function(o,i){return pp(i)?(s.includes(i)||s.push(i),s.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function nd(t,e,s){return t.options.clip?t[s]:e[s]}function l5(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:nd(s,e,"left"),right:nd(s,e,"right"),top:nd(n,e,"top"),bottom:nd(n,e,"bottom")}:e}function c5(t,e){const s=e._clip;if(s.disabled)return!1;const n=l5(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class d5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,o){const i=s.listeners[o],l=s.duration;i.forEach(d=>d({chart:e,initial:s.initial,numSteps:l,currentStep:Math.min(n-s.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=HC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,o)=>{if(!n.running||!n.items.length)return;const i=n.items;let l=i.length-1,d=!1,u;for(;l>=0;--l)u=i[l],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(e),d=!0):(i[l]=i[i.length-1],i.pop());d&&(o.draw(),this._notify(o,n,e,"progress")),i.length||(n.running=!1,this._notify(o,n,e,"complete"),n.initial=!1),s+=i.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,o)=>Math.max(n,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let o=n.length-1;for(;o>=0;--o)n[o].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Sn=new d5;const b0="transparent",u5={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=c0(t||b0),o=n.valid&&c0(e||b0);return o&&o.valid?o.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class f5{constructor(e,s,n,o){const i=s[n];o=sd([e.to,o,i,e.from]);const l=sd([e.from,i,o]);this._active=!0,this._fn=e.fn||u5[e.type||typeof l],this._easing=nl[e.easing]||nl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const o=this._target[this._prop],i=n-this._start,l=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=sd([e.to,s,o,e.from]),this._from=sd([e.from,o,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,o=this._prop,i=this._from,l=this._loop,d=this._to;let u;if(this._active=i!==d&&(l||s<n),!this._active){this._target[o]=d,this._notify(!0);return}if(s<0){this._target[o]=i;return}u=s/n%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[o]=this._fn(i,d,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let o=0;o<n.length;o++)n[o][s]()}}class ZC{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!tt(e))return;const s=Object.keys(ts.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const i=e[o];if(!tt(i))return;const l={};for(const d of s)l[d]=i[d];(ws(i.properties)&&i.properties||[o]).forEach(d=>{(d===o||!n.has(d))&&n.set(d,l)})})}_animateOptions(e,s){const n=s.options,o=m5(e,n);if(!o)return[];const i=this._createAnimations(o,n);return n.$shared&&h5(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,s){const n=this._properties,o=[],i=e.$animations||(e.$animations={}),l=Object.keys(s),d=Date.now();let u;for(u=l.length-1;u>=0;--u){const h=l[u];if(h.charAt(0)==="$")continue;if(h==="options"){o.push(...this._animateOptions(e,s));continue}const m=s[h];let p=i[h];const v=n.get(h);if(p)if(v&&p.active()){p.update(v,m,d);continue}else p.cancel();if(!v||!v.duration){e[h]=m;continue}i[h]=p=new f5(v,e,h,m),o.push(p)}return o}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return Sn.add(this._chart,n),!0}}function h5(t,e){const s=[],n=Object.keys(e);for(let o=0;o<n.length;o++){const i=t[n[o]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function m5(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function w0(t,e){const s=t&&t.options||{},n=s.reverse,o=s.min===void 0?e:0,i=s.max===void 0?e:0;return{start:n?i:o,end:n?o:i}}function g5(t,e,s){if(s===!1)return!1;const n=w0(t,s),o=w0(e,s);return{top:o.end,right:n.end,bottom:o.start,left:n.start}}function p5(t){let e,s,n,o;return tt(t)?(e=t.top,s=t.right,n=t.bottom,o=t.left):e=s=n=o=t,{top:e,right:s,bottom:n,left:o,disabled:t===!1}}function JC(t,e){const s=[],n=t._getSortedDatasetMetas(e);let o,i;for(o=0,i=n.length;o<i;++o)s.push(n[o].index);return s}function B0(t,e,s,n={}){const o=t.keys,i=n.mode==="single";let l,d,u,h;if(e===null)return;let m=!1;for(l=0,d=o.length;l<d;++l){if(u=+o[l],u===s){if(m=!0,n.all)continue;break}h=t.values[u],Fr(h)&&(i||e===0||Zr(e)===Zr(h))&&(e+=h)}return!m&&!n.all?0:e}function x5(t,e){const{iScale:s,vScale:n}=e,o=s.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",l=Object.keys(t),d=new Array(l.length);let u,h,m;for(u=0,h=l.length;u<h;++u)m=l[u],d[u]={[o]:m,[i]:t[m]};return d}function dm(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function v5(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function y5(t){const{min:e,max:s,minDefined:n,maxDefined:o}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:o?s:Number.POSITIVE_INFINITY}}function b5(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function C0(t,e,s,n){for(const o of e.getMatchingVisibleMetas(n).reverse()){const i=t[o.index];if(s&&i>0||!s&&i<0)return o.index}return null}function j0(t,e){const{chart:s,_cachedMeta:n}=t,o=s._stacks||(s._stacks={}),{iScale:i,vScale:l,index:d}=n,u=i.axis,h=l.axis,m=v5(i,l,n),p=e.length;let v;for(let b=0;b<p;++b){const w=e[b],{[u]:B,[h]:C}=w,j=w._stacks||(w._stacks={});v=j[h]=b5(o,m,B),v[d]=C,v._top=C0(v,l,!0,n.type),v._bottom=C0(v,l,!1,n.type);const S=v._visualValues||(v._visualValues={});S[d]=C}}function um(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function w5(t,e){return vo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function B5(t,e,s){return vo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Ri(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const o of e){const i=o._stacks;if(!i||i[n]===void 0||i[n][s]===void 0)return;delete i[n][s],i[n]._visualValues!==void 0&&i[n]._visualValues[s]!==void 0&&delete i[n]._visualValues[s]}}}const fm=t=>t==="reset"||t==="none",N0=(t,e)=>e?t:Object.assign({},t),C5=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:JC(s,!0),values:null};class ju{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=dm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ri(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),o=(p,v,b,w)=>p==="x"?v:p==="r"?w:b,i=s.xAxisID=Pe(n.xAxisID,um(e,"x")),l=s.yAxisID=Pe(n.yAxisID,um(e,"y")),d=s.rAxisID=Pe(n.rAxisID,um(e,"r")),u=s.indexAxis,h=s.iAxisID=o(u,i,l,d),m=s.vAxisID=o(u,l,i,d);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(l),s.rScale=this.getScaleForId(d),s.iScale=this.getScaleForId(h),s.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&A0(this._data,this),e._stacked&&Ri(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(tt(s)){const o=this._cachedMeta;this._data=x5(s,o)}else if(n!==s){if(n){A0(n,this);const o=this._cachedMeta;Ri(o),o._parsed=[]}s&&Object.isExtensible(s)&&r4(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let o=!1;this._dataCheck();const i=s._stacked;s._stacked=dm(s.vScale,s),s.stack!==n.stack&&(o=!0,Ri(s),s.stack=n.stack),this._resyncElements(e),(o||i!==s._stacked)&&(j0(this,s._parsed),s._stacked=dm(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:o}=this,{iScale:i,_stacked:l}=n,d=i.axis;let u=e===0&&s===o.length?!0:n._sorted,h=e>0&&n._parsed[e-1],m,p,v;if(this._parsing===!1)n._parsed=o,n._sorted=!0,v=o;else{ws(o[e])?v=this.parseArrayData(n,o,e,s):tt(o[e])?v=this.parseObjectData(n,o,e,s):v=this.parsePrimitiveData(n,o,e,s);const b=()=>p[d]===null||h&&p[d]<h[d];for(m=0;m<s;++m)n._parsed[m+e]=p=v[m],u&&(b()&&(u=!1),h=p);n._sorted=u}l&&j0(this,v)}parsePrimitiveData(e,s,n,o){const{iScale:i,vScale:l}=e,d=i.axis,u=l.axis,h=i.getLabels(),m=i===l,p=new Array(o);let v,b,w;for(v=0,b=o;v<b;++v)w=v+n,p[v]={[d]:m||i.parse(h[w],w),[u]:l.parse(s[w],w)};return p}parseArrayData(e,s,n,o){const{xScale:i,yScale:l}=e,d=new Array(o);let u,h,m,p;for(u=0,h=o;u<h;++u)m=u+n,p=s[m],d[u]={x:i.parse(p[0],m),y:l.parse(p[1],m)};return d}parseObjectData(e,s,n,o){const{xScale:i,yScale:l}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=new Array(o);let m,p,v,b;for(m=0,p=o;m<p;++m)v=m+n,b=s[v],h[m]={x:i.parse(po(b,d),v),y:l.parse(po(b,u),v)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const o=this.chart,i=this._cachedMeta,l=s[e.axis],d={keys:JC(o,!0),values:s._stacks[e.axis]._visualValues};return B0(d,l,i.index,{mode:n})}updateRangeFromParsed(e,s,n,o){const i=n[s.axis];let l=i===null?NaN:i;const d=o&&n._stacks[s.axis];o&&d&&(o.values=d,l=B0(o,i,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,s){const n=this._cachedMeta,o=n._parsed,i=n._sorted&&e===n.iScale,l=o.length,d=this._getOtherScale(e),u=C5(s,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:p}=y5(d);let v,b;function w(){b=o[v];const B=b[d.axis];return!Fr(b[e.axis])||m>B||p<B}for(v=0;v<l&&!(!w()&&(this.updateRangeFromParsed(h,e,b,u),i));++v);if(i){for(v=l-1;v>=0;--v)if(!w()){this.updateRangeFromParsed(h,e,b,u);break}}return h}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let o,i,l;for(o=0,i=s.length;o<i;++o)l=s[o][e.axis],Fr(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,o=s.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:o?""+o.getLabelForValue(i[o.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=p5(Pe(this.options.clip,g5(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,o=n.data||[],i=s.chartArea,l=[],d=this._drawStart||0,u=this._drawCount||o.length-d,h=this.options.drawActiveElementsOnTop;let m;for(n.dataset&&n.dataset.draw(e,i,d,u),m=d;m<d+u;++m){const p=o[m];p.hidden||(p.active&&h?l.push(p):p.draw(e,i))}for(m=0;m<l.length;++m)l[m].draw(e,i)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const o=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];i=l.$context||(l.$context=B5(this.getContext(),e,l)),i.parsed=this.getParsed(e),i.raw=o.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=w5(this.chart.getContext(),this.index)),i.dataset=o,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const o=s==="active",i=this._cachedDataOpts,l=e+"-"+s,d=i[l],u=this.enableOptionSharing&&xl(n);if(d)return N0(d,u);const h=this.chart.config,m=h.datasetElementScopeKeys(this._type,e),p=o?[`${e}Hover`,"hover",e,""]:[e,""],v=h.getOptionScopes(this.getDataset(),m),b=Object.keys(ts.elements[e]),w=()=>this.getContext(n,o,s),B=h.resolveNamedOptions(v,b,w,p);return B.$shared&&(B.$shared=u,i[l]=Object.freeze(N0(B,u))),B}_resolveAnimations(e,s,n){const o=this.chart,i=this._cachedDataOpts,l=`animation-${s}`,d=i[l];if(d)return d;let u;if(o.options.animation!==!1){const m=this.chart.config,p=m.datasetAnimationScopeKeys(this._type,s),v=m.getOptionScopes(this.getDataset(),p);u=m.createResolver(v,this.getContext(e,n,s))}const h=new ZC(o,u&&u.animations);return u&&u._cacheable&&(i[l]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||fm(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),o=this._sharedOptions,i=this.getSharedOptions(n),l=this.includeOptions(s,i)||i!==o;return this.updateSharedOptions(i,s,n),{sharedOptions:i,includeOptions:l}}updateElement(e,s,n,o){fm(o)?Object.assign(e,n):this._resolveAnimations(s,o).update(e,n)}updateSharedOptions(e,s,n){e&&!fm(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,o){e.active=o;const i=this.getStyle(s,o);this._resolveAnimations(s,n,o).update(e,{options:!o&&this.getSharedOptions(i)||i})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[d,u,h]of this._syncList)this[d](u,h);this._syncList=[];const o=n.length,i=s.length,l=Math.min(i,o);l&&this.parse(0,l),i>o?this._insertElements(o,i-o,e):i<o&&this._removeElements(i,o-i)}_insertElements(e,s,n=!0){const o=this._cachedMeta,i=o.data,l=e+s;let d;const u=h=>{for(h.length+=s,d=h.length-1;d>=l;d--)h[d]=h[d-s]};for(u(i),d=e;d<l;++d)i[d]=new this.dataElementType;this._parsing&&u(o._parsed),this.parse(e,s),n&&this.updateElements(i,e,s,"reset")}updateElements(e,s,n,o){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const o=n._parsed.splice(e,s);n._stacked&&Ri(n,o)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,o]=e;this[s](n,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function j5(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let o=0,i=s.length;o<i;o++)n=n.concat(s[o].controller.getAllParsedValues(t));t._cache.$bar=MC(n.sort((o,i)=>o-i))}return t._cache.$bar}function N5(t){const e=t.iScale,s=j5(e,t.type);let n=e._length,o,i,l,d;const u=()=>{l===32767||l===-32768||(xl(d)&&(n=Math.min(n,Math.abs(l-d)||n)),d=l)};for(o=0,i=s.length;o<i;++o)l=e.getPixelForValue(s[o]),u();for(d=void 0,o=0,i=e.ticks.length;o<i;++o)l=e.getPixelForTick(o),u();return n}function S5(t,e,s,n){const o=s.barThickness;let i,l;return ct(o)?(i=e.min*s.categoryPercentage,l=s.barPercentage):(i=o*n,l=1),{chunk:i/n,ratio:l,start:e.pixels[t]-i/2}}function Q5(t,e,s,n){const o=e.pixels,i=o[t];let l=t>0?o[t-1]:null,d=t<o.length-1?o[t+1]:null;const u=s.categoryPercentage;l===null&&(l=i-(d===null?e.end-e.start:d-i)),d===null&&(d=i+i-l);const h=i-(i-Math.min(l,d))/2*u;return{chunk:Math.abs(d-l)/2*u/n,ratio:s.barPercentage,start:h}}function E5(t,e,s,n){const o=s.parse(t[0],n),i=s.parse(t[1],n),l=Math.min(o,i),d=Math.max(o,i);let u=l,h=d;Math.abs(l)>Math.abs(d)&&(u=d,h=l),e[s.axis]=h,e._custom={barStart:u,barEnd:h,start:o,end:i,min:l,max:d}}function e1(t,e,s,n){return ws(t)?E5(t,e,s,n):e[s.axis]=s.parse(t,n),e}function S0(t,e,s,n){const o=t.iScale,i=t.vScale,l=o.getLabels(),d=o===i,u=[];let h,m,p,v;for(h=s,m=s+n;h<m;++h)v=e[h],p={},p[o.axis]=d||o.parse(l[h],h),u.push(e1(v,p,i,h));return u}function hm(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function F5(t,e,s){return t!==0?Zr(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function U5(t){let e,s,n,o,i;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(o="end",i="start"):(o="start",i="end"),{start:s,end:n,reverse:e,top:o,bottom:i}}function k5(t,e,s,n){let o=e.borderSkipped;const i={};if(!o){t.borderSkipped=i;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:d,reverse:u,top:h,bottom:m}=U5(t);o==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?o=h:(s._bottom||0)===n?o=m:(i[Q0(m,l,d,u)]=!0,o=h)),i[Q0(o,l,d,u)]=!0,t.borderSkipped=i}function Q0(t,e,s,n){return n?(t=D5(t,e,s),t=E0(t,s,e)):t=E0(t,e,s),t}function D5(t,e,s){return t===e?s:t===s?e:t}function E0(t,e,s){return t==="start"?e:t==="end"?s:t}function I5(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class R5 extends ju{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,n,o){return S0(e,s,n,o)}parseArrayData(e,s,n,o){return S0(e,s,n,o)}parseObjectData(e,s,n,o){const{iScale:i,vScale:l}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=i.axis==="x"?d:u,m=l.axis==="x"?d:u,p=[];let v,b,w,B;for(v=n,b=n+o;v<b;++v)B=s[v],w={},w[i.axis]=i.parse(po(B,h),v),p.push(e1(po(B,m),w,l,v));return p}updateRangeFromParsed(e,s,n,o){super.updateRangeFromParsed(e,s,n,o);const i=n._custom;i&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:o}=s,i=this.getParsed(e),l=i._custom,d=hm(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(i[o.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,o){const i=o==="reset",{index:l,_cachedMeta:{vScale:d}}=this,u=d.getBasePixel(),h=d.isHorizontal(),m=this._getRuler(),{sharedOptions:p,includeOptions:v}=this._getSharedOptions(s,o);for(let b=s;b<s+n;b++){const w=this.getParsed(b),B=i||ct(w[d.axis])?{base:u,head:u}:this._calculateBarValuePixels(b),C=this._calculateBarIndexPixels(b,m),j=(w._stacks||{})[d.axis],S={horizontal:h,base:B.base,enableBorderRadius:!j||hm(w._custom)||l===j._top||l===j._bottom,x:h?B.head:C.center,y:h?C.center:B.head,height:h?C.size:Math.abs(B.size),width:h?Math.abs(B.size):C.size};v&&(S.options=p||this.resolveDataElementOptions(b,e[b].active?"active":o));const D=S.options||e[b].options;k5(S,D,j,l),I5(S,D,m.ratio),this.updateElement(e[b],b,S,o)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),i=n.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(s),u=d&&d[n.axis],h=m=>{const p=m._parsed.find(b=>b[n.axis]===u),v=p&&p[m.vScale.axis];if(ct(v)||isNaN(v))return!0};for(const m of o)if(!(s!==void 0&&h(m))&&((i===!1||l.indexOf(m.stack)===-1||i===void 0&&m.stack===void 0)&&l.push(m.stack),m.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Pe(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,n){const o=this._getStacks(e,n),i=s!==void 0?o.indexOf(s):-1;return i===-1?o.length-1:i}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,o=[];let i,l;for(i=0,l=s.data.length;i<l;++i)o.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const d=e.barThickness;return{min:d||N5(s),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:o},options:{base:i,minBarLength:l}}=this,d=i||0,u=this.getParsed(e),h=u._custom,m=hm(h);let p=u[s.axis],v=0,b=n?this.applyStack(s,u,n):p,w,B;b!==p&&(v=b-p,b=p),m&&(p=h.barStart,b=h.barEnd-h.barStart,p!==0&&Zr(p)!==Zr(h.barEnd)&&(v=0),v+=p);const C=!ct(i)&&!m?i:v;let j=s.getPixelForValue(C);if(this.chart.getDataVisibility(e)?w=s.getPixelForValue(v+b):w=j,B=w-j,Math.abs(B)<l){B=F5(B,s,d)*l,p===d&&(j-=B/2);const S=s.getPixelForDecimal(0),D=s.getPixelForDecimal(1),N=Math.min(S,D),E=Math.max(S,D);j=Math.max(Math.min(j,E),N),w=j+B,n&&!m&&(u._stacks[s.axis]._visualValues[o]=s.getValueForPixel(w)-s.getValueForPixel(j))}if(j===s.getPixelForValue(d)){const S=Zr(B)*s.getLineWidthForValue(d)/2;j+=S,B-=S}return{size:B,base:j,head:w,center:w+B/2}}_calculateBarIndexPixels(e,s){const n=s.scale,o=this.options,i=o.skipNull,l=Pe(o.maxBarThickness,1/0);let d,u;const h=this._getAxisCount();if(s.grouped){const m=i?this._getStackCount(e):s.stackCount,p=o.barThickness==="flex"?Q5(e,s,o,m*h):S5(e,s,o,m*h),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(Pe(v,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+b;d=p.start+p.chunk*w+p.chunk/2,u=Math.min(l,p.chunk*p.ratio)}else d=n.getPixelForValue(this.getParsed(e)[n.axis],e),u=Math.min(l,s.min*s.ratio);return{base:d-u/2,head:d+u/2,center:d,size:u}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,o=n.length;let i=0;for(;i<o;++i)this.getParsed(i)[s.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}function T5(t,e,s){let n=1,o=1,i=0,l=0;if(e<Xt){const d=t,u=d+e,h=Math.cos(d),m=Math.sin(d),p=Math.cos(u),v=Math.sin(u),b=(D,N,E)=>yl(D,d,u,!0)?1:Math.max(N,N*s,E,E*s),w=(D,N,E)=>yl(D,d,u,!0)?-1:Math.min(N,N*s,E,E*s),B=b(0,h,p),C=b(us,m,v),j=w(jt,h,p),S=w(jt+us,m,v);n=(B-j)/2,o=(C-S)/2,i=-(B+j)/2,l=-(C+S)/2}return{ratioX:n,ratioY:o,offsetX:i,offsetY:l}}class M5 extends ju{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data,{labels:{pointStyle:n,textAlign:o,color:i,useBorderRadius:l,borderRadius:d}}=e.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((u,h)=>{const p=e.getDatasetMeta(0).controller.getStyle(h);return{text:u,fillStyle:p.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(h),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:o,pointStyle:n,borderRadius:l&&(d||p.borderRadius),index:h}}):[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}};constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=n;else{let i=u=>+n[u];if(tt(n[e])){const{key:u="value"}=this._parsing;i=h=>+po(n[h],u)}let l,d;for(l=e,d=e+s;l<d;++l)o._parsed[l]=i(l)}}_getRotation(){return kn(this.options.rotation-90)}_getCircumference(){return kn(this.options.circumference)}_getRotationExtents(){let e=Xt,s=-Xt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const o=this.chart.getDatasetMeta(n).controller,i=o._getRotation(),l=o._getCircumference();e=Math.min(e,i),s=Math.max(s,i+l)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,o=this._cachedMeta,i=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,d=Math.max((Math.min(n.width,n.height)-l)/2,0),u=Math.min(_U(this.options.cutout,d),1),h=this._getRingWeight(this.index),{circumference:m,rotation:p}=this._getRotationExtents(),{ratioX:v,ratioY:b,offsetX:w,offsetY:B}=T5(p,m,u),C=(n.width-l)/v,j=(n.height-l)/b,S=Math.max(Math.min(C,j)/2,0),D=kC(this.options.radius,S),N=Math.max(D*u,0),E=(D-N)/this._getVisibleDatasetWeightTotal();this.offsetX=w*D,this.offsetY=B*D,o.total=this.calculateTotal(),this.outerRadius=D-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*h,0),this.updateElements(i,0,i.length,e)}_circumference(e,s){const n=this.options,o=this._cachedMeta,i=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*i/Xt)}updateElements(e,s,n,o){const i=o==="reset",l=this.chart,d=l.chartArea,h=l.options.animation,m=(d.left+d.right)/2,p=(d.top+d.bottom)/2,v=i&&h.animateScale,b=v?0:this.innerRadius,w=v?0:this.outerRadius,{sharedOptions:B,includeOptions:C}=this._getSharedOptions(s,o);let j=this._getRotation(),S;for(S=0;S<s;++S)j+=this._circumference(S,i);for(S=s;S<s+n;++S){const D=this._circumference(S,i),N=e[S],E={x:m+this.offsetX,y:p+this.offsetY,startAngle:j,endAngle:j+D,circumference:D,outerRadius:w,innerRadius:b};C&&(E.options=B||this.resolveDataElementOptions(S,N.active?"active":o)),j+=D,this.updateElement(N,S,E,o)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,o;for(o=0;o<s.length;o++){const i=e._parsed[o];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(o)&&!s[o].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Xt*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,o=n.data.labels||[],i=xp(s._parsed[e],n.options.locale);return{label:o[e]||"",value:i}}getMaxBorderWidth(e){let s=0;const n=this.chart;let o,i,l,d,u;if(!e){for(o=0,i=n.data.datasets.length;o<i;++o)if(n.isDatasetVisible(o)){l=n.getDatasetMeta(o),e=l.data,d=l.controller;break}}if(!e)return 0;for(o=0,i=e.length;o<i;++o)u=d.resolveDataElementOptions(o),u.borderAlign!=="inner"&&(s=Math.max(s,u.borderWidth||0,u.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,o=e.length;n<o;++n){const i=this.resolveDataElementOptions(n);s=Math.max(s,i.offset||0,i.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(Pe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class H5 extends ju{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:o=[],_dataset:i}=s,l=this.chart._animationsDisabled;let{start:d,count:u}=o4(s,o,l);this._drawStart=d,this._drawCount=u,A4(s)&&(d=0,u=o.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=o;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:h},e),this.updateElements(o,d,u,e)}updateElements(e,s,n,o){const i=o==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(s,o),v=l.axis,b=d.axis,{spanGaps:w,segment:B}=this.options,C=vl(w)?w:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||i||o==="none",S=s+n,D=e.length;let N=s>0&&this.getParsed(s-1);for(let E=0;E<D;++E){const k=e[E],T=j?k:{};if(E<s||E>=S){T.skip=!0;continue}const _=this.getParsed(E),M=ct(_[b]),Z=T[v]=l.getPixelForValue(_[v],E),P=T[b]=i||M?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,_,u):_[b],E);T.skip=isNaN(Z)||isNaN(P)||M,T.stop=E>0&&Math.abs(_[v]-N[v])>C,B&&(T.parsed=_,T.raw=h.data[E]),p&&(T.options=m||this.resolveDataElementOptions(E,k.active?"active":o)),j||this.updateElement(k,E,T,o),N=_}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,o=e.data||[];if(!o.length)return n;const i=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,i,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function no(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sp{static override(e){Object.assign(Sp.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return no()}parse(){return no()}format(){return no()}add(){return no()}diff(){return no()}startOf(){return no()}endOf(){return no()}}var L5={_date:Sp};function _5(t,e,s,n){const{controller:o,data:i,_sorted:l}=t,d=o._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&l&&i.length){const h=d._reversePixels?t4:lo;if(n){if(o._sharedOptions){const m=i[0],p=typeof m.getRange=="function"&&m.getRange(e);if(p){const v=h(i,e,s-p),b=h(i,e,s+p);return{lo:v.lo,hi:b.hi}}}}else{const m=h(i,e,s);if(u){const{vScale:p}=o._cachedMeta,{_parsed:v}=t,b=v.slice(0,m.lo+1).reverse().findIndex(B=>!ct(B[p.axis]));m.lo-=Math.max(0,b);const w=v.slice(m.hi).findIndex(B=>!ct(B[p.axis]));m.hi+=Math.max(0,w)}return m}}return{lo:0,hi:i.length-1}}function Nu(t,e,s,n,o){const i=t.getSortedVisibleDatasetMetas(),l=s[e];for(let d=0,u=i.length;d<u;++d){const{index:h,data:m}=i[d],{lo:p,hi:v}=_5(i[d],e,l,o);for(let b=p;b<=v;++b){const w=m[b];w.skip||n(w,h,b)}}}function O5(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,o){const i=e?Math.abs(n.x-o.x):0,l=s?Math.abs(n.y-o.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function mm(t,e,s,n,o){const i=[];return!o&&!t.isPointInArea(e)||Nu(t,s,e,function(d,u,h){!o&&!bl(d,t.chartArea,0)||d.inRange(e.x,e.y,n)&&i.push({element:d,datasetIndex:u,index:h})},!0),i}function P5(t,e,s,n){let o=[];function i(l,d,u){const{startAngle:h,endAngle:m}=l.getProps(["startAngle","endAngle"],n),{angle:p}=RC(l,{x:e.x,y:e.y});yl(p,h,m)&&o.push({element:l,datasetIndex:d,index:u})}return Nu(t,s,e,i),o}function K5(t,e,s,n,o,i){let l=[];const d=O5(s);let u=Number.POSITIVE_INFINITY;function h(m,p,v){const b=m.inRange(e.x,e.y,o);if(n&&!b)return;const w=m.getCenterPoint(o);if(!(!!i||t.isPointInArea(w))&&!b)return;const C=d(e,w);C<u?(l=[{element:m,datasetIndex:p,index:v}],u=C):C===u&&l.push({element:m,datasetIndex:p,index:v})}return Nu(t,s,e,h),l}function gm(t,e,s,n,o,i){return!i&&!t.isPointInArea(e)?[]:s==="r"&&!n?P5(t,e,s,o):K5(t,e,s,n,o,i)}function F0(t,e,s,n,o){const i=[],l=s==="x"?"inXRange":"inYRange";let d=!1;return Nu(t,s,e,(u,h,m)=>{u[l]&&u[l](e[s],o)&&(i.push({element:u,datasetIndex:h,index:m}),d=d||u.inRange(e.x,e.y,o))}),n&&!d?[]:i}var z5={modes:{index(t,e,s,n){const o=oo(e,t),i=s.axis||"x",l=s.includeInvisible||!1,d=s.intersect?mm(t,o,i,n,l):gm(t,o,i,!1,n,l),u=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const m=d[0].index,p=h.data[m];p&&!p.skip&&u.push({element:p,datasetIndex:h.index,index:m})}),u):[]},dataset(t,e,s,n){const o=oo(e,t),i=s.axis||"xy",l=s.includeInvisible||!1;let d=s.intersect?mm(t,o,i,n,l):gm(t,o,i,!1,n,l);if(d.length>0){const u=d[0].datasetIndex,h=t.getDatasetMeta(u).data;d=[];for(let m=0;m<h.length;++m)d.push({element:h[m],datasetIndex:u,index:m})}return d},point(t,e,s,n){const o=oo(e,t),i=s.axis||"xy",l=s.includeInvisible||!1;return mm(t,o,i,n,l)},nearest(t,e,s,n){const o=oo(e,t),i=s.axis||"xy",l=s.includeInvisible||!1;return gm(t,o,i,s.intersect,n,l)},x(t,e,s,n){const o=oo(e,t);return F0(t,o,"x",s.intersect,n)},y(t,e,s,n){const o=oo(e,t);return F0(t,o,"y",s.intersect,n)}}};const t1=["left","top","right","bottom"];function Ti(t,e){return t.filter(s=>s.pos===e)}function U0(t,e){return t.filter(s=>t1.indexOf(s.pos)===-1&&s.box.axis===e)}function Mi(t,e){return t.sort((s,n)=>{const o=e?n:s,i=e?s:n;return o.weight===i.weight?o.index-i.index:o.weight-i.weight})}function V5(t){const e=[];let s,n,o,i,l,d;for(s=0,n=(t||[]).length;s<n;++s)o=t[s],{position:i,options:{stack:l,stackWeight:d=1}}=o,e.push({index:s,box:o,pos:i,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&i+l,stackWeight:d});return e}function G5(t){const e={};for(const s of t){const{stack:n,pos:o,stackWeight:i}=s;if(!n||!t1.includes(o))continue;const l=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return e}function Y5(t,e){const s=G5(t),{vBoxMaxWidth:n,hBoxMaxHeight:o}=e;let i,l,d;for(i=0,l=t.length;i<l;++i){d=t[i];const{fullSize:u}=d.box,h=s[d.stack],m=h&&d.stackWeight/h.weight;d.horizontal?(d.width=m?m*n:u&&e.availableWidth,d.height=o):(d.width=n,d.height=m?m*o:u&&e.availableHeight)}return s}function X5(t){const e=V5(t),s=Mi(e.filter(h=>h.box.fullSize),!0),n=Mi(Ti(e,"left"),!0),o=Mi(Ti(e,"right")),i=Mi(Ti(e,"top"),!0),l=Mi(Ti(e,"bottom")),d=U0(e,"x"),u=U0(e,"y");return{fullSize:s,leftAndTop:n.concat(i),rightAndBottom:o.concat(u).concat(l).concat(d),chartArea:Ti(e,"chartArea"),vertical:n.concat(o).concat(u),horizontal:i.concat(l).concat(d)}}function k0(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function s1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function $5(t,e,s,n){const{pos:o,box:i}=s,l=t.maxPadding;if(!tt(o)){s.size&&(t[o]-=s.size);const p=n[s.stack]||{size:0,count:1};p.size=Math.max(p.size,s.horizontal?i.height:i.width),s.size=p.size/p.count,t[o]+=s.size}i.getPadding&&s1(l,i.getPadding());const d=Math.max(0,e.outerWidth-k0(l,t,"left","right")),u=Math.max(0,e.outerHeight-k0(l,t,"top","bottom")),h=d!==t.w,m=u!==t.h;return t.w=d,t.h=u,s.horizontal?{same:h,other:m}:{same:m,other:h}}function W5(t){const e=t.maxPadding;function s(n){const o=Math.max(e[n]-t[n],0);return t[n]+=o,o}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function q5(t,e){const s=e.maxPadding;function n(o){const i={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{i[l]=Math.max(e[l],s[l])}),i}return n(t?["left","right"]:["top","bottom"])}function Yi(t,e,s,n){const o=[];let i,l,d,u,h,m;for(i=0,l=t.length,h=0;i<l;++i){d=t[i],u=d.box,u.update(d.width||e.w,d.height||e.h,q5(d.horizontal,e));const{same:p,other:v}=$5(e,s,d,n);h|=p&&o.length,m=m||v,u.fullSize||o.push(d)}return h&&Yi(o,e,s,n)||m}function ad(t,e,s,n,o){t.top=s,t.left=e,t.right=e+n,t.bottom=s+o,t.width=n,t.height=o}function D0(t,e,s,n){const o=s.padding;let{x:i,y:l}=e;for(const d of t){const u=d.box,h=n[d.stack]||{placed:0,weight:1},m=d.stackWeight/h.weight||1;if(d.horizontal){const p=e.w*m,v=h.size||u.height;xl(h.start)&&(l=h.start),u.fullSize?ad(u,o.left,l,s.outerWidth-o.right-o.left,v):ad(u,e.left+h.placed,l,p,v),h.start=l,h.placed+=p,l=u.bottom}else{const p=e.h*m,v=h.size||u.width;xl(h.start)&&(i=h.start),u.fullSize?ad(u,i,o.top,v,s.outerHeight-o.bottom-o.top):ad(u,i,e.top+h.placed,v,p),h.start=i,h.placed+=p,i=u.right}}e.x=i,e.y=l}var ba={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const o=Mr(t.options.layout.padding),i=Math.max(e-o.width,0),l=Math.max(s-o.height,0),d=X5(t.boxes),u=d.vertical,h=d.horizontal;ft(t.boxes,B=>{typeof B.beforeLayout=="function"&&B.beforeLayout()});const m=u.reduce((B,C)=>C.box.options&&C.box.options.display===!1?B:B+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:s,padding:o,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/m,hBoxMaxHeight:l/2}),v=Object.assign({},o);s1(v,Mr(n));const b=Object.assign({maxPadding:v,w:i,h:l,x:o.left,y:o.top},o),w=Y5(u.concat(h),p);Yi(d.fullSize,b,p,w),Yi(u,b,p,w),Yi(h,b,p,w)&&Yi(u,b,p,w),W5(b),D0(d.leftAndTop,b,p,w),b.x+=b.w,b.y+=b.h,D0(d.rightAndBottom,b,p,w),t.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},ft(d.chartArea,B=>{const C=B.box;Object.assign(C,t.chartArea),C.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class r1{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,o){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,o?Math.floor(s/o):n)}}isAttached(e){return!0}updateConfig(e){}}class Z5 extends r1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _d="$chartjs",J5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},I0=t=>t===null||t==="";function ek(t,e){const s=t.style,n=t.getAttribute("height"),o=t.getAttribute("width");if(t[_d]={initial:{height:n,width:o,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",I0(o)){const i=p0(t,"width");i!==void 0&&(t.width=i)}if(I0(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=p0(t,"height");i!==void 0&&(t.height=i)}return t}const n1=W4?{passive:!0}:!1;function tk(t,e,s){t&&t.addEventListener(e,s,n1)}function sk(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,n1)}function rk(t,e){const s=J5[t.type]||t.type,{x:n,y:o}=oo(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:o!==void 0?o:null}}function ru(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function nk(t,e,s){const n=t.canvas,o=new MutationObserver(i=>{let l=!1;for(const d of i)l=l||ru(d.addedNodes,n),l=l&&!ru(d.removedNodes,n);l&&s()});return o.observe(document,{childList:!0,subtree:!0}),o}function ak(t,e,s){const n=t.canvas,o=new MutationObserver(i=>{let l=!1;for(const d of i)l=l||ru(d.removedNodes,n),l=l&&!ru(d.addedNodes,n);l&&s()});return o.observe(document,{childList:!0,subtree:!0}),o}const wl=new Map;let R0=0;function a1(){const t=window.devicePixelRatio;t!==R0&&(R0=t,wl.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function ok(t,e){wl.size||window.addEventListener("resize",a1),wl.set(t,e)}function Ak(t){wl.delete(t),wl.size||window.removeEventListener("resize",a1)}function ik(t,e,s){const n=t.canvas,o=n&&Np(n);if(!o)return;const i=LC((d,u)=>{const h=o.clientWidth;s(d,u),h<o.clientWidth&&s()},window),l=new ResizeObserver(d=>{const u=d[0],h=u.contentRect.width,m=u.contentRect.height;h===0&&m===0||i(h,m)});return l.observe(o),ok(t,i),l}function pm(t,e,s){s&&s.disconnect(),e==="resize"&&Ak(t)}function lk(t,e,s){const n=t.canvas,o=LC(i=>{t.ctx!==null&&s(rk(i,t))},t);return tk(n,e,o),o}class ck extends r1{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(ek(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[_d])return!1;const n=s[_d].initial;["height","width"].forEach(i=>{const l=n[i];ct(l)?s.removeAttribute(i):s.setAttribute(i,l)});const o=n.style||{};return Object.keys(o).forEach(i=>{s.style[i]=o[i]}),s.width=s.width,delete s[_d],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const o=e.$proxies||(e.$proxies={}),l={attach:nk,detach:ak,resize:ik}[s]||lk;o[s]=l(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),o=n[s];if(!o)return;({attach:pm,detach:pm,resize:pm}[s]||sk)(e,s,o),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,o){return $4(e,s,n,o)}isAttached(e){const s=e&&Np(e);return!!(s&&s.isConnected)}}function dk(t){return!jp()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Z5:ck}class Ma{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return vl(this.x)&&vl(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const o={};return e.forEach(i=>{o[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),o}}function uk(t,e){const s=t.options.ticks,n=fk(t),o=Math.min(s.maxTicksLimit||n,n),i=s.major.enabled?mk(e):[],l=i.length,d=i[0],u=i[l-1],h=[];if(l>o)return gk(e,h,i,l/o),h;const m=hk(i,e,o);if(l>0){let p,v;const b=l>1?Math.round((u-d)/(l-1)):null;for(od(e,h,m,ct(b)?0:d-b,d),p=0,v=l-1;p<v;p++)od(e,h,m,i[p],i[p+1]);return od(e,h,m,u,ct(b)?e.length:u+b),h}return od(e,h,m),h}function fk(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),o=t._maxLength/s;return Math.floor(Math.min(n,o))}function hk(t,e,s){const n=pk(t),o=e.length/s;if(!n)return Math.max(o,1);const i=XU(n);for(let l=0,d=i.length-1;l<d;l++){const u=i[l];if(u>o)return u}return Math.max(o,1)}function mk(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function gk(t,e,s,n){let o=0,i=s[0],l;for(n=Math.ceil(n),l=0;l<t.length;l++)l===i&&(e.push(t[l]),o++,i=s[o*n])}function od(t,e,s,n,o){const i=Pe(n,0),l=Math.min(Pe(o,t.length),t.length);let d=0,u,h,m;for(s=Math.ceil(s),o&&(u=o-n,s=u/Math.floor(u/s)),m=i;m<0;)d++,m=Math.round(i+d*s);for(h=Math.max(i,0);h<l;h++)h===m&&(e.push(t[h]),d++,m=Math.round(i+d*s))}function pk(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const xk=t=>t==="left"?"right":t==="right"?"left":t,T0=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,M0=(t,e)=>Math.min(e||t,t);function H0(t,e){const s=[],n=t.length/e,o=t.length;let i=0;for(;i<o;i+=n)s.push(t[Math.floor(i)]);return s}function vk(t,e,s){const n=t.ticks.length,o=Math.min(e,n-1),i=t._startPixel,l=t._endPixel,d=1e-6;let u=t.getPixelForTick(o),h;if(!(s&&(n===1?h=Math.max(u-i,l-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(o-1))/2,u+=o<e?h:-h,u<i-d||u>l+d)))return u}function yk(t,e){ft(t,s=>{const n=s.gc,o=n.length/2;let i;if(o>e){for(i=0;i<o;++i)delete s.data[n[i]];n.splice(0,o)}})}function Hi(t){return t.drawTicks?t.tickLength:0}function L0(t,e){if(!t.display)return 0;const s=$s(t.font,e),n=Mr(t.padding);return(ws(t.text)?t.text.length:1)*s.lineHeight+n.height}function bk(t,e){return vo(t,{scale:e,type:"scale"})}function wk(t,e,s){return vo(t,{tick:s,index:e,type:"tick"})}function Bk(t,e,s){let n=_C(t);return(s&&e!=="right"||!s&&e==="right")&&(n=xk(n)),n}function Ck(t,e,s,n){const{top:o,left:i,bottom:l,right:d,chart:u}=t,{chartArea:h,scales:m}=u;let p=0,v,b,w;const B=l-o,C=d-i;if(t.isHorizontal()){if(b=or(n,i,d),tt(s)){const j=Object.keys(s)[0],S=s[j];w=m[j].getPixelForValue(S)+B-e}else s==="center"?w=(h.bottom+h.top)/2+B-e:w=T0(t,s,e);v=d-i}else{if(tt(s)){const j=Object.keys(s)[0],S=s[j];b=m[j].getPixelForValue(S)-C+e}else s==="center"?b=(h.left+h.right)/2-C+e:b=T0(t,s,e);w=or(n,l,o),p=s==="left"?-us:us}return{titleX:b,titleY:w,maxWidth:v,rotation:p}}class IA extends Ma{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:o}=this;return e=Xr(e,Number.POSITIVE_INFINITY),s=Xr(s,Number.NEGATIVE_INFINITY),n=Xr(n,Number.POSITIVE_INFINITY),o=Xr(o,Number.NEGATIVE_INFINITY),{min:Xr(e,n),max:Xr(s,o),minDefined:Fr(e),maxDefined:Fr(s)}}getMinMax(e){let{min:s,max:n,minDefined:o,maxDefined:i}=this.getUserBounds(),l;if(o&&i)return{min:s,max:n};const d=this.getMatchingVisibleMetas();for(let u=0,h=d.length;u<h;++u)l=d[u].controller.getMinMax(this,e),o||(s=Math.min(s,l.min)),i||(n=Math.max(n,l.max));return s=i&&s>n?n:s,n=o&&s>n?s:n,{min:Xr(s,Xr(n,s)),max:Xr(n,Xr(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Et(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:o,grace:i,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=S4(this,i,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=d<this.ticks.length;this._convertTicksToLabels(u?H0(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=uk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Et(this.options.afterUpdate,[this])}beforeSetDimensions(){Et(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Et(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Et(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Et(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,o,i;for(n=0,o=e.length;n<o;n++)i=e[n],i.label=Et(s.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Et(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Et(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=M0(this.ticks.length,e.ticks.maxTicksLimit),o=s.minRotation||0,i=s.maxRotation;let l=o,d,u,h;if(!this._isVisible()||!s.display||o>=i||n<=1||!this.isHorizontal()){this.labelRotation=o;return}const m=this._getLabelSizes(),p=m.widest.width,v=m.highest.height,b=Rs(this.chart.width-p,0,this.maxWidth);d=e.offset?this.maxWidth/n:b/(n-1),p+6>d&&(d=b/(n-(e.offset?.5:1)),u=this.maxHeight-Hi(e.grid)-s.padding-L0(e.title,this.chart.options.font),h=Math.sqrt(p*p+v*v),l=ZU(Math.min(Math.asin(Rs((m.highest.height+6)/d,-1,1)),Math.asin(Rs(u/h,-1,1))-Math.asin(Rs(v/h,-1,1)))),l=Math.max(o,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Et(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Et(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:o,grid:i}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const u=L0(o,s.options.font);if(d?(e.width=this.maxWidth,e.height=Hi(i)+u):(e.height=this.maxHeight,e.width=Hi(i)+u),n.display&&this.ticks.length){const{first:h,last:m,widest:p,highest:v}=this._getLabelSizes(),b=n.padding*2,w=kn(this.labelRotation),B=Math.cos(w),C=Math.sin(w);if(d){const j=n.mirror?0:C*p.width+B*v.height;e.height=Math.min(this.maxHeight,e.height+j+b)}else{const j=n.mirror?0:B*p.width+C*v.height;e.width=Math.min(this.maxWidth,e.width+j+b)}this._calculatePadding(h,m,C,B)}}this._handleMargins(),d?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,o){const{ticks:{align:i,padding:l},position:d}=this.options,u=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;u?h?(v=o*e.width,b=n*s.height):(v=n*e.height,b=o*s.width):i==="start"?b=s.width:i==="end"?v=e.width:i!=="inner"&&(v=e.width/2,b=s.width/2),this.paddingLeft=Math.max((v-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((b-p+l)*this.width/(this.width-p),0)}else{let m=s.height/2,p=e.height/2;i==="start"?(m=0,p=e.height):i==="end"&&(m=s.height,p=0),this.paddingTop=m+l,this.paddingBottom=p+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Et(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)ct(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=H0(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:o,_longestTextCache:i}=this,l=[],d=[],u=Math.floor(s/M0(s,n));let h=0,m=0,p,v,b,w,B,C,j,S,D,N,E;for(p=0;p<s;p+=u){if(w=e[p].label,B=this._resolveTickFontOptions(p),o.font=C=B.string,j=i[C]=i[C]||{data:{},gc:[]},S=B.lineHeight,D=N=0,!ct(w)&&!ws(w))D=u0(o,j.data,j.gc,D,w),N=S;else if(ws(w))for(v=0,b=w.length;v<b;++v)E=w[v],!ct(E)&&!ws(E)&&(D=u0(o,j.data,j.gc,D,E),N+=S);l.push(D),d.push(N),h=Math.max(D,h),m=Math.max(N,m)}yk(i,s);const k=l.indexOf(h),T=d.indexOf(m),_=M=>({width:l[M]||0,height:d[M]||0});return{first:_(0),last:_(s-1),widest:_(k),highest:_(T),widths:l,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return e4(this._alignToPixels?ro(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=wk(this.getContext(),e,n))}return this.$context||(this.$context=bk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=kn(this.labelRotation),n=Math.abs(Math.cos(s)),o=Math.abs(Math.sin(s)),i=this._getLabelSizes(),l=e.autoSkipPadding||0,d=i?i.widest.width+l:0,u=i?i.highest.height+l:0;return this.isHorizontal()?u*n>d*o?d/n:u/o:u*o<d*n?u/n:d/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,o=this.options,{grid:i,position:l,border:d}=o,u=i.offset,h=this.isHorizontal(),p=this.ticks.length+(u?1:0),v=Hi(i),b=[],w=d.setContext(this.getContext()),B=w.display?w.width:0,C=B/2,j=function(K){return ro(n,K,B)};let S,D,N,E,k,T,_,M,Z,P,H,W;if(l==="top")S=j(this.bottom),T=this.bottom-v,M=S-C,P=j(e.top)+C,W=e.bottom;else if(l==="bottom")S=j(this.top),P=e.top,W=j(e.bottom)-C,T=S+C,M=this.top+v;else if(l==="left")S=j(this.right),k=this.right-v,_=S-C,Z=j(e.left)+C,H=e.right;else if(l==="right")S=j(this.left),Z=e.left,H=j(e.right)-C,k=S+C,_=this.left+v;else if(s==="x"){if(l==="center")S=j((e.top+e.bottom)/2+.5);else if(tt(l)){const K=Object.keys(l)[0],J=l[K];S=j(this.chart.scales[K].getPixelForValue(J))}P=e.top,W=e.bottom,T=S+C,M=T+v}else if(s==="y"){if(l==="center")S=j((e.left+e.right)/2);else if(tt(l)){const K=Object.keys(l)[0],J=l[K];S=j(this.chart.scales[K].getPixelForValue(J))}k=S-C,_=k-v,Z=e.left,H=e.right}const ne=Pe(o.ticks.maxTicksLimit,p),ie=Math.max(1,Math.ceil(p/ne));for(D=0;D<p;D+=ie){const K=this.getContext(D),J=i.setContext(K),z=d.setContext(K),oe=J.lineWidth,U=J.color,L=z.dash||[],F=z.dashOffset,R=J.tickWidth,O=J.tickColor,$=J.tickBorderDash||[],re=J.tickBorderDashOffset;N=vk(this,D,u),N!==void 0&&(E=ro(n,N,oe),h?k=_=Z=H=E:T=M=P=W=E,b.push({tx1:k,ty1:T,tx2:_,ty2:M,x1:Z,y1:P,x2:H,y2:W,width:oe,color:U,borderDash:L,borderDashOffset:F,tickWidth:R,tickColor:O,tickBorderDash:$,tickBorderDashOffset:re}))}return this._ticksLength=p,this._borderValue=S,b}_computeLabelItems(e){const s=this.axis,n=this.options,{position:o,ticks:i}=n,l=this.isHorizontal(),d=this.ticks,{align:u,crossAlign:h,padding:m,mirror:p}=i,v=Hi(n.grid),b=v+m,w=p?-m:b,B=-kn(this.labelRotation),C=[];let j,S,D,N,E,k,T,_,M,Z,P,H,W="middle";if(o==="top")k=this.bottom-w,T=this._getXAxisLabelAlignment();else if(o==="bottom")k=this.top+w,T=this._getXAxisLabelAlignment();else if(o==="left"){const ie=this._getYAxisLabelAlignment(v);T=ie.textAlign,E=ie.x}else if(o==="right"){const ie=this._getYAxisLabelAlignment(v);T=ie.textAlign,E=ie.x}else if(s==="x"){if(o==="center")k=(e.top+e.bottom)/2+b;else if(tt(o)){const ie=Object.keys(o)[0],K=o[ie];k=this.chart.scales[ie].getPixelForValue(K)+b}T=this._getXAxisLabelAlignment()}else if(s==="y"){if(o==="center")E=(e.left+e.right)/2-b;else if(tt(o)){const ie=Object.keys(o)[0],K=o[ie];E=this.chart.scales[ie].getPixelForValue(K)}T=this._getYAxisLabelAlignment(v).textAlign}s==="y"&&(u==="start"?W="top":u==="end"&&(W="bottom"));const ne=this._getLabelSizes();for(j=0,S=d.length;j<S;++j){D=d[j],N=D.label;const ie=i.setContext(this.getContext(j));_=this.getPixelForTick(j)+i.labelOffset,M=this._resolveTickFontOptions(j),Z=M.lineHeight,P=ws(N)?N.length:1;const K=P/2,J=ie.color,z=ie.textStrokeColor,oe=ie.textStrokeWidth;let U=T;l?(E=_,T==="inner"&&(j===S-1?U=this.options.reverse?"left":"right":j===0?U=this.options.reverse?"right":"left":U="center"),o==="top"?h==="near"||B!==0?H=-P*Z+Z/2:h==="center"?H=-ne.highest.height/2-K*Z+Z:H=-ne.highest.height+Z/2:h==="near"||B!==0?H=Z/2:h==="center"?H=ne.highest.height/2-K*Z:H=ne.highest.height-P*Z,p&&(H*=-1),B!==0&&!ie.showLabelBackdrop&&(E+=Z/2*Math.sin(B))):(k=_,H=(1-P)*Z/2);let L;if(ie.showLabelBackdrop){const F=Mr(ie.backdropPadding),R=ne.heights[j],O=ne.widths[j];let $=H-F.top,re=0-F.left;switch(W){case"middle":$-=R/2;break;case"bottom":$-=R;break}switch(T){case"center":re-=O/2;break;case"right":re-=O;break;case"inner":j===S-1?re-=O:j>0&&(re-=O/2);break}L={left:re,top:$,width:O+F.width,height:R+F.height,color:ie.backdropColor}}C.push({label:N,font:M,textOffset:H,options:{rotation:B,color:J,strokeColor:z,strokeWidth:oe,textAlign:U,textBaseline:W,translation:[E,k],backdrop:L}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-kn(this.labelRotation))return e==="top"?"left":"right";let o="center";return s.align==="start"?o="left":s.align==="end"?o="right":s.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:o,padding:i}}=this.options,l=this._getLabelSizes(),d=e+i,u=l.widest.width;let h,m;return s==="left"?o?(m=this.right+i,n==="near"?h="left":n==="center"?(h="center",m+=u/2):(h="right",m+=u)):(m=this.right-d,n==="near"?h="right":n==="center"?(h="center",m-=u/2):(h="left",m=this.left)):s==="right"?o?(m=this.left+i,n==="near"?h="right":n==="center"?(h="center",m-=u/2):(h="left",m-=u)):(m=this.left+d,n==="near"?h="left":n==="center"?(h="center",m+=u/2):(h="right",m=this.right)):h="right",{textAlign:h,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:o,width:i,height:l}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,o,i,l),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const o=this.ticks.findIndex(i=>i.value===e);return o>=0?s.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,l;const d=(u,h,m)=>{!m.width||!m.color||(n.save(),n.lineWidth=m.width,n.strokeStyle=m.color,n.setLineDash(m.borderDash||[]),n.lineDashOffset=m.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(s.display)for(i=0,l=o.length;i<l;++i){const u=o[i];s.drawOnChartArea&&d({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),s.drawTicks&&d({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:o}}=this,i=n.setContext(this.getContext()),l=n.display?i.width:0;if(!l)return;const d=o.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,m,p,v;this.isHorizontal()?(h=ro(e,this.left,l)-l/2,m=ro(e,this.right,d)+d/2,p=v=u):(p=ro(e,this.top,l)-l/2,v=ro(e,this.bottom,d)+d/2,h=m=u),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(h,p),s.lineTo(m,v),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,o=this._computeLabelArea();o&&vp(n,o);const i=this.getLabelItems(e);for(const l of i){const d=l.options,u=l.font,h=l.label,m=l.textOffset;eu(n,h,0,m,u,d)}o&&yp(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:o}}=this;if(!n.display)return;const i=$s(n.font),l=Mr(n.padding),d=n.align;let u=i.lineHeight/2;s==="bottom"||s==="center"||tt(s)?(u+=l.bottom,ws(n.text)&&(u+=i.lineHeight*(n.text.length-1))):u+=l.top;const{titleX:h,titleY:m,maxWidth:p,rotation:v}=Ck(this,u,s,d);eu(e,n.text,0,0,i,{color:n.color,maxWidth:p,rotation:v,textAlign:Bk(d,s,o),textBaseline:"middle",translation:[h,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=Pe(e.grid&&e.grid.z,-1),o=Pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==IA.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",o=[];let i,l;for(i=0,l=s.length;i<l;++i){const d=s[i];d[n]===this.id&&(!e||d.type===e)&&o.push(d)}return o}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return $s(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ad{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;Sk(s)&&(n=this.register(s));const o=this.items,i=e.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in o||(o[i]=e,jk(e,l,n),this.override&&ts.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,o=this.scope;n in s&&delete s[n],o&&n in ts[o]&&(delete ts[o][n],this.override&&delete xo[n])}}function jk(t,e,s){const n=pl(Object.create(null),[s?ts.get(s):{},ts.get(e),t.defaults]);ts.set(e,n),t.defaultRoutes&&Nk(e,t.defaultRoutes),t.descriptors&&ts.describe(e,t.descriptors)}function Nk(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),o=n.pop(),i=[t].concat(n).join("."),l=e[s].split("."),d=l.pop(),u=l.join(".");ts.route(i,o,u,d)})}function Sk(t){return"id"in t&&"defaults"in t}class Qk{constructor(){this.controllers=new Ad(ju,"datasets",!0),this.elements=new Ad(Ma,"elements"),this.plugins=new Ad(Object,"plugins"),this.scales=new Ad(IA,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(o=>{const i=n||this._getRegistryForType(o);n||i.isForType(o)||i===this.plugins&&o.id?this._exec(e,i,o):ft(o,l=>{const d=n||this._getRegistryForType(l);this._exec(e,d,l)})})}_exec(e,s,n){const o=mp(e);Et(n["before"+o],[],n),s[e](n),Et(n["after"+o],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const o=s.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return o}}var qr=new Qk;class Ek{constructor(){this._init=void 0}notify(e,s,n,o){if(s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=o?this._descriptors(e).filter(o):this._descriptors(e),l=this._notify(i,e,s,n);return s==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,s,n,o){o=o||{};for(const i of e){const l=i.plugin,d=l[n],u=[s,o,i.options];if(Et(d,u,l)===!1&&o.cancelable)return!1}return!0}invalidate(){ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,o=Pe(n.options&&n.options.plugins,{}),i=Fk(n);return o===!1&&!s?[]:kk(e,i,o,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,o=(i,l)=>i.filter(d=>!l.some(u=>d.plugin.id===u.plugin.id));this._notify(o(s,n),e,"stop"),this._notify(o(n,s),e,"start")}}function Fk(t){const e={},s=[],n=Object.keys(qr.plugins.items);for(let i=0;i<n.length;i++)s.push(qr.getPlugin(n[i]));const o=t.plugins||[];for(let i=0;i<o.length;i++){const l=o[i];s.indexOf(l)===-1&&(s.push(l),e[l.id]=!0)}return{plugins:s,localIds:e}}function Uk(t,e){return!e&&t===!1?null:t===!0?{}:t}function kk(t,{plugins:e,localIds:s},n,o){const i=[],l=t.getContext();for(const d of e){const u=d.id,h=Uk(n[u],o);h!==null&&i.push({plugin:d,options:Dk(t.config,{plugin:d,local:s[u]},h,l)})}return i}function Dk(t,{plugin:e,local:s},n,o){const i=t.pluginScopeKeys(e),l=t.getOptionScopes(n,i);return s&&e.defaults&&l.push(e.defaults),t.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xg(t,e){const s=ts.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function Ik(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function Rk(t,e){return t===e?"_index_":"_value_"}function _0(t){if(t==="x"||t==="y"||t==="r")return t}function Tk(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function vg(t,...e){if(_0(t))return t;for(const s of e){const n=s.axis||Tk(s.position)||t.length>1&&_0(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function O0(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function Mk(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return O0(t,"x",s[0])||O0(t,"y",s[0])}return{}}function Hk(t,e){const s=xo[t.type]||{scales:{}},n=e.scales||{},o=xg(t.type,e),i=Object.create(null);return Object.keys(n).forEach(l=>{const d=n[l];if(!tt(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=vg(l,d,Mk(l,t),ts.scales[d.type]),h=Rk(u,o),m=s.scales||{};i[l]=sl(Object.create(null),[{axis:u},d,m[u],m[h]])}),t.data.datasets.forEach(l=>{const d=l.type||t.type,u=l.indexAxis||xg(d,e),m=(xo[d]||{}).scales||{};Object.keys(m).forEach(p=>{const v=Ik(p,u),b=l[v+"AxisID"]||v;i[b]=i[b]||Object.create(null),sl(i[b],[{axis:v},n[b],m[p]])})}),Object.keys(i).forEach(l=>{const d=i[l];sl(d,[ts.scales[d.type],ts.scale])}),i}function o1(t){const e=t.options||(t.options={});e.plugins=Pe(e.plugins,{}),e.scales=Hk(t,e)}function A1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Lk(t){return t=t||{},t.data=A1(t.data),o1(t),t}const P0=new Map,i1=new Set;function id(t,e){let s=P0.get(t);return s||(s=e(),P0.set(t,s),i1.add(s)),s}const Li=(t,e,s)=>{const n=po(e,s);n!==void 0&&t.add(n)};class _k{constructor(e){this._config=Lk(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=A1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),o1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return id(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return id(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return id(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return id(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let o=n.get(e);return(!o||s)&&(o=new Map,n.set(e,o)),o}getOptionScopes(e,s,n){const{options:o,type:i}=this,l=this._cachedScopes(e,n),d=l.get(s);if(d)return d;const u=new Set;s.forEach(m=>{e&&(u.add(e),m.forEach(p=>Li(u,e,p))),m.forEach(p=>Li(u,o,p)),m.forEach(p=>Li(u,xo[i]||{},p)),m.forEach(p=>Li(u,ts,p)),m.forEach(p=>Li(u,gg,p))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),i1.has(s)&&l.set(s,h),h}chartOptionScopes(){const{options:e,type:s}=this;return[e,xo[s]||{},ts.datasets[s]||{},{type:s},ts,gg]}resolveNamedOptions(e,s,n,o=[""]){const i={$shared:!0},{resolver:l,subPrefixes:d}=K0(this._resolverCache,e,o);let u=l;if(Pk(l,s)){i.$shared=!1,n=Ia(n)?n():n;const h=this.createResolver(e,n,d);u=NA(l,n,h)}for(const h of s)i[h]=u[h];return i}createResolver(e,s,n=[""],o){const{resolver:i}=K0(this._resolverCache,e,n);return tt(s)?NA(i,s,void 0,o):i}}function K0(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const o=s.join();let i=n.get(o);return i||(i={resolver:wp(e,s),subPrefixes:s.filter(d=>!d.toLowerCase().includes("hover"))},n.set(o,i)),i}const Ok=t=>tt(t)&&Object.getOwnPropertyNames(t).some(e=>Ia(t[e]));function Pk(t,e){const{isScriptable:s,isIndexable:n}=zC(t);for(const o of e){const i=s(o),l=n(o),d=(l||i)&&t[o];if(i&&(Ia(d)||Ok(d))||l&&ws(d))return!0}return!1}var Kk="4.5.1";const zk=["top","bottom","left","right","chartArea"];function z0(t,e){return t==="top"||t==="bottom"||zk.indexOf(t)===-1&&e==="x"}function V0(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function G0(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Et(s&&s.onComplete,[t],e)}function Vk(t){const e=t.chart,s=e.options.animation;Et(s&&s.onProgress,[t],e)}function l1(t){return jp()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Od={},Y0=t=>{const e=l1(t);return Object.values(Od).filter(s=>s.canvas===e).pop()};function Gk(t,e,s){const n=Object.keys(t);for(const o of n){const i=+o;if(i>=e){const l=t[o];delete t[o],(s>0||i>e)&&(t[i+s]=l)}}}function Yk(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}let Dl=class{static defaults=ts;static instances=Od;static overrides=xo;static registry=qr;static version=Kk;static getChart=Y0;static register(...e){qr.add(...e),X0()}static unregister(...e){qr.remove(...e),X0()}constructor(e,s){const n=this.config=new _k(s),o=l1(e),i=Y0(o);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||dk(o)),this.platform.updateConfig(n);const d=this.platform.acquireContext(o,l.aspectRatio),u=d&&d.canvas,h=u&&u.height,m=u&&u.width;if(this.id=LU(),this.ctx=d,this.canvas=u,this.width=m,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ek,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=n4(p=>this.update(p),l.resizeDelay||0),this._dataChanges=[],Od[this.id]=this,!d||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Sn.listen(this,"complete",G0),Sn.listen(this,"progress",Vk),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:o,_aspectRatio:i}=this;return ct(e)?s&&i?i:o?n/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return qr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():g0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return f0(this.canvas,this.ctx),this}stop(){return Sn.stop(this),this}resize(e,s){Sn.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,o=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,e,s,i),d=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,g0(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),Et(n.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ft(s,(n,o)=>{n.id=o})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,o=Object.keys(n).reduce((l,d)=>(l[d]=!1,l),{});let i=[];s&&(i=i.concat(Object.keys(s).map(l=>{const d=s[l],u=vg(l,d),h=u==="r",m=u==="x";return{options:d,dposition:h?"chartArea":m?"bottom":"left",dtype:h?"radialLinear":m?"category":"linear"}}))),ft(i,l=>{const d=l.options,u=d.id,h=vg(u,d),m=Pe(d.type,l.dtype);(d.position===void 0||z0(d.position,h)!==z0(l.dposition))&&(d.position=l.dposition),o[u]=!0;let p=null;if(u in n&&n[u].type===m)p=n[u];else{const v=qr.getScale(m);p=new v({id:u,type:m,ctx:this.ctx,chart:this}),n[p.id]=p}p.init(d,e)}),ft(o,(l,d)=>{l||delete n[d]}),ft(n,l=>{ba.configure(this,l,l.options),ba.addBox(this,l)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((o,i)=>o.index-i.index),n>s){for(let o=s;o<n;++o)this._destroyDatasetMeta(o);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(V0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,o)=>{s.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,o;for(this._removeUnreferencedMetasets(),n=0,o=s.length;n<o;n++){const i=s[n];let l=this.getDatasetMeta(n);const d=i.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=d,l.indexAxis=i.indexAxis||xg(d,this.options),l.order=i.order||0,l.index=n,l.label=""+i.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const u=qr.getController(d),{datasetElementType:h,dataElementType:m}=ts.datasets[d];Object.assign(u,{dataElementType:qr.getElement(m),datasetElementType:h&&qr.getElement(h)}),l.controller=new u(this,n),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){ft(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,m=this.data.datasets.length;h<m;h++){const{controller:p}=this.getDatasetMeta(h),v=!o&&i.indexOf(p)===-1;p.buildOrUpdateElements(v),l=Math.max(+p.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),o||ft(i,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(V0("z","_idx"));const{_active:d,_lastEvent:u}=this;u?this._eventHandler(u,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){ft(this.scales,e=>{ba.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!r0(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:o,count:i}of s){const l=n==="_removeElements"?-i:i;Gk(e,o,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=i=>new Set(e.filter(l=>l[0]===i).map((l,d)=>d+","+l.splice(1).join(","))),o=n(0);for(let i=1;i<s;i++)if(!r0(o,n(i)))return;return Array.from(o).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ba.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ft(this.boxes,o=>{n&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,i)=>{o._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Ia(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),o={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(n.controller._update(s),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Sn.has(this)?this.attached&&!Sn.running(this)&&Sn.start(this):(this.draw(),G0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let o,i;for(o=0,i=s.length;o<i;++o){const l=s[o];(!e||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},o=c5(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(o&&vp(s,o),e.controller.draw(),o&&yp(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return bl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,o){const i=z5.modes[s];return typeof i=="function"?i(this,e,n,o):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let o=n.filter(i=>i&&i._dataset===s).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=vo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const o=n?"show":"hide",i=this.getDatasetMeta(e),l=i.controller._resolveAnimations(void 0,o);xl(s)?(i.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),l.update(i,{visible:n}),this.update(d=>d.datasetIndex===e?o:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Sn.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),f0(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Od[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(i,l)=>{s.addEventListener(this,i,l),e[i]=l},o=(i,l,d)=>{i.offsetX=l,i.offsetY=d,this._eventHandler(i)};ft(this.options.events,i=>n(i,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(u,h)=>{s.addEventListener(this,u,h),e[u]=h},o=(u,h)=>{e[u]&&(s.removeEventListener(this,u,h),delete e[u])},i=(u,h)=>{this.canvas&&this.resize(u,h)};let l;const d=()=>{o("attach",d),this.attached=!0,this.resize(),n("resize",i),n("detach",l)};l=()=>{this.attached=!1,o("resize",i),this._stop(),this._resize(0,0),n("attach",d)},s.isAttached(this.canvas)?d():l()}unbindEvents(){ft(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},ft(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const o=n?"set":"remove";let i,l,d,u;for(s==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+o+"DatasetHoverStyle"]()),d=0,u=e.length;d<u;++d){l=e[d];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:i,index:l})=>{const d=this.getDatasetMeta(i);if(!d)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:d.data[l],index:l}});!qd(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const o=this.options.hover,i=(u,h)=>u.filter(m=>!h.some(p=>m.datasetIndex===p.datasetIndex&&m.index===p.index)),l=i(s,e),d=n?e:i(e,s);l.length&&this.updateHoverStyle(l,o.mode,!1),d.length&&o.mode&&this.updateHoverStyle(d,o.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},o=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,o)===!1)return;const i=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(i||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:o=[],options:i}=this,l=s,d=this._getActiveElements(e,o,n,l),u=VU(e),h=Yk(e,this._lastEvent,n,u);n&&(this._lastEvent=null,Et(i.onHover,[e,d,this],this),u&&Et(i.onClick,[e,d,this],this));const m=!qd(d,o);return(m||s)&&(this._active=d,this._updateHoverStyles(d,o,s)),this._lastEvent=h,m}_getActiveElements(e,s,n,o){if(e.type==="mouseout")return[];if(!n)return s;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,o)}};function X0(){return ft(Dl.instances,t=>t._plugins.invalidate())}function Xk(t,e,s){const{startAngle:n,x:o,y:i,outerRadius:l,innerRadius:d,options:u}=e,{borderWidth:h,borderJoinStyle:m}=u,p=Math.min(h/l,Rr(n-s));if(t.beginPath(),t.arc(o,i,l-h/2,n+p/2,s-p/2),d>0){const v=Math.min(h/d,Rr(n-s));t.arc(o,i,d+h/2,s-v/2,n+v/2,!0)}else{const v=Math.min(h/2,l*Rr(n-s));if(m==="round")t.arc(o,i,v,s-jt/2,n+jt/2,!0);else if(m==="bevel"){const b=2*v*v,w=-b*Math.cos(s+jt/2)+o,B=-b*Math.sin(s+jt/2)+i,C=b*Math.cos(n+jt/2)+o,j=b*Math.sin(n+jt/2)+i;t.lineTo(w,B),t.lineTo(C,j)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function $k(t,e,s){const{startAngle:n,pixelMargin:o,x:i,y:l,outerRadius:d,innerRadius:u}=e;let h=o/d;t.beginPath(),t.arc(i,l,d,n-h,s+h),u>o?(h=o/u,t.arc(i,l,u,s+h,n-h,!0)):t.arc(i,l,o,s+us,n-us),t.closePath(),t.clip()}function Wk(t){return bp(t,["outerStart","outerEnd","innerStart","innerEnd"])}function qk(t,e,s,n){const o=Wk(t.options.borderRadius),i=(s-e)/2,l=Math.min(i,n*e/2),d=u=>{const h=(s-Math.min(i,u))*n/2;return Rs(u,0,Math.min(i,h))};return{outerStart:d(o.outerStart),outerEnd:d(o.outerEnd),innerStart:Rs(o.innerStart,0,l),innerEnd:Rs(o.innerEnd,0,l)}}function dA(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function nu(t,e,s,n,o,i){const{x:l,y:d,startAngle:u,pixelMargin:h,innerRadius:m}=e,p=Math.max(e.outerRadius+n+s-h,0),v=m>0?m+n+s+h:0;let b=0;const w=o-u;if(n){const ie=m>0?m-n:0,K=p>0?p-n:0,J=(ie+K)/2,z=J!==0?w*J/(J+n):w;b=(w-z)/2}const B=Math.max(.001,w*p-s/jt)/p,C=(w-B)/2,j=u+C+b,S=o-C-b,{outerStart:D,outerEnd:N,innerStart:E,innerEnd:k}=qk(e,v,p,S-j),T=p-D,_=p-N,M=j+D/T,Z=S-N/_,P=v+E,H=v+k,W=j+E/P,ne=S-k/H;if(t.beginPath(),i){const ie=(M+Z)/2;if(t.arc(l,d,p,M,ie),t.arc(l,d,p,ie,Z),N>0){const oe=dA(_,Z,l,d);t.arc(oe.x,oe.y,N,Z,S+us)}const K=dA(H,S,l,d);if(t.lineTo(K.x,K.y),k>0){const oe=dA(H,ne,l,d);t.arc(oe.x,oe.y,k,S+us,ne+Math.PI)}const J=(S-k/v+(j+E/v))/2;if(t.arc(l,d,v,S-k/v,J,!0),t.arc(l,d,v,J,j+E/v,!0),E>0){const oe=dA(P,W,l,d);t.arc(oe.x,oe.y,E,W+Math.PI,j-us)}const z=dA(T,j,l,d);if(t.lineTo(z.x,z.y),D>0){const oe=dA(T,M,l,d);t.arc(oe.x,oe.y,D,j-us,M)}}else{t.moveTo(l,d);const ie=Math.cos(M)*p+l,K=Math.sin(M)*p+d;t.lineTo(ie,K);const J=Math.cos(Z)*p+l,z=Math.sin(Z)*p+d;t.lineTo(J,z)}t.closePath()}function Zk(t,e,s,n,o){const{fullCircles:i,startAngle:l,circumference:d}=e;let u=e.endAngle;if(i){nu(t,e,s,n,u,o);for(let h=0;h<i;++h)t.fill();isNaN(d)||(u=l+(d%Xt||Xt))}return nu(t,e,s,n,u,o),t.fill(),u}function Jk(t,e,s,n,o){const{fullCircles:i,startAngle:l,circumference:d,options:u}=e,{borderWidth:h,borderJoinStyle:m,borderDash:p,borderDashOffset:v,borderRadius:b}=u,w=u.borderAlign==="inner";if(!h)return;t.setLineDash(p||[]),t.lineDashOffset=v,w?(t.lineWidth=h*2,t.lineJoin=m||"round"):(t.lineWidth=h,t.lineJoin=m||"bevel");let B=e.endAngle;if(i){nu(t,e,s,n,B,o);for(let C=0;C<i;++C)t.stroke();isNaN(d)||(B=l+(d%Xt||Xt))}w&&$k(t,e,B),u.selfJoin&&B-l>=jt&&b===0&&m!=="miter"&&Xk(t,e,B),i||(nu(t,e,s,n,B,o),t.stroke())}class c1 extends Ma{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,n){const o=this.getProps(["x","y"],n),{angle:i,distance:l}=RC(o,{x:e,y:s}),{startAngle:d,endAngle:u,innerRadius:h,outerRadius:m,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),v=(this.options.spacing+this.options.borderWidth)/2,b=Pe(p,u-d),w=yl(i,d,u)&&d!==u,B=b>=Xt||w,C=va(l,h+v,m+v);return B&&C}getCenterPoint(e){const{x:s,y:n,startAngle:o,endAngle:i,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:h}=this.options,m=(o+i)/2,p=(l+d+h+u)/2;return{x:s+Math.cos(m)*p,y:n+Math.sin(m)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:n}=this,o=(s.offset||0)/4,i=(s.spacing||0)/2,l=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=n>Xt?Math.floor(n/Xt):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*o,Math.sin(d)*o);const u=1-Math.sin(Math.min(jt,n||0)),h=o*u;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,Zk(e,this,h,i,l),Jk(e,this,h,i,l),e.restore()}}function d1(t,e,s=e){t.lineCap=Pe(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Pe(s.borderDash,e.borderDash)),t.lineDashOffset=Pe(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Pe(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Pe(s.borderWidth,e.borderWidth),t.strokeStyle=Pe(s.borderColor,e.borderColor)}function eD(t,e,s){t.lineTo(s.x,s.y)}function tD(t){return t.stepped?x4:t.tension||t.cubicInterpolationMode==="monotone"?v4:eD}function u1(t,e,s={}){const n=t.length,{start:o=0,end:i=n-1}=s,{start:l,end:d}=e,u=Math.max(o,l),h=Math.min(i,d),m=o<l&&i<l||o>d&&i>d;return{count:n,start:u,loop:e.loop,ilen:h<u&&!m?n+h-u:h-u}}function sD(t,e,s,n){const{points:o,options:i}=e,{count:l,start:d,loop:u,ilen:h}=u1(o,s,n),m=tD(i);let{move:p=!0,reverse:v}=n||{},b,w,B;for(b=0;b<=h;++b)w=o[(d+(v?h-b:b))%l],!w.skip&&(p?(t.moveTo(w.x,w.y),p=!1):m(t,B,w,v,i.stepped),B=w);return u&&(w=o[(d+(v?h:0))%l],m(t,B,w,v,i.stepped)),!!u}function rD(t,e,s,n){const o=e.points,{count:i,start:l,ilen:d}=u1(o,s,n),{move:u=!0,reverse:h}=n||{};let m=0,p=0,v,b,w,B,C,j;const S=N=>(l+(h?d-N:N))%i,D=()=>{B!==C&&(t.lineTo(m,C),t.lineTo(m,B),t.lineTo(m,j))};for(u&&(b=o[S(0)],t.moveTo(b.x,b.y)),v=0;v<=d;++v){if(b=o[S(v)],b.skip)continue;const N=b.x,E=b.y,k=N|0;k===w?(E<B?B=E:E>C&&(C=E),m=(p*m+N)/++p):(D(),t.lineTo(N,E),w=k,p=0,B=C=E),j=E}D()}function yg(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?rD:sD}function nD(t){return t.stepped?q4:t.tension||t.cubicInterpolationMode==="monotone"?Z4:Ao}function aD(t,e,s,n){let o=e._path;o||(o=e._path=new Path2D,e.path(o,s,n)&&o.closePath()),d1(t,e.options),t.stroke(o)}function oD(t,e,s,n){const{segments:o,options:i}=e,l=yg(e);for(const d of o)d1(t,i,d.style),t.beginPath(),l(t,e,d,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const AD=typeof Path2D=="function";function iD(t,e,s,n){AD&&!e.options.segment?aD(t,e,s,n):oD(t,e,s,n)}class f1 extends Ma{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const o=n.spanGaps?this._loop:this._fullLoop;K4(this._points,n,e,o,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=o5(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,o=e[s],i=this.points,l=r5(this,{property:s,start:o,end:o});if(!l.length)return;const d=[],u=nD(n);let h,m;for(h=0,m=l.length;h<m;++h){const{start:p,end:v}=l[h],b=i[p],w=i[v];if(b===w){d.push(b);continue}const B=Math.abs((o-b[s])/(w[s]-b[s])),C=u(b,w,B,n.stepped);C[s]=e[s],d.push(C)}return d.length===1?d[0]:d}pathSegment(e,s,n){return yg(this)(e,this,s,n)}path(e,s,n){const o=this.segments,i=yg(this);let l=this._loop;s=s||0,n=n||this.points.length-s;for(const d of o)l&=i(e,this,d,{start:s,end:s+n-1});return!!l}draw(e,s,n,o){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),iD(e,this,n,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function $0(t,e,s,n){const o=t.options,{[s]:i}=t.getProps([s],n);return Math.abs(e-i)<o.radius+o.hitRadius}class h1 extends Ma{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,n){const o=this.options,{x:i,y:l}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(s-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,s){return $0(this,e,"x",s)}inYRange(e,s){return $0(this,e,"y",s)}getCenterPoint(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const n=s&&e.borderWidth||0;return(s+n)*2}draw(e,s){const n=this.options;this.skip||n.radius<.1||!bl(this,s,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,pg(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function m1(t,e){const{x:s,y:n,base:o,width:i,height:l}=t.getProps(["x","y","base","width","height"],e);let d,u,h,m,p;return t.horizontal?(p=l/2,d=Math.min(s,o),u=Math.max(s,o),h=n-p,m=n+p):(p=i/2,d=s-p,u=s+p,h=Math.min(n,o),m=Math.max(n,o)),{left:d,top:h,right:u,bottom:m}}function wa(t,e,s,n){return t?0:Rs(e,s,n)}function lD(t,e,s){const n=t.options.borderWidth,o=t.borderSkipped,i=KC(n);return{t:wa(o.top,i.top,0,s),r:wa(o.right,i.right,0,e),b:wa(o.bottom,i.bottom,0,s),l:wa(o.left,i.left,0,e)}}function cD(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,i=bA(o),l=Math.min(e,s),d=t.borderSkipped,u=n||tt(o);return{topLeft:wa(!u||d.top||d.left,i.topLeft,0,l),topRight:wa(!u||d.top||d.right,i.topRight,0,l),bottomLeft:wa(!u||d.bottom||d.left,i.bottomLeft,0,l),bottomRight:wa(!u||d.bottom||d.right,i.bottomRight,0,l)}}function dD(t){const e=m1(t),s=e.right-e.left,n=e.bottom-e.top,o=lD(t,s/2,n/2),i=cD(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:i},inner:{x:e.left+o.l,y:e.top+o.t,w:s-o.l-o.r,h:n-o.t-o.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,i.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(o.b,o.r))}}}}function xm(t,e,s,n){const o=e===null,i=s===null,d=t&&!(o&&i)&&m1(t,n);return d&&(o||va(e,d.left,d.right))&&(i||va(s,d.top,d.bottom))}function uD(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function fD(t,e){t.rect(e.x,e.y,e.w,e.h)}function vm(t,e,s={}){const n=t.x!==s.x?-e:0,o=t.y!==s.y?-e:0,i=(t.x+t.w!==s.x+s.w?e:0)-n,l=(t.y+t.h!==s.y+s.h?e:0)-o;return{x:t.x+n,y:t.y+o,w:t.w+i,h:t.h+l,radius:t.radius}}class g1 extends Ma{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:o}}=this,{inner:i,outer:l}=dD(this),d=uD(l.radius)?tu:fD;e.save(),(l.w!==i.w||l.h!==i.h)&&(e.beginPath(),d(e,vm(l,s,i)),e.clip(),d(e,vm(i,-s,l)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),d(e,vm(i,s)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,s,n){return xm(this,e,s,n)}inXRange(e,s){return xm(this,e,null,s)}inYRange(e,s){return xm(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:o,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(s+o)/2:s,y:i?n:(n+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const W0=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},hD=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class q0 extends Ma{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Et(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,o)=>e.sort(n,o,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,o=$s(n.font),i=o.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:u}=W0(n,i);let h,m;s.font=o.string,this.isHorizontal()?(h=this.maxWidth,m=this._fitRows(l,i,d,u)+10):(m=this.maxHeight,h=this._fitCols(l,o,d,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,o){const{ctx:i,maxWidth:l,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],m=o+d;let p=e;i.textAlign="left",i.textBaseline="middle";let v=-1,b=-m;return this.legendItems.forEach((w,B)=>{const C=n+s/2+i.measureText(w.text).width;(B===0||h[h.length-1]+C+2*d>l)&&(p+=m,h[h.length-(B>0?0:1)]=0,b+=m,v++),u[B]={left:0,top:b,row:v,width:C,height:o},h[h.length-1]+=C+d}),p}_fitCols(e,s,n,o){const{ctx:i,maxHeight:l,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],m=l-e;let p=d,v=0,b=0,w=0,B=0;return this.legendItems.forEach((C,j)=>{const{itemWidth:S,itemHeight:D}=mD(n,s,i,C,o);j>0&&b+D+2*d>m&&(p+=v+d,h.push({width:v,height:b}),w+=v+d,B++,v=b=0),u[j]={left:w,top:b,col:B,width:S,height:D},v=Math.max(v,S),b+=D+d}),p+=v,h.push({width:v,height:b}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:o},rtl:i}}=this,l=wA(i,this.left,this.width);if(this.isHorizontal()){let d=0,u=or(n,this.left+o,this.right-this.lineWidths[d]);for(const h of s)d!==h.row&&(d=h.row,u=or(n,this.left+o,this.right-this.lineWidths[d])),h.top+=this.top+e+o,h.left=l.leftForLtr(l.x(u),h.width),u+=h.width+o}else{let d=0,u=or(n,this.top+e+o,this.bottom-this.columnSizes[d].height);for(const h of s)h.col!==d&&(d=h.col,u=or(n,this.top+e+o,this.bottom-this.columnSizes[d].height)),h.top=u,h.left+=this.left+o,h.left=l.leftForLtr(l.x(h.left),h.width),u+=h.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;vp(e,this),this._draw(),yp(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:o}=this,{align:i,labels:l}=e,d=ts.color,u=wA(e.rtl,this.left,this.width),h=$s(l.font),{padding:m}=l,p=h.size,v=p/2;let b;this.drawTitle(),o.textAlign=u.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=h.string;const{boxWidth:w,boxHeight:B,itemHeight:C}=W0(l,p),j=function(k,T,_){if(isNaN(w)||w<=0||isNaN(B)||B<0)return;o.save();const M=Pe(_.lineWidth,1);if(o.fillStyle=Pe(_.fillStyle,d),o.lineCap=Pe(_.lineCap,"butt"),o.lineDashOffset=Pe(_.lineDashOffset,0),o.lineJoin=Pe(_.lineJoin,"miter"),o.lineWidth=M,o.strokeStyle=Pe(_.strokeStyle,d),o.setLineDash(Pe(_.lineDash,[])),l.usePointStyle){const Z={radius:B*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:M},P=u.xPlus(k,w/2),H=T+v;PC(o,Z,P,H,l.pointStyleWidth&&w)}else{const Z=T+Math.max((p-B)/2,0),P=u.leftForLtr(k,w),H=bA(_.borderRadius);o.beginPath(),Object.values(H).some(W=>W!==0)?tu(o,{x:P,y:Z,w,h:B,radius:H}):o.rect(P,Z,w,B),o.fill(),M!==0&&o.stroke()}o.restore()},S=function(k,T,_){eu(o,_.text,k,T+C/2,h,{strikethrough:_.hidden,textAlign:u.textAlign(_.textAlign)})},D=this.isHorizontal(),N=this._computeTitleHeight();D?b={x:or(i,this.left+m,this.right-n[0]),y:this.top+m+N,line:0}:b={x:this.left+m,y:or(i,this.top+N+m,this.bottom-s[0].height),line:0},$C(this.ctx,e.textDirection);const E=C+m;this.legendItems.forEach((k,T)=>{o.strokeStyle=k.fontColor,o.fillStyle=k.fontColor;const _=o.measureText(k.text).width,M=u.textAlign(k.textAlign||(k.textAlign=l.textAlign)),Z=w+v+_;let P=b.x,H=b.y;u.setWidth(this.width),D?T>0&&P+Z+m>this.right&&(H=b.y+=E,b.line++,P=b.x=or(i,this.left+m,this.right-n[b.line])):T>0&&H+E>this.bottom&&(P=b.x=P+s[b.line].width+m,b.line++,H=b.y=or(i,this.top+N+m,this.bottom-s[b.line].height));const W=u.x(P);if(j(W,H,k),P=a4(M,P+w+v,D?P+Z:this.right,e.rtl),S(u.x(P),H,k),D)b.x+=Z+m;else if(typeof k.text!="string"){const ne=h.lineHeight;b.y+=p1(k,ne)+m}else b.y+=E}),WC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=$s(s.font),o=Mr(s.padding);if(!s.display)return;const i=wA(e.rtl,this.left,this.width),l=this.ctx,d=s.position,u=n.size/2,h=o.top+u;let m,p=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+h,p=or(e.align,p,this.right-v);else{const w=this.columnSizes.reduce((B,C)=>Math.max(B,C.height),0);m=h+or(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const b=or(d,p,p+v);l.textAlign=i.textAlign(_C(d)),l.textBaseline="middle",l.strokeStyle=s.color,l.fillStyle=s.color,l.font=n.string,eu(l,s.text,b,m,n)}_computeTitleHeight(){const e=this.options.title,s=$s(e.font),n=Mr(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,o,i;if(va(e,this.left,this.right)&&va(s,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(o=i[n],va(e,o.left,o.left+o.width)&&va(s,o.top,o.top+o.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!xD(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,i=hD(o,n);o&&!i&&Et(s.onLeave,[e,o,this],this),this._hoveredItem=n,n&&!i&&Et(s.onHover,[e,n,this],this)}else n&&Et(s.onClick,[e,n,this],this)}}function mD(t,e,s,n,o){const i=gD(n,t,e,s),l=pD(o,n,e.lineHeight);return{itemWidth:i,itemHeight:l}}function gD(t,e,s,n){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((i,l)=>i.length>l.length?i:l)),e+s.size/2+n.measureText(o).width}function pD(t,e,s){let n=t;return typeof e.text!="string"&&(n=p1(e,s)),n}function p1(t,e){const s=t.text?t.text.length:0;return e*s}function xD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var x1={id:"legend",_element:q0,start(t,e,s){const n=t.legend=new q0({ctx:t.ctx,options:s,chart:t});ba.configure(t,n,s),ba.addBox(t,n)},stop(t){ba.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;ba.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,o=s.chart;o.isDatasetVisible(n)?(o.hide(n),e.hidden=!0):(o.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:o,color:i,useBorderRadius:l,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(s?0:void 0),m=Mr(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:o||h.textAlign,borderRadius:l&&(d||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Xi={average(t){if(!t.length)return!1;let e,s,n=new Set,o=0,i=0;for(e=0,s=t.length;e<s;++e){const d=t[e].element;if(d&&d.hasValue()){const u=d.tooltipPosition();n.add(u.x),o+=u.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((d,u)=>d+u)/n.size,y:o/i}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,o=Number.POSITIVE_INFINITY,i,l,d;for(i=0,l=t.length;i<l;++i){const u=t[i].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),m=mg(e,h);m<o&&(o=m,d=u)}}if(d){const u=d.tooltipPosition();s=u.x,n=u.y}return{x:s,y:n}}};function Wr(t,e){return e&&(ws(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Qn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function vD(t,e){const{element:s,datasetIndex:n,index:o}=e,i=t.getDatasetMeta(n).controller,{label:l,value:d}=i.getLabelAndValue(o);return{chart:t,label:l,parsed:i.getParsed(o),raw:t.data.datasets[n].data[o],formattedValue:d,dataset:i.getDataset(),dataIndex:o,datasetIndex:n,element:s}}function Z0(t,e){const s=t.chart.ctx,{body:n,footer:o,title:i}=t,{boxWidth:l,boxHeight:d}=e,u=$s(e.bodyFont),h=$s(e.titleFont),m=$s(e.footerFont),p=i.length,v=o.length,b=n.length,w=Mr(e.padding);let B=w.height,C=0,j=n.reduce((N,E)=>N+E.before.length+E.lines.length+E.after.length,0);if(j+=t.beforeBody.length+t.afterBody.length,p&&(B+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),j){const N=e.displayColors?Math.max(d,u.lineHeight):u.lineHeight;B+=b*N+(j-b)*u.lineHeight+(j-1)*e.bodySpacing}v&&(B+=e.footerMarginTop+v*m.lineHeight+(v-1)*e.footerSpacing);let S=0;const D=function(N){C=Math.max(C,s.measureText(N).width+S)};return s.save(),s.font=h.string,ft(t.title,D),s.font=u.string,ft(t.beforeBody.concat(t.afterBody),D),S=e.displayColors?l+2+e.boxPadding:0,ft(n,N=>{ft(N.before,D),ft(N.lines,D),ft(N.after,D)}),S=0,s.font=m.string,ft(t.footer,D),s.restore(),C+=w.width,{width:C,height:B}}function yD(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function bD(t,e,s,n){const{x:o,width:i}=n,l=s.caretSize+s.caretPadding;if(t==="left"&&o+i+l>e.width||t==="right"&&o-i-l<0)return!0}function wD(t,e,s,n){const{x:o,width:i}=s,{width:l,chartArea:{left:d,right:u}}=t;let h="center";return n==="center"?h=o<=(d+u)/2?"left":"right":o<=i/2?h="left":o>=l-i/2&&(h="right"),bD(h,t,e,s)&&(h="center"),h}function J0(t,e,s){const n=s.yAlign||e.yAlign||yD(t,s);return{xAlign:s.xAlign||e.xAlign||wD(t,e,s,n),yAlign:n}}function BD(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function CD(t,e,s){let{y:n,height:o}=t;return e==="top"?n+=s:e==="bottom"?n-=o+s:n-=o/2,n}function ew(t,e,s,n){const{caretSize:o,caretPadding:i,cornerRadius:l}=t,{xAlign:d,yAlign:u}=s,h=o+i,{topLeft:m,topRight:p,bottomLeft:v,bottomRight:b}=bA(l);let w=BD(e,d);const B=CD(e,u,h);return u==="center"?d==="left"?w+=h:d==="right"&&(w-=h):d==="left"?w-=Math.max(m,v)+o:d==="right"&&(w+=Math.max(p,b)+o),{x:Rs(w,0,n.width-e.width),y:Rs(B,0,n.height-e.height)}}function ld(t,e,s){const n=Mr(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function tw(t){return Wr([],Qn(t))}function jD(t,e,s){return vo(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function sw(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const v1={beforeTitle:Bn,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:Bn,beforeBody:Bn,beforeLabel:Bn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return ct(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Bn,afterBody:Bn,beforeFooter:Bn,footer:Bn,afterFooter:Bn};function Vs(t,e,s,n){const o=t[e].call(s,n);return typeof o>"u"?v1[e].call(s,n):o}class rw extends Ma{static positioners=Xi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&s.options.animation&&n.animations,i=new ZC(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=jD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,o=Vs(n,"beforeTitle",this,e),i=Vs(n,"title",this,e),l=Vs(n,"afterTitle",this,e);let d=[];return d=Wr(d,Qn(o)),d=Wr(d,Qn(i)),d=Wr(d,Qn(l)),d}getBeforeBody(e,s){return tw(Vs(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,o=[];return ft(e,i=>{const l={before:[],lines:[],after:[]},d=sw(n,i);Wr(l.before,Qn(Vs(d,"beforeLabel",this,i))),Wr(l.lines,Vs(d,"label",this,i)),Wr(l.after,Qn(Vs(d,"afterLabel",this,i))),o.push(l)}),o}getAfterBody(e,s){return tw(Vs(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,o=Vs(n,"beforeFooter",this,e),i=Vs(n,"footer",this,e),l=Vs(n,"afterFooter",this,e);let d=[];return d=Wr(d,Qn(o)),d=Wr(d,Qn(i)),d=Wr(d,Qn(l)),d}_createItems(e){const s=this._active,n=this.chart.data,o=[],i=[],l=[];let d=[],u,h;for(u=0,h=s.length;u<h;++u)d.push(vD(this.chart,s[u]));return e.filter&&(d=d.filter((m,p,v)=>e.filter(m,p,v,n))),e.itemSort&&(d=d.sort((m,p)=>e.itemSort(m,p,n))),ft(d,m=>{const p=sw(e.callbacks,m);o.push(Vs(p,"labelColor",this,m)),i.push(Vs(p,"labelPointStyle",this,m)),l.push(Vs(p,"labelTextColor",this,m))}),this.labelColors=o,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=d,d}update(e,s){const n=this.options.setContext(this.getContext()),o=this._active;let i,l=[];if(!o.length)this.opacity!==0&&(i={opacity:0});else{const d=Xi[n.position].call(this,o,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const u=this._size=Z0(this,n),h=Object.assign({},d,u),m=J0(this.chart,n,h),p=ew(n,h,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,i={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,o){const i=this.getCaretPosition(e,n,o);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(e,s,n){const{xAlign:o,yAlign:i}=this,{caretSize:l,cornerRadius:d}=n,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:p}=bA(d),{x:v,y:b}=e,{width:w,height:B}=s;let C,j,S,D,N,E;return i==="center"?(N=b+B/2,o==="left"?(C=v,j=C-l,D=N+l,E=N-l):(C=v+w,j=C+l,D=N-l,E=N+l),S=C):(o==="left"?j=v+Math.max(u,m)+l:o==="right"?j=v+w-Math.max(h,p)-l:j=this.caretX,i==="top"?(D=b,N=D-l,C=j-l,S=j+l):(D=b+B,N=D+l,C=j+l,S=j-l),E=D),{x1:C,x2:j,x3:S,y1:D,y2:N,y3:E}}drawTitle(e,s,n){const o=this.title,i=o.length;let l,d,u;if(i){const h=wA(n.rtl,this.x,this.width);for(e.x=ld(this,n.titleAlign,n),s.textAlign=h.textAlign(n.titleAlign),s.textBaseline="middle",l=$s(n.titleFont),d=n.titleSpacing,s.fillStyle=n.titleColor,s.font=l.string,u=0;u<i;++u)s.fillText(o[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+d,u+1===i&&(e.y+=n.titleMarginBottom-d)}}_drawColorBox(e,s,n,o,i){const l=this.labelColors[n],d=this.labelPointStyles[n],{boxHeight:u,boxWidth:h}=i,m=$s(i.bodyFont),p=ld(this,"left",i),v=o.x(p),b=u<m.lineHeight?(m.lineHeight-u)/2:0,w=s.y+b;if(i.usePointStyle){const B={radius:Math.min(h,u)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},C=o.leftForLtr(v,h)+h/2,j=w+u/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,pg(e,B,C,j),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,pg(e,B,C,j)}else{e.lineWidth=tt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const B=o.leftForLtr(v,h),C=o.leftForLtr(o.xPlus(v,1),h-2),j=bA(l.borderRadius);Object.values(j).some(S=>S!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,tu(e,{x:B,y:w,w:h,h:u,radius:j}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),tu(e,{x:C,y:w+1,w:h-2,h:u-2,radius:j}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(B,w,h,u),e.strokeRect(B,w,h,u),e.fillStyle=l.backgroundColor,e.fillRect(C,w+1,h-2,u-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:o}=this,{bodySpacing:i,bodyAlign:l,displayColors:d,boxHeight:u,boxWidth:h,boxPadding:m}=n,p=$s(n.bodyFont);let v=p.lineHeight,b=0;const w=wA(n.rtl,this.x,this.width),B=function(_){s.fillText(_,w.x(e.x+b),e.y+v/2),e.y+=v+i},C=w.textAlign(l);let j,S,D,N,E,k,T;for(s.textAlign=l,s.textBaseline="middle",s.font=p.string,e.x=ld(this,C,n),s.fillStyle=n.bodyColor,ft(this.beforeBody,B),b=d&&C!=="right"?l==="center"?h/2+m:h+2+m:0,N=0,k=o.length;N<k;++N){for(j=o[N],S=this.labelTextColors[N],s.fillStyle=S,ft(j.before,B),D=j.lines,d&&D.length&&(this._drawColorBox(s,e,N,w,n),v=Math.max(p.lineHeight,u)),E=0,T=D.length;E<T;++E)B(D[E]),v=p.lineHeight;ft(j.after,B)}b=0,v=p.lineHeight,ft(this.afterBody,B),e.y-=i}drawFooter(e,s,n){const o=this.footer,i=o.length;let l,d;if(i){const u=wA(n.rtl,this.x,this.width);for(e.x=ld(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=u.textAlign(n.footerAlign),s.textBaseline="middle",l=$s(n.footerFont),s.fillStyle=n.footerColor,s.font=l.string,d=0;d<i;++d)s.fillText(o[d],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+n.footerSpacing}}drawBackground(e,s,n,o){const{xAlign:i,yAlign:l}=this,{x:d,y:u}=e,{width:h,height:m}=n,{topLeft:p,topRight:v,bottomLeft:b,bottomRight:w}=bA(o.cornerRadius);s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor,s.lineWidth=o.borderWidth,s.beginPath(),s.moveTo(d+p,u),l==="top"&&this.drawCaret(e,s,n,o),s.lineTo(d+h-v,u),s.quadraticCurveTo(d+h,u,d+h,u+v),l==="center"&&i==="right"&&this.drawCaret(e,s,n,o),s.lineTo(d+h,u+m-w),s.quadraticCurveTo(d+h,u+m,d+h-w,u+m),l==="bottom"&&this.drawCaret(e,s,n,o),s.lineTo(d+b,u+m),s.quadraticCurveTo(d,u+m,d,u+m-b),l==="center"&&i==="left"&&this.drawCaret(e,s,n,o),s.lineTo(d,u+p),s.quadraticCurveTo(d,u,d+p,u),s.closePath(),s.fill(),o.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,o=n&&n.x,i=n&&n.y;if(o||i){const l=Xi[e.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=Z0(this,e),u=Object.assign({},l,this._size),h=J0(s,e,u),m=ew(e,u,h,s);(o._to!==m.x||i._to!==m.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const o={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=Mr(s.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&d&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,o,s),$C(e,s.textDirection),i.y+=l.top,this.drawTitle(i,e,s),this.drawBody(i,e,s),this.drawFooter(i,e,s),WC(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,o=e.map(({datasetIndex:d,index:u})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[u],index:u}}),i=!qd(n,o),l=this._positionChanged(o,s);(i||l)&&(this._active=o,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,i=this._active||[],l=this._getActiveElements(e,i,s,n),d=this._positionChanged(l,e),u=s||!qd(l,i)||d;return u&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),u}_getActiveElements(e,s,n,o){const i=this.options;if(e.type==="mouseout")return[];if(!o)return s.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&l.reverse(),l}_positionChanged(e,s){const{caretX:n,caretY:o,options:i}=this,l=Xi[i.position].call(this,e,s);return l!==!1&&(n!==l.x||o!==l.y)}}var y1={id:"tooltip",_element:rw,positioners:Xi,afterInit(t,e,s){s&&(t.tooltip=new rw({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:v1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ND=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function SD(t,e,s,n){const o=t.indexOf(e);if(o===-1)return ND(t,e,s,n);const i=t.lastIndexOf(e);return o!==i?s:o}const QD=(t,e)=>t===null?null:Rs(Math.round(t),0,e);function nw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class b1 extends IA{static id="category";static defaults={ticks:{callback:nw}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:o,label:i}of s)n[o]===i&&n.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(ct(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:SD(n,e,Pe(s,e),this._addedLabels),QD(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,o=[];let i=this.getLabels();i=e===0&&s===i.length-1?i:i.slice(e,s+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=e;l<=s;l++)o.push({value:l});return o}getLabelForValue(e){return nw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function ED(t,e){const s=[],{bounds:o,step:i,min:l,max:d,precision:u,count:h,maxTicks:m,maxDigits:p,includeBounds:v}=t,b=i||1,w=m-1,{min:B,max:C}=e,j=!ct(l),S=!ct(d),D=!ct(h),N=(C-B)/(p+1);let E=a0((C-B)/w/b)*b,k,T,_,M;if(E<1e-14&&!j&&!S)return[{value:B},{value:C}];M=Math.ceil(C/E)-Math.floor(B/E),M>w&&(E=a0(M*E/w/b)*b),ct(u)||(k=Math.pow(10,u),E=Math.ceil(E*k)/k),o==="ticks"?(T=Math.floor(B/E)*E,_=Math.ceil(C/E)*E):(T=B,_=C),j&&S&&i&&WU((d-l)/i,E/1e3)?(M=Math.round(Math.min((d-l)/E,m)),E=(d-l)/M,T=l,_=d):D?(T=j?l:T,_=S?d:_,M=h-1,E=(_-T)/M):(M=(_-T)/E,rl(M,Math.round(M),E/1e3)?M=Math.round(M):M=Math.ceil(M));const Z=Math.max(o0(E),o0(T));k=Math.pow(10,ct(u)?Z:u),T=Math.round(T*k)/k,_=Math.round(_*k)/k;let P=0;for(j&&(v&&T!==l?(s.push({value:l}),T<l&&P++,rl(Math.round((T+P*E)*k)/k,l,aw(l,N,t))&&P++):T<l&&P++);P<M;++P){const H=Math.round((T+P*E)*k)/k;if(S&&H>d)break;s.push({value:H})}return S&&v&&_!==d?s.length&&rl(s[s.length-1].value,d,aw(d,N,t))?s[s.length-1].value=d:s.push({value:d}):(!S||_===d)&&s.push({value:_}),s}function aw(t,e,{horizontal:s,minRotation:n}){const o=kn(n),i=(s?Math.sin(o):Math.cos(o))||.001,l=.75*e*(""+t).length;return Math.min(e/i,l)}class FD extends IA{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return ct(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:o,max:i}=this;const l=u=>o=s?o:u,d=u=>i=n?i:u;if(e){const u=Zr(o),h=Zr(i);u<0&&h<0?d(0):u>0&&h>0&&l(0)}if(o===i){let u=i===0?1:Math.abs(i*.05);d(i+u),e||l(o-u)}this.min=o,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,o;return n?(o=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),s=s||11),s&&(o=Math.min(s,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const o={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,l=ED(o,i);return e.bounds==="ticks"&&qU(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const o=(n-s)/Math.max(e.length-1,1)/2;s-=o,n+=o}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return xp(e,this.chart.options.locale,this.options.ticks.format)}}class w1 extends FD{static id="linear";static defaults={ticks:{callback:OC.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Fr(e)?e:0,this.max=Fr(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=kn(this.options.ticks.minRotation),o=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Su={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ys=Object.keys(Su);function ow(t,e){return t-e}function Aw(t,e){if(ct(e))return null;const s=t._adapter,{parser:n,round:o,isoWeekday:i}=t._parseOpts;let l=e;return typeof n=="function"&&(l=n(l)),Fr(l)||(l=typeof n=="string"?s.parse(l,n):s.parse(l)),l===null?null:(o&&(l=o==="week"&&(vl(i)||i===!0)?s.startOf(l,"isoWeek",i):s.startOf(l,o)),+l)}function iw(t,e,s,n){const o=Ys.length;for(let i=Ys.indexOf(t);i<o-1;++i){const l=Su[Ys[i]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((s-e)/(d*l.size))<=n)return Ys[i]}return Ys[o-1]}function UD(t,e,s,n,o){for(let i=Ys.length-1;i>=Ys.indexOf(s);i--){const l=Ys[i];if(Su[l].common&&t._adapter.diff(o,n,l)>=e-1)return l}return Ys[s?Ys.indexOf(s):0]}function kD(t){for(let e=Ys.indexOf(t)+1,s=Ys.length;e<s;++e)if(Su[Ys[e]].common)return Ys[e]}function lw(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:o}=gp(s,e),i=s[n]>=e?s[n]:s[o];t[i]=!0}}function DD(t,e,s,n){const o=t._adapter,i=+o.startOf(e[0].value,n),l=e[e.length-1].value;let d,u;for(d=i;d<=l;d=+o.add(d,1,n))u=s[d],u>=0&&(e[u].major=!0);return e}function cw(t,e,s){const n=[],o={},i=e.length;let l,d;for(l=0;l<i;++l)d=e[l],o[d]=l,n.push({value:d,major:!1});return i===0||!s?n:DD(t,n,o,s)}class dw extends IA{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),o=this._adapter=new L5._date(e.adapters.date);o.init(s),sl(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Aw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:o,max:i,minDefined:l,maxDefined:d}=this.getUserBounds();function u(h){!l&&!isNaN(h.min)&&(o=Math.min(o,h.min)),!d&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!l||!d)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),o=Fr(o)&&!isNaN(o)?o:+s.startOf(Date.now(),n),i=Fr(i)&&!isNaN(i)?i:+s.endOf(Date.now(),n)+1,this.min=Math.min(o,i-1),this.max=Math.max(o+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,o=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const i=this.min,l=this.max,d=s4(o,i,l);return this._unit=s.unit||(n.autoSkip?iw(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):UD(this,d.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:kD(this._unit),this.initOffsets(o),e.reverse&&d.reverse(),cw(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,o,i;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?s=1-o:s=(this.getDecimalForValue(e[1])-o)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;s=Rs(s,0,l),n=Rs(n,0,l),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,o=this.options,i=o.time,l=i.unit||iw(i.minUnit,s,n,this._getLabelCapacity(s)),d=Pe(o.ticks.stepSize,1),u=l==="week"?i.isoWeekday:!1,h=vl(u)||u===!0,m={};let p=s,v,b;if(h&&(p=+e.startOf(p,"isoWeek",u)),p=+e.startOf(p,h?"day":l),e.diff(n,s,l)>1e5*d)throw new Error(s+" and "+n+" are too far apart with stepSize of "+d+" "+l);const w=o.ticks.source==="data"&&this.getDataTimestamps();for(v=p,b=0;v<n;v=+e.add(v,d,l),b++)lw(m,v,w);return(v===n||o.bounds==="ticks"||b===1)&&lw(m,v,w),Object.keys(m).sort(ow).map(B=>+B)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const o=this.options.time.displayFormats,i=this._unit,l=s||o[i];return this._adapter.format(e,l)}_tickFormatFunction(e,s,n,o){const i=this.options,l=i.ticks.callback;if(l)return Et(l,[e,s,n],this);const d=i.time.displayFormats,u=this._unit,h=this._majorUnit,m=u&&d[u],p=h&&d[h],v=n[s],b=h&&p&&v&&v.major;return this._adapter.format(e,o||(b?p:m))}generateTickLabels(e){let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s],o.label=this._tickFormatFunction(o.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,o=kn(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(o),l=Math.sin(o),d=this._resolveTickFontOptions(0).size;return{w:n*i+d*l,h:n*l+d*i}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,o=n[s.unit]||n.millisecond,i=this._tickFormatFunction(e,0,cw(this,[e],this._majorUnit),o),l=this._getLabelSize(i),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(s=0,n=o.length;s<n;++s)e=e.concat(o[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const o=this.getLabels();for(s=0,n=o.length;s<n;++s)e.push(Aw(this,o[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return MC(e.sort(ow))}}function cd(t,e,s){let n=0,o=t.length-1,i,l,d,u;s?(e>=t[n].pos&&e<=t[o].pos&&({lo:n,hi:o}=lo(t,"pos",e)),{pos:i,time:d}=t[n],{pos:l,time:u}=t[o]):(e>=t[n].time&&e<=t[o].time&&({lo:n,hi:o}=lo(t,"time",e)),{time:i,pos:d}=t[n],{time:l,pos:u}=t[o]);const h=l-i;return h?d+(u-d)*(e-i)/h:d}class wO extends dw{static id="timeseries";static defaults=dw.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=cd(s,this.min),this._tableRange=cd(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,o=[],i=[];let l,d,u,h,m;for(l=0,d=e.length;l<d;++l)h=e[l],h>=s&&h<=n&&o.push(h);if(o.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(l=0,d=o.length;l<d;++l)m=o[l+1],u=o[l-1],h=o[l],Math.round((m+u)/2)!==h&&i.push({time:h,pos:l/(d-1)});return i}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((o,i)=>o-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(cd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return cd(this._table,n*this._tableRange+this._minPos,!0)}}const B1="label";function uw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ID(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function C1(t,e){t.labels=e}function j1(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B1;const n=[];t.datasets=e.map(o=>{const i=t.datasets.find(l=>l[s]===o[s]);return!i||!o.data||n.includes(i)?{...o}:(n.push(i),Object.assign(i,o),i)})}function RD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B1;const s={labels:[],datasets:[]};return C1(s,t.labels),j1(s,t.datasets,e),s}function TD(t,e){const{height:s=150,width:n=300,redraw:o=!1,datasetIdKey:i,type:l,data:d,options:u,plugins:h=[],fallbackContent:m,updateMode:p,...v}=t,b=x.useRef(null),w=x.useRef(null),B=()=>{b.current&&(w.current=new Dl(b.current,{type:l,data:RD(d,i),options:u&&{...u},plugins:h}),uw(e,w.current))},C=()=>{uw(e,null),w.current&&(w.current.destroy(),w.current=null)};return x.useEffect(()=>{!o&&w.current&&u&&ID(w.current,u)},[o,u]),x.useEffect(()=>{!o&&w.current&&C1(w.current.config.data,d.labels)},[o,d.labels]),x.useEffect(()=>{!o&&w.current&&d.datasets&&j1(w.current.config.data,d.datasets,i)},[o,d.datasets]),x.useEffect(()=>{w.current&&(o?(C(),setTimeout(B)):w.current.update(p))},[o,u,d.labels,d.datasets,p]),x.useEffect(()=>{w.current&&(C(),setTimeout(B))},[l]),x.useEffect(()=>(B(),()=>C()),[]),Yt.createElement("canvas",{ref:b,role:"img",height:s,width:n,...v},m)}const MD=x.forwardRef(TD);function Qp(t,e){return Dl.register(e),x.forwardRef((s,n)=>Yt.createElement(MD,{...s,ref:n,type:t}))}const bg=Qp("line",H5),wg=Qp("bar",R5),HD=Qp("doughnut",M5);Dl.register(b1,w1,h1,f1,g1,c1,y1,x1);function LD(){const{formatCurrency:t}=it(),[e,s]=x.useState({totalRevenue:0,totalSales:0,totalCustomers:0,totalProducts:0,salesWithInvoices:0,totalInvoices:0,invoiceRevenue:0,paidInvoiceRevenue:0,pendingInvoiceRevenue:0,totalReturns:0,returnAmount:0,netRevenue:0}),[n,o]=x.useState(!0),[i,l]=x.useState([]),[d,u]=x.useState([]),[h,m]=x.useState([]),[p,v]=x.useState([]),[b,w]=x.useState([0,0,0,0,0,0,0]),[B,C]=x.useState([]),[j,S]=x.useState({}),[D,N]=x.useState([]),E=(typeof window<"u"?getComputedStyle(document.documentElement).getPropertyValue("--accent"):"")||"#ff6b00";x.useEffect(()=>{k()},[]);const k=async()=>{try{o(!0);let oe=[];if(typeof window<"u"&&window.electron?.ipcRenderer){const V=await window.electron.ipcRenderer.invoke("get-invoices");V.success&&V.data&&(oe=V.data)}const[U,L,F,R]=await Promise.all([Er.getAllSales(),bs.getAllCustomers(),ds.getAllProducts(),wr.getAllReturns()]);let O=[],$=[],re=[],he=[];if(U.success&&U.data){O=U.data,l(O);const V=O.reduce((G,q)=>G+q.total,0),X=O.filter(G=>G.invoiceId).length;s(G=>({...G,totalRevenue:V,totalSales:O.length,salesWithInvoices:X})),T(O),Z(O)}if(L.success&&L.data&&($=L.data,s(V=>({...V,totalCustomers:$.length}))),R.success&&R.data&&(he=R.data,v(he)),F.success&&F.data&&(re=F.data,u(re),s(V=>({...V,totalProducts:re.length}))),O.length>0&&$.length>0&&_(O,$),O.length>0&&re.length>0&&M(O,re),Array.isArray(oe)&&oe.length>0){const V=oe;m(V);const X=V.filter(Ie=>!Ie.saleId),G=V.reduce((Ie,Rt)=>Ie+(Rt.total||0),0),q=X.filter(Ie=>Ie.status==="paid").reduce((Ie,Rt)=>Ie+(Rt.total||0),0),ce=X.filter(Ie=>Ie.status==="pending"||Ie.status==="sent").reduce((Ie,Rt)=>Ie+(Rt.total||0),0),pe=O.reduce((Ie,Rt)=>Ie+Rt.total,0),Ne=pe+q,at=he.filter(Ie=>["completed","approved"].includes(Ie.status)&&["cash","original_payment"].includes(Ie.refundMethod)),Nt=at.reduce((Ie,Rt)=>Ie+Rt.refundAmount,0),ke=Ne-Nt;console.log("Revenue calculation with returns:",{salesRevenue:pe,paidInvoiceRevenue:q,grossRevenue:Ne,independentInvoicesCount:X.length,totalReturns:he.length,revenueReducingReturns:at.length,returnAmount:Nt,netRevenue:ke,returnRate:O.length>0?(he.length/O.length*100).toFixed(2)+"%":"0%"}),s(Ie=>({...Ie,totalRevenue:ke,totalInvoices:V.length,invoiceRevenue:G,paidInvoiceRevenue:q,pendingInvoiceRevenue:ce,totalReturns:he.length,returnAmount:Nt,netRevenue:ke}))}else{const V=O.reduce((ce,pe)=>ce+pe.total,0),G=he.filter(ce=>["completed","approved"].includes(ce.status)&&["cash","original_payment"].includes(ce.refundMethod)).reduce((ce,pe)=>ce+pe.refundAmount,0),q=V-G;s(ce=>({...ce,totalRevenue:q,totalInvoices:0,invoiceRevenue:0,paidInvoiceRevenue:0,pendingInvoiceRevenue:0,totalReturns:he.length,returnAmount:G,netRevenue:q}))}}catch(oe){console.error("Failed to load dashboard data:",oe)}finally{o(!1)}},T=oe=>{const U=new Date,L=[0,0,0,0,0,0,0];oe.forEach(F=>{const R=new Date(F.createdAt),O=Math.floor((U.getTime()-R.getTime())/(1e3*60*60*24));O>=0&&O<7&&(L[6-O]+=F.total)}),h.length>0&&h.forEach(F=>{if(F.status==="paid"&&!F.saleId){const R=new Date(F.createdAt),O=Math.floor((U.getTime()-R.getTime())/(1e3*60*60*24));O>=0&&O<7&&(L[6-O]+=F.total||0)}}),w(L)},_=(oe,U)=>{const L=new Map,F=new Map;oe.forEach(O=>{if(O.customerId){const $=L.get(O.customerId)||0;if(L.set(O.customerId,$+O.total),!F.has(O.customerId)){const re=U.find(he=>he.id===O.customerId);re?F.set(O.customerId,re.name):F.set(O.customerId,O.customerName||"Unknown")}}else if(O.customerName){const $=L.get(O.customerName)||0;L.set(O.customerName,$+O.total),F.set(O.customerName,O.customerName)}});const R=Array.from(L.entries()).sort((O,$)=>$[1]-O[1]).slice(0,10).map(([O,$])=>({id:O,label:F.get(O)||"Unknown Customer",value:t($)}));C(R)},M=(oe,U)=>{const L=new Map;oe.forEach(R=>{R.items.forEach(O=>{const $=U.find(re=>re.id===O.productId);if($&&$.category){const re=L.get($.category)||0;L.set($.category,re+O.total)}})});const F={};L.forEach((R,O)=>{F[O]=R}),S(F)},Z=oe=>{const U=oe.sort((L,F)=>new Date(F.createdAt).getTime()-new Date(L.createdAt).getTime()).slice(0,10).map(L=>{let F;return L.status==="completed"?F=r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"rgb(34, 197, 94)"},children:"Completed"}):L.status==="pending"?F=r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"rgba(251, 191, 36, 0.1)",color:"rgb(251, 191, 36)"},children:"Pending"}):L.status==="cancelled"?F=r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"rgb(239, 68, 68)"},children:"Cancelled"}):F=r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"rgba(127, 127, 127, 0.1)",color:"rgb(127, 127, 127)"},children:L.status}),{id:L.id.substring(0,8).toUpperCase(),customer:L.customerName||"Walk-in Customer",total:t(L.total),status:F,date:new Date(L.createdAt).toLocaleDateString()}});N(U)},P=(oe,U)=>{const L=new Date,F=L.getMonth(),R=L.getFullYear(),O=oe.filter(X=>{const G=new Date(X.createdAt);return G.getMonth()===F&&G.getFullYear()===R});let $=0,re=0;O.forEach(X=>{$+=X.total,X.items.forEach(G=>{const q=U.find(ce=>ce.id===G.productId);q&&q.cost&&(re+=q.cost*G.quantity)})}),h.length>0&&h.filter(G=>{if(G.status!=="paid"||G.saleId)return!1;const q=new Date(G.createdAt);return q.getMonth()===F&&q.getFullYear()===R}).forEach(G=>{$+=G.total||0});const V=p.filter(X=>{const G=new Date(X.createdAt);return G.getMonth()===F&&G.getFullYear()===R&&["completed","approved"].includes(X.status)&&["cash","original_payment"].includes(X.refundMethod)}).reduce((X,G)=>X+G.refundAmount,0);return $-re-V},H=(oe,U)=>{const L=new Date,F=L.getMonth(),R=L.getFullYear(),O=oe.filter(he=>{const V=new Date(he.createdAt);return V.getMonth()===F&&V.getFullYear()===R}),$=[0,0,0,0];return O.forEach(he=>{const V=new Date(he.createdAt),X=Math.floor((V.getDate()-1)/7),G=Math.min(X,3),q=he.total;let ce=0;he.items.forEach(pe=>{const Ne=U.find(at=>at.id===pe.productId);Ne&&Ne.cost&&(ce+=Ne.cost*pe.quantity)}),$[G]+=q-ce}),h.length>0&&h.filter(V=>{if(V.status!=="paid"||V.saleId)return!1;const X=new Date(V.createdAt);return X.getMonth()===F&&X.getFullYear()===R}).forEach(V=>{const X=new Date(V.createdAt),G=Math.floor((X.getDate()-1)/7),q=Math.min(G,3),ce=V.total||0;$[q]+=ce}),p.filter(he=>{const V=new Date(he.createdAt);return V.getMonth()===F&&V.getFullYear()===R&&["completed","approved"].includes(he.status)&&["cash","original_payment"].includes(he.refundMethod)}).forEach(he=>{const V=new Date(he.createdAt),X=Math.floor((V.getDate()-1)/7),G=Math.min(X,3);$[G]-=he.refundAmount}),$},W=(oe,U)=>{const L=new Date,F=L.getMonth(),R=L.getFullYear(),O=oe.filter(X=>{const G=new Date(X.createdAt);return G.getMonth()===F&&G.getFullYear()===R});let $=0,re=0;O.forEach(X=>{$+=X.total,X.items.forEach(G=>{const q=U.find(ce=>ce.id===G.productId);q&&q.cost&&(re+=q.cost*G.quantity)})}),h.length>0&&h.filter(G=>{if(G.status!=="paid"||G.saleId)return!1;const q=new Date(G.createdAt);return q.getMonth()===F&&q.getFullYear()===R}).forEach(G=>{$+=G.total||0});const V=p.filter(X=>{const G=new Date(X.createdAt);return G.getMonth()===F&&G.getFullYear()===R&&["completed","approved"].includes(X.status)&&["cash","original_payment"].includes(X.refundMethod)}).reduce((X,G)=>X+G.refundAmount,0);return $-=V,$===0?0:($-re)/$*100},ne={responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{grid:{color:"rgba(127,127,127,0.2)"}}}},ie={plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{grid:{color:"rgba(127,127,127,0.2)"}}}},K=[{key:"id",label:"Sale ID"},{key:"customer",label:"Customer"},{key:"total",label:"Total"},{key:"status",label:"Status"},{key:"date",label:"Date"}],J=()=>{const oe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],U=[],L=new Date().getDay();for(let F=6;F>=0;F--){const R=(L-F+7)%7;U.push(oe[R])}return U},z=()=>{const oe=Object.keys(j),U=Object.values(j);return{categories:oe,values:U}};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):r.jsx("div",{className:"space-y-6",children:r.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(je,{title:"Total Revenue",value:t(e.totalRevenue),className:"md:col-span-1"}),r.jsx(je,{title:"Total Sales",value:e.totalSales.toString(),className:"md:col-span-1"}),r.jsx(je,{title:"Total Customers",value:e.totalCustomers.toString(),className:"md:col-span-1"}),r.jsx(je,{title:"Total Invoices",value:e.totalInvoices.toString(),className:"md:col-span-1"}),r.jsx(Sa,{title:"Sales (last 7 days)",className:"md:col-span-3",children:r.jsx(bg,{data:{labels:J(),datasets:[{label:"Sales",data:b,borderColor:E,backgroundColor:"transparent",tension:.35}]},options:ne})}),r.jsx(Sa,{title:"Monthly Profit Trend",className:"md:col-span-1",children:r.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[r.jsxs("div",{className:"text-center px-4",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"This Month"}),r.jsxs("div",{className:`text-xl font-bold tracking-wide ${P(i,d)>=0?"text-green-600":"text-red-600"}`,style:{letterSpacing:"0.5px"},children:[P(i,d)>=0?"+":"",t(P(i,d))]}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:P(i,d)>=0?"Profit":"Loss"})]}),r.jsx("div",{className:"w-full h-16",children:r.jsx(bg,{data:{labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Weekly Profit",data:H(i,d),borderColor:P(i,d)>=0?"#22c55e":"#ef4444",backgroundColor:"transparent",tension:.4,pointRadius:3,pointHoverRadius:5}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(oe){return t(oe.parsed.y)}}}},scales:{x:{display:!1},y:{display:!1}},interaction:{intersect:!1,mode:"index"}}})}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Margin"}),r.jsxs("div",{className:"text-sm font-semibold text-gray-700",children:[W(i,d).toFixed(1),"%"]})]})]})}),r.jsx(fg,{title:"Top Customers",items:B.length>0?B:[{id:"0",label:"No customers yet",value:t(0)}],className:"md:col-span-2",itemsPerPage:0}),r.jsx(Sa,{title:"Sales by Category",className:"md:col-span-2",children:(()=>{const{categories:oe,values:U}=z();return oe.length>0?r.jsx(wg,{data:{labels:oe,datasets:[{label:"Category Sales",data:U,backgroundColor:E,borderRadius:6}]},options:ie}):r.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground text-sm",children:"No category data available yet"})})()}),r.jsx(Ws,{title:"Recent Sales",columns:K,data:D.length>0?D:[],className:"md:col-span-4"})]})})}function _D(){const t=vt(),[e,s]=x.useState(!0);return x.useEffect(()=>{s(!1)},[t]),e?r.jsx("div",{className:"flex items-center justify-center h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r.jsx(LD,{})}const te=x.forwardRef(({className:t,variant:e="default",size:s="default",...n},o)=>r.jsx("button",{className:He("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-150 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 hover:transform hover:-translate-y-0.5 active:transform active:translate-y-0",{"h-10 px-4 py-2":s==="default","h-9 rounded-md px-3":s==="sm","h-11 rounded-md px-8":s==="lg","h-10 w-10":s==="icon","bg-orange-500 text-white hover:bg-orange-600":e==="default","bg-red-500 text-white hover:bg-red-600":e==="destructive"},t),style:{backgroundColor:e==="default"?"var(--accent)":e==="destructive"?"var(--destructive)":e==="outline"?"transparent":e==="secondary"?"var(--muted)":e==="ghost"||e==="link"?"transparent":void 0,color:e==="default"?"var(--accent-contrast)":e==="destructive"?"white":e==="outline"||e==="secondary"?"var(--foreground)":e==="link"?"#ea580c":e==="ghost"?"var(--foreground)":void 0,border:e==="outline"?"1px solid var(--border)":void 0},ref:o,...n}));te.displayName="Button";const OD={info:{iconColor:"#3b82f6",icon:VE},success:{iconColor:"#10b981",icon:Gt},warning:{iconColor:"#f59e0b",icon:Un},error:{iconColor:"#ef4444",icon:Hn}};function Cr({variant:t="info",title:e,children:s,className:n="",onClose:o,dismissible:i=!1}){const l=OD[t],d=l.icon;return r.jsxs("div",{className:He("rounded-xl shadow-sm p-4 flex items-start gap-3 max-w-lg",n),style:{background:"var(--card)",border:"1px solid var(--border)"},children:[r.jsx(d,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:l.iconColor}}),r.jsxs("div",{className:"flex-1 min-w-0",children:[e&&r.jsx("h4",{className:"text-sm font-medium mb-1",style:{color:"var(--foreground)"},children:e}),r.jsx("div",{className:"text-sm leading-relaxed",style:{color:"var(--muted-foreground)"},children:s})]}),i&&o&&r.jsx("button",{onClick:o,className:"flex-shrink-0 p-1 rounded-md hover:bg-black/5 transition-colors",style:{color:"var(--muted-foreground)"},children:r.jsx(Rn,{className:"h-4 w-4"})})]})}function It({...t}){return r.jsx("div",{className:"fixed top-6 right-6 z-50 max-w-sm animate-in slide-in-from-right-full duration-300",children:r.jsx(Cr,{...t,className:"shadow-lg",dismissible:!0})})}function xr({variant:t="default",size:e="md",children:s,className:n="",icon:o}){const i="inline-flex items-center gap-1.5 font-medium rounded-full border transition-colors",l={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-sm px-3 py-1.5"},u={default:{background:"var(--accent)",color:"var(--accent-contrast)",border:"transparent"},success:{background:"#10b981",color:"#ffffff",border:"transparent"},warning:{background:"#f59e0b",color:"#ffffff",border:"transparent"},error:{background:"#ef4444",color:"#ffffff",border:"transparent"},info:{background:"#3b82f6",color:"#ffffff",border:"transparent"},secondary:{background:"var(--muted)",color:"var(--muted-foreground)",border:"transparent"},outline:{background:"transparent",color:"var(--foreground)",border:"var(--border)"}}[t];return r.jsxs("span",{className:He(i,l[e],n),style:{backgroundColor:u.background,color:u.color,borderColor:u.border},children:[o&&r.jsx("span",{className:"flex-shrink-0",children:o}),s]})}const PD={active:{variant:"success",label:"Active"},inactive:{variant:"secondary",label:"Inactive"},pending:{variant:"warning",label:"Pending"},completed:{variant:"success",label:"Completed"},cancelled:{variant:"error",label:"Cancelled"},draft:{variant:"secondary",label:"Draft"},published:{variant:"success",label:"Published"}};function _i({status:t,size:e="sm",className:s=""}){const n=PD[t];return r.jsx(xr,{variant:n.variant,size:e,className:s,children:n.label})}const KD={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function N1({isOpen:t,onClose:e,title:s,children:n,size:o="md",className:i="",closeOnOverlayClick:l=!0,showCloseButton:d=!0}){if(x.useEffect(()=>{const h=m=>{m.key==="Escape"&&t&&e()};return t&&(document.addEventListener("keydown",h),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",h),document.body.style.overflow="unset"}},[t,e]),!t)return null;const u=h=>{h.target===h.currentTarget&&l&&e()};return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:u,children:[r.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity","aria-hidden":"true"}),r.jsxs("div",{className:He("relative w-full rounded-xl transform transition-all","animate-in fade-in-0 zoom-in-95 duration-200",KD[o],i),style:{background:"var(--card)",border:"1px solid var(--border)"},children:[(s||d)&&r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border)"},children:[s&&r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:s}),d&&r.jsx("button",{onClick:e,className:"p-2 rounded-md hover:bg-black/5 transition-colors",style:{color:"var(--muted-foreground)"},children:r.jsx(Rn,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-6",children:n})]})]})}function zD({isOpen:t,onClose:e,onConfirm:s,title:n,message:o,confirmText:i="Confirm",cancelText:l="Cancel",variant:d="default"}){const u=()=>{s(),e()};return r.jsx(N1,{isOpen:t,onClose:e,title:n,size:"sm",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:o}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium rounded-md border transition-colors hover:bg-black/5",style:{color:"var(--foreground)",borderColor:"var(--border)"},children:l}),r.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium rounded-md text-white transition-colors",style:{backgroundColor:d==="danger"?"#ef4444":"var(--accent)"},children:i})]})]})})}function S1({tabs:t,defaultTab:e,className:s="",variant:n="default",size:o="md"}){const[i,l]=x.useState(e||t[0]?.id),d={sm:{tab:"text-sm px-3 py-2",content:"text-sm"},md:{tab:"text-sm px-4 py-2.5",content:"text-sm"},lg:{tab:"text-base px-6 py-3",content:"text-base"}},h={default:{container:"border-b",tab:"border-b-2 border-transparent transition-colors",active:"border-b-2 font-medium",inactive:"hover:opacity-80"},pills:{container:"rounded-lg p-1",tab:"rounded-md transition-colors",active:"",inactive:"hover:opacity-80"},underline:{container:"border-b",tab:"border-b-2 border-transparent transition-colors",active:"border-b-2 font-medium",inactive:"hover:opacity-80"}}[n],m=d[o];return r.jsxs("div",{className:He("w-full",s),children:[r.jsx("div",{className:He("flex",n==="pills"?"gap-1":"gap-6",h.container),style:n==="pills"?{backgroundColor:"var(--muted)"}:{borderColor:"var(--border)"},children:t.map(p=>r.jsxs("button",{onClick:()=>!p.disabled&&l(p.id),disabled:p.disabled,className:He("flex items-center gap-2 font-medium transition-colors",m.tab,h.tab,i===p.id?h.active:h.inactive,p.disabled&&"opacity-50 cursor-not-allowed",n==="pills"&&i===p.id&&""),style:{color:i===p.id?"var(--accent)":"var(--muted-foreground)",borderColor:i===p.id?"var(--accent)":"transparent",backgroundColor:n==="pills"&&i===p.id?"var(--card)":"transparent"},children:[p.icon&&r.jsx("span",{className:"flex-shrink-0",children:p.icon}),p.label]},p.id))}),r.jsx("div",{className:"mt-6",children:t.map(p=>r.jsx("div",{className:He(m.content,i===p.id?"block":"hidden"),children:p.content},p.id))})]})}const VD={default:Sr,search:On,error:Un};function Bg({icon:t,title:e,description:s,action:n,className:o="",variant:i="default"}){const l=VD[i];return r.jsxs("div",{className:He("flex flex-col items-center justify-center py-12 px-6 text-center",o),children:[r.jsx("div",{className:"rounded-full p-4 mb-4",style:{backgroundColor:i==="error"?"rgba(239, 68, 68, 0.1)":"var(--muted)"},children:t||r.jsx(l,{className:"h-8 w-8",style:{color:i==="error"?"#ef4444":"var(--muted-foreground)"}})}),r.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--foreground)"},children:e}),s&&r.jsx("p",{className:"text-sm mb-6 max-w-md",style:{color:"var(--muted-foreground)"},children:s}),n&&r.jsx("div",{children:n})]})}const fe=x.forwardRef(({className:t,type:e,label:s,error:n,helperText:o,leftIcon:i,rightIcon:l,...d},u)=>r.jsxs("div",{className:"space-y-2",children:[s&&r.jsxs("label",{className:"text-sm font-medium block",style:{color:"var(--foreground)"},children:[s,d.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[i&&r.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:i}),r.jsx("input",{type:e,className:He("flex h-10 w-full rounded-md border px-3 py-2 text-sm transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",i&&"pl-10",l&&"pr-10",n&&"border-red-500 focus:ring-red-500",t),style:{backgroundColor:"var(--card)",borderColor:n?"#ef4444":"var(--border)",color:"var(--foreground)"},ref:u,...d}),l&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:l})]}),n&&r.jsx("p",{className:"text-sm text-red-500",children:n}),o&&!n&&r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:o})]}));fe.displayName="Input";const as=x.forwardRef(({className:t,label:e,error:s,helperText:n,...o},i)=>r.jsxs("div",{className:"space-y-2",children:[e&&r.jsxs("label",{className:"text-sm font-medium block",style:{color:"var(--foreground)"},children:[e,o.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border px-3 py-2 text-sm transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","resize-vertical",s&&"border-red-500 focus:ring-red-500",t),style:{backgroundColor:"var(--card)",borderColor:s?"#ef4444":"var(--border)",color:"var(--foreground)"},ref:i,...o}),s&&r.jsx("p",{className:"text-sm text-red-500",children:s}),n&&!s&&r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:n})]}));as.displayName="Textarea";const Fe=x.forwardRef(({className:t,label:e,error:s,helperText:n,options:o,placeholder:i,...l},d)=>r.jsxs("div",{className:"space-y-2",children:[e&&r.jsxs("label",{className:"text-sm font-medium block",style:{color:"var(--foreground)"},children:[e,l.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{className:He("flex h-10 w-full rounded-md border px-3 py-2 text-sm transition-colors appearance-none","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","pr-10",s&&"border-red-500 focus:ring-red-500",t),style:{backgroundColor:"var(--card)",borderColor:s?"#ef4444":"var(--border)",color:"var(--foreground)"},ref:d,...l,children:[i&&r.jsx("option",{value:"",disabled:!0,children:i}),o.map(u=>r.jsx("option",{value:u.value,disabled:u.disabled,children:u.label},u.value))]}),r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:r.jsx(ip,{className:"h-4 w-4",style:{color:"var(--muted-foreground)"}})})]}),s&&r.jsx("p",{className:"text-sm text-red-500",children:s}),n&&!s&&r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:n})]}));Fe.displayName="Select";const Q1=x.forwardRef(({className:t,label:e,error:s,helperText:n,...o},i)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",className:He("peer h-4 w-4 rounded border transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","appearance-none",s&&"border-red-500 focus:ring-red-500",t),style:{backgroundColor:"var(--card)",borderColor:s?"#ef4444":"var(--border)"},ref:i,...o}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 peer-checked:opacity-100 transition-opacity",style:{color:"var(--accent)"},children:r.jsx(Br,{className:"h-3 w-3"})})]}),e&&r.jsxs("label",{className:"text-sm font-medium cursor-pointer flex-1",style:{color:"var(--foreground)"},htmlFor:o.id,children:[e,o.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),s&&r.jsx("p",{className:"text-sm text-red-500 ml-7",children:s}),n&&!s&&r.jsx("p",{className:"text-sm ml-7",style:{color:"var(--muted-foreground)"},children:n})]}));Q1.displayName="Checkbox";const E1=x.forwardRef(({className:t,label:e,error:s,helperText:n,options:o,name:i,...l},d)=>r.jsxs("div",{className:"space-y-2",children:[e&&r.jsxs("label",{className:"text-sm font-medium block",style:{color:"var(--foreground)"},children:[e,l.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("div",{className:"space-y-2",children:o.map(u=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"radio",id:`${i}-${u.value}`,name:i,value:u.value,disabled:u.disabled,className:He("h-4 w-4 border transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",s&&"border-red-500 focus:ring-red-500",t),style:{borderColor:s?"#ef4444":"var(--border)",accentColor:"var(--accent)"},ref:d,...l}),r.jsx("label",{htmlFor:`${i}-${u.value}`,className:"text-sm cursor-pointer",style:{color:u.disabled?"var(--muted-foreground)":"var(--foreground)"},children:u.label})]},u.value))}),s&&r.jsx("p",{className:"text-sm text-red-500",children:s}),n&&!s&&r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:n})]}));E1.displayName="Radio";const Ot=x.forwardRef(({label:t,error:e,helperText:s,checked:n,onChange:o,...i},l)=>{const[d,u]=x.useState(n||!1);x.useEffect(()=>{u(n||!1)},[n]);const h=m=>{const p=m.target.checked;u(p),o&&o(m)};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",className:"sr-only",ref:l,checked:d,onChange:h,...i}),r.jsx("button",{type:"button",className:He("relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",d?"bg-orange-600":"bg-gray-200",i.disabled&&"cursor-not-allowed opacity-50",e&&"border-2 border-red-500"),onClick:()=>{if(!i.disabled){const m=!d;u(m),o&&o({target:{checked:m},currentTarget:{checked:m}})}},children:r.jsx("span",{className:He("inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ease-in-out",d?"translate-x-6":"translate-x-1")})})]}),t&&r.jsxs("label",{className:"text-sm font-medium text-gray-900 cursor-pointer flex-1",htmlFor:i.id,onClick:()=>{if(!i.disabled){const m=!d;u(m),o&&o({target:{checked:m},currentTarget:{checked:m}})}},children:[t,i.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),e&&r.jsx("p",{className:"text-sm text-red-500 ml-14",children:e}),s&&!e&&r.jsx("p",{className:"text-sm ml-14 text-gray-500",children:s})]})});Ot.displayName="Switch";const F1=x.forwardRef(({className:t,label:e,error:s,helperText:n,...o},i)=>r.jsxs("div",{className:"space-y-2",children:[e&&r.jsxs("label",{className:"text-sm font-medium block",style:{color:"var(--foreground)"},children:[e,o.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",className:He("flex h-10 w-full rounded-md border px-3 py-2 text-sm transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","pr-10",s&&"border-red-500 focus:ring-red-500",t),style:{backgroundColor:"var(--card)",borderColor:s?"#ef4444":"var(--border)",color:"var(--foreground)"},ref:i,...o}),r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:r.jsx(ka,{className:"h-4 w-4",style:{color:"var(--muted-foreground)"}})})]}),s&&r.jsx("p",{className:"text-sm text-red-500",children:s}),n&&!s&&r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:n})]}));F1.displayName="DatePicker";function Qu({title:t,description:e,children:s,className:n="",headerActions:o}){return r.jsxs("div",{className:He("rounded-xl p-6",n),style:{background:"var(--card)",border:"1px solid var(--border)"},children:[(t||e||o)&&r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[t&&r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:t}),e&&r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--muted-foreground)"},children:e})]}),o&&r.jsx("div",{children:o})]})}),s]})}function Dt({title:t,description:e,children:s,className:n="",columns:o=1}){const i={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"};return r.jsxs("div",{className:He("space-y-4",n),children:[(t||e)&&r.jsxs("div",{children:[t&&r.jsx("h3",{className:"text-base font-medium",style:{color:"var(--foreground)"},children:t}),e&&r.jsx("p",{className:"text-sm mt-1",style:{color:"var(--muted-foreground)"},children:e})]}),r.jsx("div",{className:He("grid gap-4",i[o]),children:s})]})}function Eu({children:t,className:e="",align:s="right"}){const n={left:"justify-start",center:"justify-center",right:"justify-end",between:"justify-between"};return r.jsx("div",{className:He("flex items-center gap-3 pt-6 border-t",n[s],e),style:{borderColor:"var(--border)"},children:t})}function GD(){const t=vt();it();const[e,s]=x.useState(1),[n,o]=x.useState(null),[i,l]=x.useState(!1),[d,u]=x.useState(""),[h,m]=x.useState(""),[p,v]=x.useState(""),[b,w]=x.useState(""),[B,C]=x.useState("USD"),[j,S]=x.useState(15),[D,N]=x.useState(!1),[E,k]=x.useState([{name:"Sample Product 1",price:100,stock:10,category:"Electronics"},{name:"Sample Product 2",price:200,stock:5,category:"Electronics"},{name:"Sample Product 3",price:150,stock:8,category:"Accessories"}]),[T,_]=x.useState(!1),[M,Z]=x.useState(""),[P,H]=x.useState(""),[W,ne]=x.useState(""),ie=4,K=async()=>{if(e===1){if(!d.trim()){o({message:"Please enter your company name",type:"error"});return}l(!0);try{(await En.updateCompanySettings({companyName:d,address:h,phone:p,email:b,taxRate:j/100,currency:B})).success?s(2):o({message:"Failed to save company settings",type:"error"})}catch(U){console.error("Error saving settings:",U),o({message:"Failed to save company settings",type:"error"})}finally{l(!1)}}else if(e===2){if(!D){l(!0);try{for(const U of E)U.name.trim()&&await ds.createProduct({name:U.name,price:U.price,stock:U.stock,category:U.category,description:"Sample product for testing",isActive:!0});o({message:"Sample products created!",type:"success"})}catch(U){console.error("Error creating products:",U)}finally{l(!1)}}s(3)}else if(e===3){if(!T&&M.trim()){l(!0);try{await bs.createCustomer({name:M,email:P,phone:W,isActive:!0}),o({message:"Sample customer created!",type:"success"})}catch(U){console.error("Error creating customer:",U)}finally{l(!1)}}s(4)}else e===4&&z()},J=()=>{e>1&&s(e-1)},z=async()=>{try{if(console.log("Onboarding: Attempting to complete onboarding..."),typeof window<"u"&&window.electronAPI){console.log("Onboarding: electronAPI is available");const U=window.electronAPI;if("updatePreferences"in U&&typeof U.updatePreferences=="function"){console.log("Onboarding: Calling updatePreferences...");const L=await U.updatePreferences({onboardingCompleted:!0});console.log("Onboarding: updatePreferences result:",L)}else console.error("Onboarding: updatePreferences not found in electronAPI")}else console.error("Onboarding: electronAPI not available");console.log("Onboarding: Showing success message and navigating..."),o({message:"Welcome to TopNotch Sales Manager!",type:"success"}),await new Promise(U=>setTimeout(U,500)),console.log("Onboarding: Navigating to dashboard..."),t("/",{replace:!0})}catch(U){console.error("Error completing onboarding:",U),o({message:"Error saving onboarding status",type:"error"})}},oe=(U,L,F)=>{const R=[...E];R[U]={...R[U],[L]:F},k(R)};return r.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"var(--background)"},children:[r.jsxs("div",{className:"w-full max-w-3xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-4 rounded-full",style:{backgroundColor:"var(--accent)",opacity:.1},children:r.jsx(Yb,{className:"h-12 w-12",style:{color:"var(--accent)"}})})}),r.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--foreground)"},children:"Welcome to TopNotch Sales Manager"}),r.jsx("p",{className:"text-lg",style:{color:"var(--muted-foreground)"},children:"Let's get your business set up in just a few steps"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:[1,2,3,4].map(U=>r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-colors ${U<e?"bg-green-500 text-white":U===e?"text-white":"bg-gray-200 text-gray-500"}`,style:U===e?{backgroundColor:"var(--accent)"}:{},children:U<e?r.jsx(Gt,{className:"h-6 w-6"}):U}),U<ie&&r.jsx("div",{className:"flex-1 h-1 mx-2",style:{backgroundColor:U<e?"#22c55e":"var(--border)"}})]},U))}),r.jsxs("div",{className:"flex justify-between text-sm",style:{color:"var(--muted-foreground)"},children:[r.jsx("span",{children:"Company"}),r.jsx("span",{children:"Products"}),r.jsx("span",{children:"Customer"}),r.jsx("span",{children:"Complete"})]})]}),r.jsxs("div",{className:"p-8 rounded-xl shadow-lg",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",border:"1px solid"},children:[e===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(gE,{className:"h-8 w-8",style:{color:"var(--accent)"}}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"Company Information"}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:"Tell us about your business"})]})]}),r.jsx(fe,{label:"Company Name *",value:d,onChange:U=>u(U.target.value),placeholder:"TopNotch Electronics",required:!0}),r.jsx(as,{label:"Address",value:h,onChange:U=>m(U.target.value),placeholder:"123 Business Street, City, State, ZIP",rows:3}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(fe,{label:"Phone",value:p,onChange:U=>v(U.target.value),placeholder:"+1 (555) 123-4567"}),r.jsx(fe,{label:"Email",type:"email",value:b,onChange:U=>w(U.target.value),placeholder:"info@company.com"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(fe,{label:"Currency",value:B,onChange:U=>C(U.target.value),placeholder:"USD"}),r.jsx(fe,{label:"Tax Rate (%)",type:"number",value:j,onChange:U=>S(parseFloat(U.target.value)||0),placeholder:"15",step:"0.1"})]})]}),e===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(In,{className:"h-8 w-8",style:{color:"var(--accent)"}}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"Add Sample Products"}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:"Start with some sample products (you can edit or delete these later)"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("input",{type:"checkbox",id:"skipProducts",checked:D,onChange:U=>N(U.target.checked),className:"w-4 h-4"}),r.jsx("label",{htmlFor:"skipProducts",style:{color:"var(--foreground)"},children:"Skip this step (I'll add products later)"})]}),!D&&r.jsx("div",{className:"space-y-4",children:E.map((U,L)=>r.jsx("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[r.jsx(fe,{label:"Product Name",value:U.name,onChange:F=>oe(L,"name",F.target.value),placeholder:"Product name"}),r.jsx(fe,{label:"Price",type:"number",value:U.price,onChange:F=>oe(L,"price",parseFloat(F.target.value)||0),placeholder:"100",step:"0.01"}),r.jsx(fe,{label:"Stock",type:"number",value:U.stock,onChange:F=>oe(L,"stock",parseInt(F.target.value)||0),placeholder:"10"}),r.jsx(fe,{label:"Category",value:U.category,onChange:F=>oe(L,"category",F.target.value),placeholder:"Electronics"})]})},L))})]}),e===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(cC,{className:"h-8 w-8",style:{color:"var(--accent)"}}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"Add a Sample Customer"}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:"Create your first customer (optional)"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("input",{type:"checkbox",id:"skipCustomer",checked:T,onChange:U=>_(U.target.checked),className:"w-4 h-4"}),r.jsx("label",{htmlFor:"skipCustomer",style:{color:"var(--foreground)"},children:"Skip this step (I'll add customers later)"})]}),!T&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(fe,{label:"Customer Name",value:M,onChange:U=>Z(U.target.value),placeholder:"John Doe"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(fe,{label:"Email",type:"email",value:P,onChange:U=>H(U.target.value),placeholder:"customer@email.com"}),r.jsx(fe,{label:"Phone",value:W,onChange:U=>ne(U.target.value),placeholder:"+1 (555) 123-4567"})]})]})]}),e===4&&r.jsxs("div",{className:"space-y-6 text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"p-6 rounded-full bg-green-100",children:r.jsx(Gt,{className:"h-16 w-16 text-green-600"})})}),r.jsx("h2",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:"You're All Set!"}),r.jsx("p",{className:"text-lg",style:{color:"var(--muted-foreground)"},children:"Your TopNotch Sales Manager is ready to use"}),r.jsxs("div",{className:"p-6 rounded-lg text-left border",style:{backgroundColor:"var(--card)",borderColor:"var(--accent)"},children:[r.jsx("h3",{className:"font-semibold mb-3",style:{color:"var(--foreground)"},children:"Quick Tips to Get Started:"}),r.jsxs("ul",{className:"space-y-2",style:{color:"var(--foreground)"},children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Gt,{className:"h-5 w-5 mt-0.5 flex-shrink-0",style:{color:"var(--accent)"}}),r.jsxs("span",{children:["Create your first sale from the ",r.jsx("strong",{children:"Sales"})," page"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Gt,{className:"h-5 w-5 mt-0.5 flex-shrink-0",style:{color:"var(--accent)"}}),r.jsxs("span",{children:["Add more products in ",r.jsx("strong",{children:"Products"})," or ",r.jsx("strong",{children:"Inventory"})]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Gt,{className:"h-5 w-5 mt-0.5 flex-shrink-0",style:{color:"var(--accent)"}}),r.jsx("span",{children:"Generate invoices from sales or create standalone invoices"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Gt,{className:"h-5 w-5 mt-0.5 flex-shrink-0",style:{color:"var(--accent)"}}),r.jsx("span",{children:"Create purchase orders to restock inventory"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Gt,{className:"h-5 w-5 mt-0.5 flex-shrink-0",style:{color:"var(--accent)"}}),r.jsx("span",{children:"Process returns to restore stock and manage refunds"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Gt,{className:"h-5 w-5 mt-0.5 flex-shrink-0",style:{color:"var(--accent)"}}),r.jsxs("span",{children:["View analytics and reports on the ",r.jsx("strong",{children:"Dashboard"})]})]})]})]}),r.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--card)",border:"1px solid var(--border)"},children:r.jsxs("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:["💡 ",r.jsx("strong",{children:"Pro Tip:"})," You can always access settings from the sidebar to customize your experience."]})})]}),r.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",style:{borderColor:"var(--border)"},children:[r.jsxs(te,{variant:"outline",onClick:J,disabled:e===1||i,children:[r.jsx(Bs,{className:"h-5 w-5 mr-2"}),"Back"]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:["Step ",e," of ",ie]}),r.jsx(te,{onClick:K,disabled:i,children:i?"Processing...":e===ie?r.jsxs(r.Fragment,{children:["Go to Dashboard",r.jsx(Yb,{className:"h-5 w-5 ml-2"})]}):r.jsxs(r.Fragment,{children:["Next",r.jsx(nE,{className:"h-5 w-5 ml-2"})]})})]})]})]}),e<4&&r.jsx("div",{className:"text-center mt-6",children:r.jsx("button",{onClick:z,className:"text-sm hover:underline",style:{color:"var(--muted-foreground)"},children:"Skip onboarding and go straight to dashboard"})})]}),n&&r.jsx(It,{title:n.message,variant:n.type,onClose:()=>o(null),children:n.message})]})}function U1({customer:t,isOpen:e,onClose:s,onSave:n,title:o="Add Customer"}){const{formatDate:i}=it(),l=x.useRef(null),[d,u]=x.useState({name:"",email:"",phone:"",address:"",company:"",notes:"",isActive:!0,avatar:""}),[h,m]=x.useState({}),[p,v]=x.useState(!1),[b,w]=x.useState("");x.useEffect(()=>{t?(u({name:t.name||"",email:t.email||"",phone:t.phone||"",address:t.address||"",company:t.company||"",notes:t.notes||"",isActive:t.isActive!==!1,avatar:t.avatar||""}),w(t.avatar||"")):(u({name:"",email:"",phone:"",address:"",company:"",notes:"",isActive:!0,avatar:""}),w("")),m({})},[t,e]);const B=()=>{const N={};return d.name.trim()||(N.name="Name is required"),d.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)&&(N.email="Please enter a valid email address"),d.phone&&!/^[\+]?[1-9][\d]{0,15}$/.test(d.phone.replace(/[\s\-\(\)]/g,""))&&(N.phone="Please enter a valid phone number"),m(N),Object.keys(N).length===0},C=async N=>{if(N.preventDefault(),!!B()){v(!0);try{await n({name:d.name.trim(),email:d.email.trim()||void 0,phone:d.phone.trim()||void 0,address:d.address.trim()||void 0,company:d.company?.trim()||void 0,notes:d.notes?.trim()||void 0,isActive:d.isActive,avatar:d.avatar||void 0}),s()}catch(E){console.error("Failed to save customer:",E)}finally{v(!1)}}},j=(N,E)=>{u(k=>({...k,[N]:E})),h[N]&&m(k=>({...k,[N]:void 0}))},S=N=>{const E=N.target.files?.[0];if(!E)return;if(!E.type.startsWith("image/")){m(T=>({...T,avatar:"Please select a valid image file"}));return}if(E.size>5*1024*1024){m(T=>({...T,avatar:"Image size must be less than 5MB"}));return}const k=new FileReader;k.onload=T=>{const _=T.target?.result;u(M=>({...M,avatar:_})),w(_),m(M=>({...M,avatar:void 0}))},k.readAsDataURL(E)},D=()=>{u(N=>({...N,avatar:""})),w(""),m(N=>({...N,avatar:void 0})),l.current&&(l.current.value="")};return e?r.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/20 dark:bg-black/20 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",style:{backgroundColor:"var(--card)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--foreground)"},children:o}),r.jsx(te,{variant:"ghost",onClick:s,className:"p-2",children:r.jsx(Rn,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:C,className:"p-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx(Dt,{title:"Basic Information",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx(fe,{label:"Full Name *",value:d.name,onChange:N=>j("name",N.target.value),error:h.name,placeholder:"Enter customer's full name"})}),r.jsx(fe,{label:"Email",type:"email",value:d.email,onChange:N=>j("email",N.target.value),error:h.email,placeholder:"customer@example.com"}),r.jsx(fe,{label:"Phone",type:"tel",value:d.phone,onChange:N=>j("phone",N.target.value),error:h.phone,placeholder:"+1 (555) 123-4567"}),r.jsx(fe,{label:"Company",value:d.company,onChange:N=>j("company",N.target.value),placeholder:"Company name (optional)"})]})}),r.jsx(Dt,{title:"Profile Picture",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:b?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:b,alt:"Avatar preview",className:"w-24 h-24 rounded-full object-cover border-2",style:{borderColor:"var(--border)"}}),r.jsx("button",{type:"button",onClick:D,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:r.jsx(fs,{className:"h-3 w-3"})})]}):r.jsx("div",{className:"w-24 h-24 rounded-full border-2 border-dashed flex items-center justify-center",style:{borderColor:"var(--border)"},children:r.jsx(go,{className:"h-8 w-8",style:{color:"var(--muted-foreground)"}})})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Upload Profile Picture"}),r.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:S,className:"hidden"}),r.jsxs(te,{type:"button",variant:"outline",onClick:()=>l.current?.click(),className:"w-full",children:[r.jsx(go,{className:"h-4 w-4 mr-2"}),"Choose Image"]}),r.jsx("p",{className:"text-xs mt-1",style:{color:"var(--muted-foreground)"},children:"PNG, JPG, GIF up to 5MB"})]}),h.avatar&&r.jsx("p",{className:"text-sm text-red-600",children:h.avatar})]})})]})}),r.jsx(Dt,{title:"Address Information",children:r.jsx(as,{label:"Address",value:d.address,onChange:N=>j("address",N.target.value),placeholder:"Enter full address...",rows:3})}),r.jsxs(Dt,{title:"Additional Information",children:[r.jsx(as,{label:"Notes",value:d.notes,onChange:N=>j("notes",N.target.value),placeholder:"Any additional notes about this customer...",rows:3}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ot,{checked:d.isActive,onChange:N=>j("isActive",N.target.checked)}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:"Active Customer"}),r.jsx("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:"Inactive customers won't appear in customer lists by default"})]})]})]}),t&&r.jsx(Dt,{title:"Customer Information",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",style:{color:"var(--muted-foreground)"},children:"Customer ID:"}),r.jsx("span",{className:"ml-2",style:{color:"var(--foreground)"},children:t.id})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",style:{color:"var(--muted-foreground)"},children:"Created:"}),r.jsx("span",{className:"ml-2",style:{color:"var(--foreground)"},children:i(t.createdAt)})]}),t.updatedAt!==t.createdAt&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("span",{className:"font-medium",style:{color:"var(--muted-foreground)"},children:"Last Updated:"}),r.jsx("span",{className:"ml-2",style:{color:"var(--foreground)"},children:i(t.updatedAt)})]})]})})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",style:{borderColor:"var(--border)"},children:[r.jsx(te,{type:"button",variant:"outline",onClick:s,disabled:p,children:"Cancel"}),r.jsx(te,{type:"submit",disabled:p,className:"flex items-center gap-2",children:p?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):r.jsx(r.Fragment,{children:t?"Update Customer":"Add Customer"})})]})]})]})}):null}const yo=()=>{const[t,e]=x.useState(!1),[s,n]=x.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"info"}),[o,i]=x.useState(null),l=x.useCallback((h,m)=>{n(h),i(()=>m),e(!0)},[]),d=x.useCallback(()=>{o&&(o(),i(null)),e(!1)},[o]),u=x.useCallback(()=>{e(!1),i(null)},[]);return{isOpen:t,options:s,confirm:l,handleConfirm:d,handleClose:u}};function bo({isOpen:t,onClose:e,onConfirm:s,title:n,message:o,confirmText:i="Confirm",cancelText:l="Cancel",variant:d="info"}){const{preferences:u}=it();if(!t||!u.confirmBeforeDelete)return null;const h=()=>{s(),e()},p=(()=>{switch(d){case"danger":return{icon:"⚠️",confirmButton:"bg-red-600 hover:bg-red-700 text-white",border:"border-red-200"};case"warning":return{icon:"⚠️",confirmButton:"bg-orange-600 hover:bg-orange-700 text-white",border:"border-orange-200"};default:return{icon:"ℹ️",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white",border:"border-blue-200"}}})();return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 backdrop-blur-sm bg-white/20 dark:bg-black/20",onClick:e}),r.jsx("div",{className:`relative rounded-lg max-w-md w-full mx-4 border ${p.border}`,style:{backgroundColor:"var(--card)"},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("span",{className:"text-2xl",children:p.icon}),r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:n})]}),r.jsx("p",{className:"mb-6",style:{color:"var(--muted-foreground)"},children:o}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(te,{variant:"outline",onClick:e,className:"px-4 py-2",children:l}),r.jsx(te,{onClick:h,className:`px-4 py-2 ${p.confirmButton}`,children:i})]})]})})]})}function YD(){vt();const[t,e]=x.useState([]),[s,n]=x.useState(!0),[o,i]=x.useState(""),[l,d]=x.useState("name"),[u,h]=x.useState("asc"),[m,p]=x.useState(!1),[v,b]=x.useState(null),[w,B]=x.useState(!1),[C,j]=x.useState(null),{formatCurrency:S,formatDate:D}=it(),{isOpen:N,options:E,confirm:k,handleConfirm:T,handleClose:_}=yo();x.useEffect(()=>{M()},[]);const M=async()=>{try{n(!0);const L=await bs.getAllCustomers();L.success&&L.data&&e(L.data)}catch(L){console.error("Failed to load customers:",L),j({message:"Failed to load customers",type:"error"})}finally{n(!1)}},Z=async L=>{const F=t.find(R=>R.id===L);F&&k({title:"Delete Customer",message:`Are you sure you want to delete ${F.name}? This action cannot be undone.`,confirmText:"Delete",variant:"danger"},async()=>{try{const R=await bs.deleteCustomer(L);R&&R.success&&(e((t||[]).filter(O=>O.id!==L)),j({message:"Customer deleted successfully",type:"success"}))}catch(R){console.error("Failed to delete customer:",R),j({message:"Failed to delete customer",type:"error"})}})},P=async()=>{try{const L=await bs.exportCustomers();L.success&&j({message:`Customers exported successfully to ${L.data?.path}`,type:"success"})}catch(L){console.error("Failed to export customers:",L),j({message:"Failed to export customers",type:"error"})}},H=async()=>{try{const L=await bs.importCustomers();L.success&&(await M(),j({message:`Successfully imported ${L.data?.importedCount} customers`,type:"success"}))}catch(L){console.error("Failed to import customers:",L),j({message:"Failed to import customers",type:"error"})}},W=async L=>{try{v?(await bs.updateCustomer(v.id,L)).success&&(await M(),j({message:"Customer updated successfully",type:"success"})):(await bs.createCustomer(L)).success&&(await M(),j({message:"Customer created successfully",type:"success"}))}catch(F){console.error("Failed to save customer:",F),j({message:"Failed to save customer",type:"error"})}},ne=()=>{B(!1),b(null)},ie=L=>{b(L)},K=L=>{Z(L.id)},J=x.useMemo(()=>{const F=(t||[]).filter(R=>{const O=R.name.toLowerCase().includes(o.toLowerCase())||R.email?.toLowerCase().includes(o.toLowerCase())||R.phone?.includes(o),$=m||R.name;return O&&$});return F.sort((R,O)=>{let $,re;switch(l){case"name":$=R.name.toLowerCase(),re=O.name.toLowerCase();break;case"email":$=R.email?.toLowerCase()||"",re=O.email?.toLowerCase()||"";break;case"createdAt":$=new Date(R.createdAt).getTime(),re=new Date(O.createdAt).getTime();break;default:$=R.name.toLowerCase(),re=O.name.toLowerCase()}return u==="asc"?$<re?-1:$>re?1:0:$>re?-1:$<re?1:0}),F},[t,o,l,u,m]),z=[{key:"name",label:"Name",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"phone",label:"Phone",sortable:!1},{key:"company",label:"Company",sortable:!0},{key:"createdAt",label:"Created",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],oe=J.map(L=>({id:L.id,name:r.jsxs("div",{className:"flex items-center space-x-3",children:[L.avatar?r.jsx("img",{src:L.avatar,alt:L.name,className:"h-8 w-8 rounded-full object-cover border",style:{borderColor:"var(--border)"}}):r.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-blue-600",children:L.name.charAt(0).toUpperCase()})}),r.jsx("span",{className:"font-medium",children:L.name})]}),email:L.email||"-",phone:L.phone||"-",company:L.company||"-",createdAt:D(L.createdAt),actions:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(bu,{to:`/customers/${L.id}`,children:r.jsx(te,{variant:"ghost",size:"sm",className:"p-1 h-8 w-8",children:r.jsx(Ul,{className:"h-4 w-4"})})}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>ie(L),className:"p-1 h-8 w-8",children:r.jsx(Qr,{className:"h-4 w-4"})}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>K(L),className:"p-1 h-8 w-8 text-red-600 hover:text-red-700",children:r.jsx(fs,{className:"h-4 w-4"})})]})})),U=x.useMemo(()=>{const L=t.length,F=t.length;return{totalCustomers:L,activeCustomers:F,totalRevenue:0,averageOrderValue:0}},[t]);return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:"Loading customers..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"Customer Management"}),r.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--muted-foreground)"},children:"Manage your customer database and track customer relationships"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(te,{variant:"outline",onClick:P,className:"flex items-center gap-2",children:[r.jsx(mo,{className:"h-4 w-4"}),"Export"]}),r.jsxs(te,{variant:"outline",onClick:H,className:"flex items-center gap-2",children:[r.jsx(nC,{className:"h-4 w-4"}),"Import"]}),r.jsxs(te,{onClick:()=>B(!0),className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Add Customer"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(je,{title:"Total Customers",value:U.totalCustomers,icon:r.jsx(cC,{style:{height:"32px",width:"32px",color:"#2563eb"}})}),r.jsx(je,{title:"Active Customers",value:U.activeCustomers,icon:r.jsx(dC,{style:{height:"32px",width:"32px",color:"#16a34a"}})}),r.jsx(je,{title:"Total Revenue",value:S(U.totalRevenue),icon:r.jsx(et,{style:{height:"32px",width:"32px",color:"#ca8a04"}})}),r.jsx(je,{title:"Avg Order Value",value:S(U.averageOrderValue),icon:r.jsx(Ld,{style:{height:"32px",width:"32px",color:"#9333ea"}})})]}),r.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4",style:{color:"var(--muted-foreground)"}}),r.jsx(fe,{type:"text",placeholder:"Search customers by name, email, or phone...",value:o,onChange:L=>i(L.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(KE,{className:"h-4 w-4",style:{color:"var(--muted-foreground)"}}),r.jsx(Fe,{value:l,onChange:L=>d(L.target.value),options:[{value:"name",label:"Sort by Name"},{value:"email",label:"Sort by Email"},{value:"createdAt",label:"Sort by Date"}]})]}),r.jsx(te,{variant:"outline",onClick:()=>h(u==="asc"?"desc":"asc"),children:u==="asc"?"↑":"↓"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ot,{checked:m,onChange:L=>p(L.target.checked)}),r.jsx("span",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Show Inactive"})]})]})]})}),r.jsx(Ws,{title:`Customers (${J.length})`,columns:z,data:oe,itemsPerPage:10,headerActions:o&&r.jsxs(xr,{variant:"secondary",children:["Filtered by: “",o,"”"]})}),C&&r.jsx(It,{title:C.message,variant:C.type==="success"?"success":"error",onClose:()=>j(null),children:C.message}),r.jsx(U1,{customer:v,isOpen:w||!!v,onClose:ne,onSave:W,title:v?"Edit Customer":"Add New Customer"}),r.jsx(bo,{isOpen:N,title:E.title,message:E.message,confirmText:E.confirmText,cancelText:E.cancelText,variant:E.variant,onConfirm:T,onClose:_})]})}function XD(){const t=en(),e=vt(),s=t.id,[n,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,m]=x.useState(!1),[p,v]=x.useState(null),[b,w]=x.useState([]),[B,C]=x.useState(!0),[j,S]=x.useState([]),[D,N]=x.useState(!0),{formatCurrency:E,formatDate:k}=it(),{isOpen:T,options:_,confirm:M,handleConfirm:Z,handleClose:P}=yo(),H=x.useCallback(async()=>{try{l(!0),u(null);const F=await bs.getCustomerById(s);if(F.success&&F.data){const R=F.data,O=await Er.getAllSales();let $=0,re=0,he=null;if(O.success&&O.data){const X=O.data.filter(G=>G.customerId===s);$=X.length,re=X.reduce((G,q)=>G+q.total,0),X.length>0&&(he=X.sort((q,ce)=>new Date(ce.createdAt).getTime()-new Date(q.createdAt).getTime())[0].createdAt)}o({customer:R,totalOrders:$,totalSpent:re,lastOrderDate:he})}else u("Customer not found")}catch(F){console.error("Failed to load customer details:",F),u("Failed to load customer details")}finally{l(!1)}},[s]),W=x.useCallback(async()=>{try{if(C(!0),typeof window<"u"&&window.electron?.ipcRenderer){const F=await window.electron.ipcRenderer.invoke("get-invoices");if(!F.success)throw new Error(F.error||"Failed to fetch invoices");const O=(F.data||[]).filter($=>$.customerId===s);w(O)}else throw new Error("Electron IPC not available")}catch(F){console.error("Failed to load customer invoices:",F)}finally{C(!1)}},[s]),ne=x.useCallback(async()=>{try{N(!0);const F=await Er.getAllSales();if(F.success&&F.data){const R=F.data.filter(O=>O.customerId===s);S(R)}}catch(F){console.error("Failed to load customer sales:",F)}finally{N(!1)}},[s]);x.useEffect(()=>{s&&(H(),W(),ne())},[s,H,W,ne]);const ie=async F=>{try{(await bs.updateCustomer(s,F)).success&&(await H(),m(!1),v({message:"Customer updated successfully",type:"success"}))}catch(R){console.error("Failed to update customer:",R),v({message:"Failed to update customer",type:"error"})}},K=()=>{n?.customer&&M({title:"Delete Customer",message:`Are you sure you want to delete ${n.customer.name}? This action cannot be undone.`,confirmText:"Delete",variant:"danger"},async()=>{try{(await bs.deleteCustomer(s)).success&&(v({message:"Customer deleted successfully",type:"success"}),setTimeout(()=>{e("/customers")},1e3))}catch(F){console.error("Failed to delete customer:",F),v({message:"Failed to delete customer",type:"error"})}})};if(i)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:"Loading customer details..."})]})});if(d||!n)return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs(te,{variant:"outline",onClick:()=>e("/customers"),className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4"}),"Back to Customers"]})}),r.jsx(Cr,{variant:"error",title:"Error",children:d||"Customer not found"})]});const{customer:J}=n,z=[{key:"number",label:"Invoice Number"},{key:"date",label:"Date"},{key:"total",label:"Total"},{key:"status",label:"Status"},{key:"actions",label:"Actions"}],oe=b.map(F=>({number:r.jsx("div",{className:"font-medium text-sm",style:{color:"var(--foreground)"},children:F.number}),date:r.jsx("div",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:k(F.issueDate)}),total:r.jsx("div",{className:"text-sm font-semibold",style:{color:"var(--foreground)"},children:E(F.total)}),status:r.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:F.status==="paid"?"#dcfce7":F.status==="overdue"?"#fee2e2":"#fef3c7",color:F.status==="paid"?"#15803d":F.status==="overdue"?"#b91c1c":"#a16207"},children:F.status}),actions:r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(`/invoices/${F.id}`),children:"View"})})),U=[{key:"saleId",label:"Sale ID"},{key:"date",label:"Date"},{key:"items",label:"Items"},{key:"total",label:"Total"},{key:"status",label:"Status"},{key:"actions",label:"Actions"}],L=j.map(F=>({saleId:r.jsxs("div",{className:"font-medium text-sm",style:{color:"var(--foreground)"},children:["#",F.id.substring(0,8)]}),date:r.jsx("div",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:k(F.createdAt)}),items:r.jsxs("div",{className:"text-sm",style:{color:"var(--foreground)"},children:[F.items.length," items"]}),total:r.jsx("div",{className:"text-sm font-semibold",style:{color:"var(--foreground)"},children:E(F.total)}),status:r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${F.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":F.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300"}`,children:F.status}),actions:r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>e(`/sales/${F.id}`),children:"View"})}));return r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(te,{variant:"ghost",onClick:()=>e("/customers"),className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4"}),"Back to Customers"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(te,{onClick:()=>e(`/sales/new?customerId=${s}`),className:"flex items-center gap-2",children:[r.jsx(Ld,{className:"h-4 w-4"}),"New Sale"]}),r.jsxs(te,{onClick:()=>e(`/invoices/new?customerId=${s}`),className:"flex items-center gap-2",children:[r.jsx(Sr,{className:"h-4 w-4"}),"New Invoice"]}),r.jsxs(te,{variant:"outline",onClick:()=>m(!0),className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-4 w-4"}),"Edit"]}),r.jsxs(te,{variant:"outline",onClick:K,className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[r.jsx(fs,{className:"h-4 w-4"}),"Delete"]})]})]}),r.jsxs("div",{className:"relative overflow-hidden rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-purple-500/10 to-pink-500/10"}),r.jsx("div",{className:"relative p-8",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:J.avatar?r.jsx("img",{src:J.avatar,alt:J.name,className:"h-24 w-24 rounded-full object-cover border-4",style:{borderColor:"var(--background)"}}):r.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold",children:J.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--foreground)"},children:J.name}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",style:{color:"var(--muted-foreground)"},children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(ka,{className:"h-4 w-4"}),"Customer since ",k(J.createdAt)]}),J.company&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"•"}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(aC,{className:"h-4 w-4"}),J.company]})]}),J.email&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"•"}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(ml,{className:"h-4 w-4"}),J.email]})]})]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(je,{title:"Total Orders",value:n.totalOrders.toString(),icon:r.jsx(Ld,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Total Spent",value:E(n.totalSpent),icon:r.jsx(et,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Last Order",value:n.lastOrderDate?k(n.lastOrderDate):"No orders",icon:r.jsx(ka,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Store Credit",value:E(J.storeCredit||0),icon:r.jsx(et,{style:{height:"24px",width:"24px",color:"#22c55e"}})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--foreground)"},children:[r.jsx(ml,{className:"h-5 w-5",style:{color:"var(--accent)"}}),"Contact Information"]}),r.jsxs("div",{className:"space-y-4",children:[J.email&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Email"}),r.jsx("p",{className:"text-sm",style:{color:"var(--foreground)"},children:J.email})]}),J.phone&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Phone"}),r.jsx("p",{className:"text-sm",style:{color:"var(--foreground)"},children:J.phone})]}),J.address&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Address"}),r.jsx("p",{className:"text-sm",style:{color:"var(--foreground)"},children:J.address})]}),!J.email&&!J.phone&&!J.address&&r.jsx("p",{className:"text-sm text-center py-4",style:{color:"var(--muted-foreground)"},children:"No contact information available"})]})]}),J.notes&&r.jsxs("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--foreground)"},children:[r.jsx(Sr,{className:"h-5 w-5",style:{color:"var(--accent)"}}),"Notes"]}),r.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--muted-foreground)"},children:J.notes})]})]}),r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[B?r.jsx("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Loading invoices..."})})}):b.length===0?r.jsx("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Sr,{className:"mx-auto h-12 w-12 mb-3",style:{color:"var(--muted-foreground)"}}),r.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--foreground)"},children:"No invoices yet"}),r.jsx("p",{className:"text-sm mb-4",style:{color:"var(--muted-foreground)"},children:"This customer doesn't have any invoices yet."}),r.jsx(te,{onClick:()=>e(`/invoices/new?customerId=${s}`),size:"sm",children:"Create Invoice"})]})}):r.jsx(Ws,{title:`Invoice History (${b.length})`,columns:z,data:oe,itemsPerPage:5}),D?r.jsx("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Loading sales..."})})}):j.length===0?r.jsx("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ld,{className:"mx-auto h-12 w-12 mb-3",style:{color:"var(--muted-foreground)"}}),r.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--foreground)"},children:"No sales yet"}),r.jsx("p",{className:"text-sm mb-4",style:{color:"var(--muted-foreground)"},children:"This customer hasn't made any purchases yet."}),r.jsx(te,{onClick:()=>e(`/sales/new?customerId=${s}`),size:"sm",children:"Create Sale"})]})}):r.jsx(Ws,{title:`Sales History (${j.length})`,columns:U,data:L,itemsPerPage:5})]})]}),p&&r.jsx(It,{title:p.message,variant:p.type==="success"?"success":"error",onClose:()=>v(null),children:p.message}),r.jsx(U1,{customer:J,isOpen:h,onClose:()=>m(!1),onSave:ie,title:"Edit Customer"}),r.jsx(bo,{isOpen:T,title:_.title,message:_.message,confirmText:_.confirmText,cancelText:_.cancelText,variant:_.variant,onConfirm:Z,onClose:P})]})}function $D(){const t=vt(),[e,s]=x.useState({name:"",email:"",phone:"",address:""}),[n,o]=x.useState(!1),i=async d=>{if(d.preventDefault(),!e.name.trim()){alert("Customer name is required");return}o(!0);try{const u=await bs.createCustomer(e);u.success?(alert("Customer created successfully!"),t("/customers")):alert(`Failed to create customer: ${u.error}`)}catch(u){console.error("Error creating customer:",u),alert("Failed to create customer")}finally{o(!1)}},l=(d,u)=>{s(h=>({...h,[d]:u}))};return r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsx(Qu,{title:"New Customer",children:r.jsxs("form",{onSubmit:i,className:"space-y-6",children:[r.jsxs(Dt,{title:"Customer Information",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(fe,{label:"Name *",value:e.name,onChange:d=>l("name",d.target.value),required:!0}),r.jsx(fe,{label:"Email",type:"email",value:e.email,onChange:d=>l("email",d.target.value)}),r.jsx(fe,{label:"Phone",value:e.phone,onChange:d=>l("phone",d.target.value)})]}),r.jsx("div",{className:"mt-4",children:r.jsx(as,{label:"Address",value:e.address,onChange:d=>l("address",d.target.value),rows:3})})]}),r.jsxs(Eu,{children:[r.jsx(te,{type:"button",variant:"ghost",onClick:()=>t(-1),children:"Cancel"}),r.jsx(te,{type:"submit",disabled:n,children:n?"Creating...":"Create Customer"})]})]})})})}function k1({product:t,isOpen:e,onClose:s,onSave:n,title:o="Add Product"}){const{formatCurrency:i}=it(),l=x.useRef(null),[d,u]=x.useState({name:"",description:"",price:0,cost:0,sku:"",category:"",stock:0,minStock:0,image:"",isActive:!0}),[h,m]=x.useState({}),[p,v]=x.useState(!1),[b,w]=x.useState("");x.useEffect(()=>{t?(u({name:t.name||"",description:t.description||"",price:t.price||0,cost:t.cost||0,sku:t.sku||"",category:t.category||"",stock:t.stock||0,minStock:t.minStock||0,image:t.image||"",isActive:t.isActive!==!1}),w(t.image||"")):(u({name:"",description:"",price:0,cost:0,sku:"",category:"",stock:0,minStock:0,image:"",isActive:!0}),w("")),m({})},[t,e]);const B=()=>{const N={};return d.name.trim()||(N.name="Product name is required"),d.price<=0&&(N.price="Price must be greater than 0"),d.stock<0&&(N.stock="Stock cannot be negative"),d.minStock<0&&(N.minStock="Minimum stock cannot be negative"),m(N),Object.keys(N).length===0},C=async N=>{if(N.preventDefault(),!!B()){v(!0);try{await n({name:d.name.trim(),description:d.description.trim()||void 0,price:d.price,cost:d.cost||void 0,sku:d.sku.trim()||void 0,category:d.category.trim()||void 0,stock:d.stock,minStock:d.minStock||void 0,image:d.image||void 0,isActive:d.isActive}),s()}catch(E){console.error("Failed to save product:",E)}finally{v(!1)}}},j=(N,E)=>{u(k=>({...k,[N]:E})),h[N]&&m(k=>{const T={...k};return delete T[N],T})},S=N=>{const E=N.target.files?.[0];if(!E)return;if(!E.type.startsWith("image/")){m(T=>({...T,image:"Please select a valid image file"}));return}if(E.size>5*1024*1024){m(T=>({...T,image:"Image size must be less than 5MB"}));return}const k=new FileReader;k.onload=T=>{const _=T.target?.result;u(M=>({...M,image:_})),w(_),m(M=>{const Z={...M};return delete Z.image,Z})},k.readAsDataURL(E)},D=()=>{u(N=>({...N,image:""})),w(""),m(N=>{const E={...N};return delete E.image,E}),l.current&&(l.current.value="")};return e?r.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/20 dark:bg-black/20 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",style:{backgroundColor:"var(--card)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--foreground)"},children:o}),r.jsx(te,{variant:"ghost",onClick:s,className:"p-2",children:r.jsx(Rn,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:C,className:"p-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx(Dt,{title:"Basic Information",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx(fe,{label:"Product Name *",value:d.name,onChange:N=>j("name",N.target.value),error:h.name,placeholder:"Enter product name"})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(as,{label:"Description",value:d.description,onChange:N=>j("description",N.target.value),placeholder:"Product description",rows:3})}),r.jsx(fe,{label:"SKU",value:d.sku,onChange:N=>j("sku",N.target.value),placeholder:"Product SKU (optional)"}),r.jsx(fe,{label:"Category",value:d.category,onChange:N=>j("category",N.target.value),placeholder:"Product category"})]})}),r.jsx(Dt,{title:"Product Image",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:b?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:b,alt:"Product preview",className:"w-24 h-24 rounded-lg object-cover border-2",style:{borderColor:"var(--border)"}}),r.jsx("button",{type:"button",onClick:D,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:r.jsx(fs,{className:"h-3 w-3"})})]}):r.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed flex items-center justify-center",style:{borderColor:"var(--border)"},children:r.jsx(go,{className:"h-8 w-8",style:{color:"var(--muted-foreground)"}})})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Upload Product Image"}),r.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:S,className:"hidden"}),r.jsxs(te,{type:"button",variant:"outline",onClick:()=>l.current?.click(),className:"w-full",children:[r.jsx(go,{className:"h-4 w-4 mr-2"}),"Choose Image"]}),r.jsx("p",{className:"text-xs mt-1",style:{color:"var(--muted-foreground)"},children:"PNG, JPG, GIF up to 5MB"})]}),h.image&&r.jsx("p",{className:"text-sm text-red-600",children:h.image})]})})]})}),r.jsxs(Dt,{title:"Pricing & Inventory",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(fe,{label:"Selling Price *",type:"number",step:"0.01",min:"0",value:d.price,onChange:N=>j("price",parseFloat(N.target.value)||0),error:h.price,placeholder:"0.00"}),r.jsx(fe,{label:"Cost Price",type:"number",step:"0.01",min:"0",value:d.cost,onChange:N=>j("cost",parseFloat(N.target.value)||0),placeholder:"0.00"}),r.jsx(fe,{label:"Current Stock *",type:"number",min:"0",value:d.stock,onChange:N=>j("stock",parseInt(N.target.value)||0),error:h.stock,placeholder:"0"}),r.jsx(fe,{label:"Minimum Stock",type:"number",min:"0",value:d.minStock,onChange:N=>j("minStock",parseInt(N.target.value)||0),error:h.minStock,placeholder:"0"})]}),d.price>0&&d.cost>0&&r.jsx("div",{className:"mt-4 p-4 rounded-lg",style:{backgroundColor:"var(--muted)"},children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:"Profit Margin:"}),r.jsxs("span",{className:"text-lg font-bold text-green-600",children:[i(d.price-d.cost)," (",((d.price-d.cost)/d.price*100).toFixed(1),"%)"]})]})})]}),r.jsx(Dt,{title:"Status",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ot,{checked:d.isActive,onChange:N=>j("isActive",N.target.checked)}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:"Active Product"}),r.jsx("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:"Inactive products won't appear in product lists by default"})]})]})}),t&&r.jsx(Dt,{title:"Product Information",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",style:{color:"var(--foreground)"},children:"Product ID:"}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:t.id})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",style:{color:"var(--foreground)"},children:"Created:"}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:new Date(t.createdAt).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",style:{color:"var(--foreground)"},children:"Last Updated:"}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:new Date(t.updatedAt).toLocaleDateString()})]})]})})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",style:{borderColor:"var(--border)"},children:[r.jsx(te,{type:"button",variant:"outline",onClick:s,disabled:p,children:"Cancel"}),r.jsx(te,{type:"submit",disabled:p,className:"flex items-center gap-2",children:p?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):r.jsx(r.Fragment,{children:t?"Update Product":"Add Product"})})]})]})]})}):null}function WD(){const t=vt(),{formatCurrency:e,formatDate:s}=it(),{isOpen:n,options:o,confirm:i,handleConfirm:l,handleClose:d}=yo(),[u,h]=x.useState([]),[m,p]=x.useState(!0),[v,b]=x.useState(!1),[w,B]=x.useState(null),[C,j]=x.useState(null),[S,D]=x.useState(""),[N,E]=x.useState(""),[k,T]=x.useState("name"),[_,M]=x.useState("asc"),[Z,P]=x.useState(!1);x.useEffect(()=>{H()},[]);const H=async()=>{try{p(!0);const F=await ds.getAllProducts();F.success&&F.data?h(F.data):(h([]),j({message:F.error||"Failed to load products",type:"error"}))}catch(F){console.error("Failed to load products:",F),h([]),j({message:"Failed to load products",type:"error"})}finally{p(!1)}},W=async F=>{try{let R;w?R=await ds.updateProduct(w.id,F):R=await ds.createProduct(F),R.success?(j({message:w?"Product updated successfully!":"Product added successfully!",type:"success"}),b(!1),B(null),H()):j({message:R.error||"Failed to save product",type:"error"})}catch(R){console.error("Failed to save product:",R),j({message:"Failed to save product",type:"error"})}},ne=F=>{B(F),b(!0)},ie=F=>{const O=(u||[]).find($=>$.id===F);i({title:"Delete Product",message:`Are you sure you want to delete "${O?.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"},async()=>{try{const $=await ds.deleteProduct(F);$.success?(j({message:"Product deleted successfully",type:"success"}),H()):j({message:$.error||"Failed to delete product",type:"error"})}catch($){console.error("Failed to delete product:",$),j({message:"Failed to delete product",type:"error"})}})},K=F=>{t(`/products/${F.id}`)},J=x.useMemo(()=>{const F=u||[],R=new Set(F.map(O=>O.category).filter(Boolean));return Array.from(R).sort()},[u]),z=x.useMemo(()=>{const R=(u||[]).filter(O=>{const $=!S||O.name.toLowerCase().includes(S.toLowerCase())||O.sku?.toLowerCase().includes(S.toLowerCase())||O.category?.toLowerCase().includes(S.toLowerCase()),re=!N||O.category===N,he=Z||O.isActive!==!1;return $&&re&&he});return R.sort((O,$)=>{let re=O[k],he=$[k];return k==="createdAt"&&(re=new Date(re),he=new Date(he)),typeof re=="string"&&typeof he=="string"&&(re=re.toLowerCase(),he=he.toLowerCase()),_==="asc"?re>he?1:-1:re<he?1:-1}),R},[u,S,N,k,_,Z]),oe=[{key:"name",label:"Name",sortable:!0},{key:"sku",label:"SKU",sortable:!1},{key:"price",label:"Price",sortable:!0},{key:"stock",label:"Stock",sortable:!0},{key:"category",label:"Category",sortable:!0},{key:"createdAt",label:"Created",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],U=z.map(F=>({id:F.id,name:r.jsxs("div",{className:"flex items-center space-x-3",children:[F.image?r.jsx("img",{src:F.image,alt:F.name,className:"h-8 w-8 rounded-lg object-cover border",style:{borderColor:"var(--border)"}}):r.jsx("div",{className:"h-8 w-8 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-blue-600",children:F.name.charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:F.name}),F.description&&r.jsx("div",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:F.description.length>50?`${F.description.substring(0,50)}...`:F.description})]})]}),sku:F.sku||"-",price:e(F.price),stock:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:F.stock<=(F.minStock||0)?"text-red-600 font-medium":"",children:F.stock}),F.stock<=(F.minStock||0)&&r.jsx(Un,{className:"h-4 w-4 text-red-500"})]}),category:F.category||"-",createdAt:s(F.createdAt),actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>K(F),children:r.jsx(Ul,{className:"h-4 w-4"})}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>ne(F),children:r.jsx(Qr,{className:"h-4 w-4"})}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>ie(F.id),className:"text-red-600 hover:text-red-700",children:r.jsx(fs,{className:"h-4 w-4"})})]})})),L=x.useMemo(()=>{const F=u||[],R=F.length,O=F.filter(he=>he.isActive!==!1).length,$=F.filter(he=>he.minStock&&he.stock<=he.minStock).length,re=F.reduce((he,V)=>he+V.price*V.stock,0);return{totalProducts:R,activeProducts:O,lowStockProducts:$,totalValue:re}},[u]);return m?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading products..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"Products"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Manage your product inventory"})]}),r.jsxs(te,{onClick:()=>b(!0),className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Add Product"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(je,{title:"Total Products",value:L.totalProducts.toString(),icon:r.jsx(Un,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Active Products",value:L.activeProducts.toString(),icon:r.jsx(Un,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Low Stock Items",value:L.lowStockProducts.toString(),icon:r.jsx(Un,{className:"h-6 w-6 text-red-500"})}),r.jsx(je,{title:"Total Inventory Value",value:e(L.totalValue),icon:r.jsx(Un,{className:"h-6 w-6",style:{color:"var(--accent)"}})})]}),L.lowStockProducts>0&&r.jsx(Cr,{variant:"warning",title:"Low Stock Alert",children:r.jsxs("p",{children:[L.lowStockProducts," product",L.lowStockProducts!==1?"s":"",L.lowStockProducts===1?" is":" are"," running low on stock. Consider restocking these items."]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4",style:{color:"var(--muted-foreground)"}}),r.jsx(fe,{placeholder:"Search products by name, SKU, or category...",value:S,onChange:F=>D(F.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:N,onChange:F=>E(F.target.value),className:"min-w-[150px] px-3 py-2 border rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:[r.jsx("option",{value:"",children:"All Categories"}),J.map(F=>r.jsx("option",{value:F,children:F},F))]}),r.jsxs("select",{value:k,onChange:F=>T(F.target.value),className:"min-w-[120px] px-3 py-2 border rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:[r.jsx("option",{value:"name",children:"Sort by Name"}),r.jsx("option",{value:"price",children:"Sort by Price"}),r.jsx("option",{value:"stock",children:"Sort by Stock"}),r.jsx("option",{value:"createdAt",children:"Sort by Date"})]}),r.jsx(te,{variant:"outline",onClick:()=>M(_==="asc"?"desc":"asc"),className:"px-3",children:_==="asc"?"↑":"↓"})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",style:{color:"var(--muted-foreground)"},children:[r.jsxs("span",{children:["Showing ",z.length," of ",(u||[]).length," products",S&&` matching "${S}"`,N&&` in ${N}`]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:Z,onChange:F=>P(F.target.checked),className:"rounded"}),"Show inactive products"]})]}),r.jsx(Ws,{title:"Products",columns:oe,data:U,itemsPerPage:10,headerActions:r.jsxs("div",{className:"flex items-center gap-2",children:[S&&r.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:['"',S,'"']}),N&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:N})]})}),r.jsx(k1,{product:w,isOpen:v,onClose:()=>{b(!1),B(null)},onSave:W,title:w?"Edit Product":"Add New Product"}),r.jsx(bo,{isOpen:n,title:o.title,message:o.message,confirmText:o.confirmText,cancelText:o.cancelText,variant:o.variant,onConfirm:l,onClose:d}),C&&r.jsx(It,{title:C.message,variant:C.type,onClose:()=>j(null),children:C.message})]})}function qD(){const t=en(),e=vt(),{formatCurrency:s,formatDate:n}=it(),{isOpen:o,options:i,confirm:l,handleConfirm:d,handleClose:u}=yo(),h=t.id,[m,p]=x.useState(null),[v,b]=x.useState(!0),[w,B]=x.useState(null),[C,j]=x.useState(!1),[S,D]=x.useState(null);x.useEffect(()=>{h&&N()},[h]);const N=async()=>{try{b(!0),B(null);const H=await ds.getProductById(h);if(H.success&&H.data){const W={product:H.data};p(W)}else B("Product not found")}catch(H){console.error("Failed to load product details:",H),B("Failed to load product details")}finally{b(!1)}},E=async H=>{try{const W=await ds.updateProduct(h,H);W.success?(D({message:"Product updated successfully!",type:"success"}),j(!1),N()):D({message:W.error||"Failed to update product",type:"error"})}catch(W){console.error("Failed to update product:",W),D({message:"Failed to update product",type:"error"})}},k=()=>{m?.product&&l({title:"Delete Product",message:`Are you sure you want to delete "${m.product.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"},async()=>{try{(await ds.deleteProduct(h)).success&&(D({message:"Product deleted successfully",type:"success"}),setTimeout(()=>{e("/products")},1e3))}catch(H){console.error("Failed to delete product:",H),D({message:"Failed to delete product",type:"error"})}})};if(v)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading product details..."})]})});if(w||!m)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-center",children:r.jsx(Cr,{variant:"error",title:"Error",children:w||"Product not found"})})});const{product:T}=m,_=T.minStock&&T.stock<=T.minStock,M=T.cost?T.price-T.cost:0,Z=T.cost?(M/T.price*100).toFixed(1):0,P=T.price*T.stock;return r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(te,{variant:"ghost",onClick:()=>e("/products"),className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4"}),"Back to Products"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(te,{variant:"outline",onClick:()=>j(!0),className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-4 w-4"}),"Edit"]}),r.jsxs(te,{variant:"outline",onClick:k,className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[r.jsx(fs,{className:"h-4 w-4"}),"Delete"]})]})]}),r.jsxs("div",{className:"relative overflow-hidden rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-pink-500/10 to-orange-500/10"}),r.jsx("div",{className:"relative p-8",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:T.image?r.jsx("img",{src:T.image,alt:T.name,className:"h-24 w-24 rounded-xl object-cover border-4",style:{borderColor:"var(--background)"}}):r.jsx("div",{className:"h-24 w-24 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white text-3xl font-bold",children:T.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--foreground)"},children:T.name}),T.description&&r.jsx("p",{className:"text-base mb-3",style:{color:"var(--muted-foreground)"},children:T.description})]})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",style:{color:"var(--muted-foreground)"},children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx($d,{className:"h-4 w-4"}),"SKU: ",T.sku||"N/A"]}),r.jsx("span",{children:"•"}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(In,{className:"h-4 w-4"}),T.category||"Uncategorized"]}),r.jsx("span",{children:"•"}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(ka,{className:"h-4 w-4"}),"Added ",n(T.createdAt)]}),_&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"•"}),r.jsxs("div",{className:"flex items-center gap-1.5 text-red-600 font-medium",children:[r.jsx(Un,{className:"h-4 w-4"}),"Low Stock"]})]})]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(je,{title:"Selling Price",value:s(T.price),icon:r.jsx(et,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Current Stock",value:T.stock.toString(),icon:r.jsx(In,{className:"h-6 w-6",style:{color:_?"#ef4444":"var(--accent)"}})}),r.jsx(je,{title:"Total Value",value:s(P),icon:r.jsx(oC,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Profit Margin",value:T.cost?`${Z}%`:"N/A",icon:r.jsx(et,{className:"h-6 w-6",style:{color:"var(--accent)"}})})]}),_&&r.jsx(Cr,{variant:"warning",title:"Low Stock Alert",children:r.jsxs("p",{children:["This product is running low on stock (",T.stock," remaining). Consider restocking to avoid stockouts."]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center flex-shrink-0",children:r.jsx(et,{className:"h-5 w-5 text-white"})}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Pricing Information"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center py-3 border-b",style:{borderColor:"var(--border)"},children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Selling Price"}),r.jsx("span",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:s(T.price)})]}),T.cost?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center py-3 border-b",style:{borderColor:"var(--border)"},children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Cost Price"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(T.cost)})]}),r.jsxs("div",{className:"flex justify-between items-center py-3",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Profit per Unit"}),r.jsxs("span",{className:"font-semibold text-green-600",children:[s(M)," (",Z,"%)"]})]})]}):r.jsx("div",{className:"text-center py-6",children:r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"No cost price set"})})]})]}),r.jsxs("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center flex-shrink-0",children:r.jsx(In,{className:"h-5 w-5 text-white"})}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Inventory Information"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center py-3 border-b",style:{borderColor:"var(--border)"},children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Current Stock"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-lg font-semibold ${_?"text-red-600":""}`,children:T.stock}),_&&r.jsx(Un,{className:"h-5 w-5 text-red-500"})]})]}),T.minStock&&r.jsxs("div",{className:"flex justify-between items-center py-3 border-b",style:{borderColor:"var(--border)"},children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Minimum Stock"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:T.minStock})]}),r.jsxs("div",{className:"flex justify-between items-center py-3",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Total Value"}),r.jsx("span",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:s(P)})]})]})]})]}),r.jsxs("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center flex-shrink-0",children:r.jsx($d,{className:"h-5 w-5 text-white"})}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Additional Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-2",style:{color:"var(--muted-foreground)"},children:"SKU"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:T.sku||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-2",style:{color:"var(--muted-foreground)"},children:"Category"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:T.category||"Uncategorized"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-2",style:{color:"var(--muted-foreground)"},children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.isActive!==!1?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.isActive!==!1?"Active":"Inactive"})]})]})]}),r.jsx(k1,{product:T,isOpen:C,onClose:()=>j(!1),onSave:E,title:"Edit Product"}),r.jsx(bo,{isOpen:o,title:i.title,message:i.message,confirmText:i.confirmText,cancelText:i.cancelText,variant:i.variant,onConfirm:d,onClose:u}),S&&r.jsx(It,{title:S.message,variant:S.type,onClose:()=>D(null),children:S.message})]})}function ZD(){const t=vt(),[e,s]=x.useState({name:"",description:"",price:0,cost:0,sku:"",category:"",stock:0,minStock:0}),[n,o]=x.useState(!1),i=async d=>{if(d.preventDefault(),!e.name.trim()){alert("Product name is required");return}if(e.price<=0){alert("Product price must be greater than 0");return}o(!0);try{const u=await ds.createProduct(e);u.success?(alert("Product created successfully!"),t("/products")):alert(`Failed to create product: ${u.error}`)}catch(u){console.error("Error creating product:",u),alert("Failed to create product")}finally{o(!1)}},l=(d,u)=>{s(h=>({...h,[d]:u}))};return r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsx(Qu,{title:"New Product",children:r.jsxs("form",{onSubmit:i,className:"space-y-6",children:[r.jsxs(Dt,{title:"Product Information",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(fe,{label:"Product Name *",value:e.name,onChange:d=>l("name",d.target.value),required:!0}),r.jsx(fe,{label:"SKU",value:e.sku,onChange:d=>l("sku",d.target.value)}),r.jsx(fe,{label:"Category",value:e.category,onChange:d=>l("category",d.target.value)}),r.jsx(fe,{label:"Price *",type:"number",value:e.price,onChange:d=>l("price",parseFloat(d.target.value)||0),min:"0",step:"0.01",required:!0})]}),r.jsx("div",{className:"mt-4",children:r.jsx(as,{label:"Description",value:e.description,onChange:d=>l("description",d.target.value),rows:3})})]}),r.jsx(Dt,{title:"Inventory",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(fe,{label:"Cost",type:"number",value:e.cost,onChange:d=>l("cost",parseFloat(d.target.value)||0),min:"0",step:"0.01"}),r.jsx(fe,{label:"Current Stock",type:"number",value:e.stock,onChange:d=>l("stock",parseInt(d.target.value)||0),min:"0"}),r.jsx(fe,{label:"Minimum Stock",type:"number",value:e.minStock,onChange:d=>l("minStock",parseInt(d.target.value)||0),min:"0"})]})}),r.jsxs(Eu,{children:[r.jsx(te,{type:"button",variant:"ghost",onClick:()=>t("/products"),children:"Cancel"}),r.jsx(te,{type:"submit",disabled:n,children:n?"Creating...":"Create Product"})]})]})})})}function JD(){const t=vt(),{formatCurrency:e,formatDate:s}=it(),[n,o]=x.useState([]),[,i]=x.useState(!0),[l,d]=x.useState(null),[u,h]=x.useState(""),[m,p]=x.useState(""),[v,b]=x.useState(""),[w,B]=x.useState("issueDate"),[C,j]=x.useState("desc");x.useEffect(()=>{(async()=>{try{if(i(!0),typeof window<"u"&&window.electron?.ipcRenderer){console.log("Loading invoices via IPC...");const H=await window.electron.ipcRenderer.invoke("get-invoices");H.success?(console.log("Invoices loaded via IPC:",H.data?.length||0),o(H.data||[])):(console.error("Failed to load invoices via IPC:",H.error),d({message:H.error||"Failed to load invoices",type:"error"}))}else console.warn("Electron IPC not available - this should not happen in production"),d({message:"Unable to connect to database",type:"error"})}catch(H){console.error("Failed to load invoices:",H),d({message:"Failed to load invoices",type:"error"})}finally{i(!1)}})()},[]);const S=x.useMemo(()=>{const P=n.filter(H=>{const W=!u||H.number.toLowerCase().includes(u.toLowerCase())||H.customerName.toLowerCase().includes(u.toLowerCase())||H.customerEmail.toLowerCase().includes(u.toLowerCase()),ne=!m||H.status===m,ie=!v||H.type===v;return W&&ne&&ie});return P.sort((H,W)=>{let ne=H[w],ie=W[w];return(w==="issueDate"||w==="dueDate")&&(ne=new Date(ne),ie=new Date(ie)),typeof ne=="string"&&typeof ie=="string"&&(ne=ne.toLowerCase(),ie=ie.toLowerCase()),C==="asc"?ne>ie?1:-1:ne<ie?1:-1}),P},[n,u,m,v,w,C]),D=x.useMemo(()=>{const P=n.length,H=n.filter(z=>z.status==="paid").length,W=n.filter(z=>z.status==="pending").length,ne=n.filter(z=>z.status==="overdue").length,ie=n.filter(z=>z.status==="paid").reduce((z,oe)=>z+oe.total,0),K=n.filter(z=>z.status==="pending").reduce((z,oe)=>z+oe.balance,0),J=n.filter(z=>z.status==="overdue").reduce((z,oe)=>z+oe.balance,0);return{totalInvoices:P,paidInvoices:H,pendingInvoices:W,overdueInvoices:ne,totalRevenue:ie,pendingAmount:K,overdueAmount:J}},[n]),N=async P=>{try{if(!window.confirm("Are you sure you want to delete this invoice?"))return;if(typeof window<"u"&&window.electron?.ipcRenderer){const H=await window.electron.ipcRenderer.invoke("delete-invoice",P);H.success?(o(W=>W.filter(ne=>ne.id!==P)),d({message:"Invoice deleted successfully",type:"success"})):d({message:H.error||"Failed to delete invoice",type:"error"})}else d({message:"Unable to connect to database",type:"error"})}catch(H){console.error("Failed to delete invoice:",H),d({message:"Failed to delete invoice",type:"error"})}},E=P=>{t(`/invoices/${P}`)},k=P=>{t(`/invoices/${P}/edit`)},T=P=>{const H={height:"16px",width:"16px"};switch(P){case"paid":return r.jsx(Gt,{style:{...H,color:"#22c55e"}});case"pending":return r.jsx(Xs,{style:{...H,color:"#eab308"}});case"overdue":return r.jsx(Hn,{style:{...H,color:"#ef4444"}});case"draft":return r.jsx(Sr,{style:{...H,color:"#6b7280"}});default:return r.jsx(Xs,{style:{...H,color:"#6b7280"}})}},_=P=>{switch(P){case"paid":return{backgroundColor:"#dcfce7",color:"#166534"};case"pending":return{backgroundColor:"#fef3c7",color:"#92400e"};case"overdue":return{backgroundColor:"#fee2e2",color:"#991b1b"};case"draft":return{backgroundColor:"#f3f4f6",color:"#374151"};default:return{backgroundColor:"#f3f4f6",color:"#374151"}}},M=[{key:"number",label:"Invoice #",sortable:!0},{key:"customer",label:"Customer",sortable:!0},{key:"type",label:"Type",sortable:!1},{key:"status",label:"Status",sortable:!1},{key:"total",label:"Total",sortable:!0},{key:"balance",label:"Balance",sortable:!1},{key:"dueDate",label:"Due Date",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],Z=S.map(P=>({number:P.number,customer:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",style:{color:"var(--foreground)"},children:P.customerName}),r.jsx("div",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:P.customerEmail})]}),type:r.jsx("span",{className:"capitalize text-sm",style:{color:"var(--foreground)"},children:P.type.replace("_"," ")}),status:r.jsxs("div",{className:"flex items-center gap-2",children:[T(P.status),r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:_(P.status),children:P.status.charAt(0).toUpperCase()+P.status.slice(1)})]}),total:e(P.total),balance:P.balance>0?e(P.balance):r.jsx("span",{className:"text-green-600 font-medium",children:"Paid"}),dueDate:s(P.dueDate),actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>E(P.id),children:r.jsx(Ul,{className:"h-4 w-4"})}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>k(P.id),children:r.jsx(Qr,{className:"h-4 w-4"})}),r.jsx(bu,{to:`/invoices/${P.id}`,children:r.jsx(te,{variant:"ghost",size:"sm",children:r.jsx(mo,{className:"h-4 w-4"})})}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>N(P.id),className:"text-red-600 hover:text-red-700",children:r.jsx(fs,{className:"h-4 w-4"})})]})}));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"Invoices"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Manage your invoices and billing"})]}),r.jsxs(te,{onClick:()=>t("/invoices/new"),className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-4 w-4"}),"New Invoice"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(je,{title:"Total Revenue",value:e(D.totalRevenue),icon:r.jsx(et,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Paid Invoices",value:D.paidInvoices.toString(),icon:r.jsx(Gt,{className:"h-6 w-6 text-green-500"})}),r.jsx(je,{title:"Pending Amount",value:e(D.pendingAmount),icon:r.jsx(Xs,{className:"h-6 w-6 text-yellow-500"})}),r.jsx(je,{title:"Overdue Amount",value:e(D.overdueAmount),icon:r.jsx(Hn,{className:"h-6 w-6 text-red-500"})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4",style:{color:"var(--muted-foreground)"}}),r.jsx(fe,{placeholder:"Search invoices by number, customer, or email...",value:u,onChange:P=>h(P.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:m,onChange:P=>p(P.target.value),className:"min-w-[120px] px-3 py-2 border rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"overdue",children:"Overdue"})]}),r.jsxs("select",{value:v,onChange:P=>b(P.target.value),className:"min-w-[140px] px-3 py-2 border rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"standard",children:"Standard"}),r.jsx("option",{value:"proforma",children:"Proforma"}),r.jsx("option",{value:"credit_note",children:"Credit Note"}),r.jsx("option",{value:"debit_note",children:"Debit Note"}),r.jsx("option",{value:"quote",children:"Quote"})]}),r.jsxs("select",{value:w,onChange:P=>B(P.target.value),className:"min-w-[120px] px-3 py-2 border rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:[r.jsx("option",{value:"issueDate",children:"Sort by Issue Date"}),r.jsx("option",{value:"dueDate",children:"Sort by Due Date"}),r.jsx("option",{value:"total",children:"Sort by Total"}),r.jsx("option",{value:"customerName",children:"Sort by Customer"})]}),r.jsx(te,{variant:"outline",onClick:()=>j(C==="asc"?"desc":"asc"),className:"px-3",children:C==="asc"?"↑":"↓"})]})]}),r.jsx("div",{className:"flex items-center justify-between text-sm",style:{color:"var(--muted-foreground)"},children:r.jsxs("span",{children:["Showing ",S.length," of ",n.length," invoices",u&&` matching "${u}"`,m&&` with status "${m}"`,v&&` of type "${v}"`]})}),r.jsx(Ws,{title:"All Invoices",columns:M,data:Z,itemsPerPage:10,headerActions:r.jsxs("div",{className:"flex items-center gap-2",children:[u&&r.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:['"',u,'"']}),m&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:m}),v&&r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:v})]})}),l&&r.jsx(It,{title:l.message,variant:l.type,onClose:()=>d(null),children:l.message})]})}function D1({data:t,onPrint:e,onDownload:s,onShare:n,className:o=""}){const{formatCurrency:i,formatDate:l,preferences:d}=it(),u=t.items.reduce((b,w)=>b+w.amount,0),h=u*t.discount/100,m=u-h,p=m*t.taxRate/100,v=m+p;return r.jsxs("div",{className:He("max-w-md mx-auto",o),children:[(e||s||n)&&r.jsxs("div",{className:"flex justify-center gap-3 mb-6 print:hidden",children:[e&&r.jsxs(te,{variant:"outline",size:"sm",onClick:e,children:[r.jsx(jA,{className:"h-4 w-4 mr-2"}),"Print"]}),s&&r.jsxs(te,{variant:"outline",size:"sm",onClick:s,children:[r.jsx(mo,{className:"h-4 w-4 mr-2"}),"Download"]}),n&&r.jsxs(te,{variant:"outline",size:"sm",onClick:n,children:[r.jsx(cp,{className:"h-4 w-4 mr-2"}),"Share"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 print:shadow-none print:rounded-none",style:{background:"var(--card)",border:"1px solid var(--border)"},children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h1",{className:"text-xl font-bold mb-3",style:{color:"var(--foreground)"},children:t.company.name}),r.jsxs("div",{className:"text-xs space-y-1",style:{color:"var(--muted-foreground)"},children:[r.jsx("p",{children:t.company.address}),r.jsxs("p",{children:[t.company.city,", ",t.company.state," ",t.company.zip]}),r.jsx("p",{children:t.company.phone})]})]}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",style:{color:"var(--accent)"},children:"RECEIPT"}),r.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--muted-foreground)"},children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Receipt #:"})," ",t.receiptNumber]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date:"})," ",l(t.date)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Time:"})," ",t.time]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold mb-2",style:{color:"var(--foreground)"},children:"Customer:"}),r.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--muted-foreground)"},children:[r.jsx("p",{children:t.customer.name}),t.customer.email&&r.jsx("p",{children:t.customer.email}),t.customer.phone&&r.jsx("p",{children:t.customer.phone})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"border-b pb-2 mb-3",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex justify-between text-sm font-semibold",children:[r.jsx("span",{style:{color:"var(--foreground)"},children:"Item"}),r.jsx("span",{style:{color:"var(--foreground)"},children:"Total"})]})}),r.jsx("div",{className:"space-y-3",children:t.items.map(b=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex justify-between gap-2 mb-1",children:[r.jsx("p",{className:"flex-1 break-words leading-tight",style:{color:"var(--foreground)"},children:b.description}),r.jsx("p",{className:"font-semibold whitespace-nowrap",style:{color:"var(--foreground)"},children:i(b.amount)})]}),r.jsxs("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:[b.quantity," × ",i(b.rate)]})]},b.id))})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{style:{color:"var(--foreground)"},children:i(u)})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Discount:"}),r.jsxs("span",{style:{color:"var(--foreground)"},children:["-",i(h)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax:"}),r.jsx("span",{style:{color:"var(--foreground)"},children:i(p)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",style:{borderColor:"var(--border)",color:"var(--accent)"},children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:i(v)})]})]})}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Payment Method:"}),r.jsx("span",{style:{color:"var(--foreground)"},children:t.paymentMethod})]})}),r.jsxs("div",{className:"text-center text-xs space-y-2",style:{color:"var(--muted-foreground)"},children:[r.jsx("p",{children:d.receiptFooter||"Thank you for your business!"}),r.jsx("p",{children:"Keep this receipt for your records"}),r.jsxs("p",{children:["Questions? Contact us at ",t.company.email]})]})]})]})}function eI({data:t,template:e}){const s=t.items.reduce((i,l)=>i+l.amount,0),n=s*(t.taxRate/100),o=s+n-t.discount;return r.jsxs("div",{className:"p-8",style:{width:"210mm",minHeight:"297mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:e.fonts.primary},children:[r.jsxs("div",{className:"w-full h-36 relative mb-10 overflow-hidden rounded",style:{backgroundColor:e.colors.primary},children:[r.jsx("div",{className:"absolute -top-8 -right-16 w-72 h-72 rotate-12 opacity-20",style:{background:`linear-gradient(135deg, ${e.colors.accent}, transparent)`}}),r.jsxs("div",{className:"absolute top-4 left-5 text-white",children:[r.jsx("div",{className:"text-xl font-extrabold tracking-wide",children:t.company.name}),r.jsx("div",{className:"text-[10px] uppercase opacity-80 tracking-widest",children:"Trusted • Reliable • Professional"})]}),r.jsxs("div",{className:"absolute top-4 right-5 text-white text-right",children:[r.jsx("div",{className:"inline-block px-3 py-1 rounded bg-white/10 border border-white/20 text-sm font-semibold tracking-widest",children:"INVOICE"}),r.jsxs("div",{className:"text-xs mt-2",children:["No: #",t.invoiceNumber]}),r.jsxs("div",{className:"text-xs",children:["Date: ",new Date(t.date).toLocaleDateString()]})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 text-white/90 text-[11px]",children:r.jsxs("div",{className:"flex items-center justify-between px-5 py-2 bg-black/10 backdrop-blur-sm",children:[r.jsx("div",{className:"font-semibold",children:"Payment Info"}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{children:"Account No: 000 000 000 000"}),r.jsxs("div",{children:["A/C Name: ",t.company.name]}),r.jsx("div",{children:"SWIFT: TOPNUS33"})]})]})})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3",style:{color:e.colors.primary},children:["Invoice To: ",t.customer.name]}),r.jsxs("div",{style:{color:e.colors.text},children:[r.jsx("p",{children:t.customer.address}),r.jsxs("p",{children:[t.customer.city,", ",t.customer.state," ",t.customer.zip]}),t.customer.phone&&r.jsx("p",{children:t.customer.phone}),t.customer.email&&r.jsx("p",{children:t.customer.email})]})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("table",{className:"w-full border-collapse",style:{border:`1px solid ${e.colors.primary}`},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:e.colors.primary,color:"white"},children:[r.jsx("th",{className:"py-3 px-4 text-left font-semibold",children:"SL."}),r.jsx("th",{className:"py-3 px-4 text-left font-semibold",children:"Product Description"}),r.jsx("th",{className:"py-3 px-4 text-right font-semibold",children:"Price"}),r.jsx("th",{className:"py-3 px-4 text-right font-semibold",children:"Qty"}),r.jsx("th",{className:"py-3 px-4 text-right font-semibold",children:"Total"})]})}),r.jsx("tbody",{children:t.items.map((i,l)=>r.jsxs("tr",{className:"border-b",style:{borderColor:e.colors.secondary,backgroundColor:l%2===0?"transparent":`${e.colors.primary}05`},children:[r.jsx("td",{className:"py-3 px-4",style:{color:e.colors.text},children:l+1}),r.jsxs("td",{className:"py-3 px-4",style:{color:e.colors.text},children:[i.description,r.jsx("div",{className:"text-xs opacity-75 mt-1",children:"Lorem ipsum is simply dummy text of the printing and typesetting industry."})]}),r.jsxs("td",{className:"py-3 px-4 text-right",style:{color:e.colors.text},children:["$",i.rate.toFixed(2)]}),r.jsx("td",{className:"py-3 px-4 text-right",style:{color:e.colors.text},children:i.quantity}),r.jsxs("td",{className:"py-3 px-4 text-right",style:{color:e.colors.text},children:["$",i.amount.toFixed(2)]})]},i.id))})]})}),r.jsx("div",{className:"flex justify-end mb-8",children:r.jsx("div",{className:"w-80",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",style:{color:e.colors.text},children:[r.jsx("span",{children:"Sub Total:"}),r.jsxs("span",{children:["$",s.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",style:{color:e.colors.text},children:[r.jsxs("span",{children:["Tax (",t.taxRate,"%):"]}),r.jsxs("span",{children:["$",n.toFixed(2)]})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between",style:{color:e.colors.text},children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["-$",t.discount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t-2",style:{color:e.colors.accent,borderColor:e.colors.primary},children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["$",o.toFixed(2)]})]})]})})}),r.jsxs("div",{className:"mt-10 pt-6 border-t-2",style:{borderColor:e.colors.primary},children:[r.jsxs("div",{className:"grid grid-cols-3 gap-8 items-start",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold mb-2",style:{color:e.colors.primary},children:"Contact"}),r.jsx("div",{className:"text-sm",style:{color:e.colors.text},children:t.company.email}),r.jsx("div",{className:"text-sm",style:{color:e.colors.text},children:t.company.phone}),r.jsxs("div",{className:"text-sm",style:{color:e.colors.text},children:["www.",t.company.name.toLowerCase().replace(/\s+/g,""),".com"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold mb-2",style:{color:e.colors.primary},children:"Remittance Address"}),r.jsx("div",{className:"text-sm",style:{color:e.colors.text},children:t.company.address}),r.jsxs("div",{className:"text-sm",style:{color:e.colors.text},children:[t.company.city,", ",t.company.state," ",t.company.zip]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"h-12"}),r.jsx("div",{className:"border-t-2 pt-2 inline-block px-6",style:{borderColor:e.colors.primary},children:r.jsx("div",{className:"text-sm font-medium",style:{color:e.colors.text},children:"Authorized Signature"})})]})]}),t.terms&&r.jsxs("div",{className:"mt-6",children:[r.jsx("div",{className:"text-sm font-semibold mb-2",style:{color:e.colors.primary},children:"Terms & Conditions"}),r.jsx("p",{className:"text-sm",style:{color:e.colors.text},children:t.terms})]}),r.jsx("div",{className:"mt-6 text-center text-xs tracking-wide",children:r.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:`${e.colors.primary}10`,color:e.colors.primary},children:"Thank you for your prompt payment"})})]})]})}function tI({data:t,template:e}){const s=t.items.reduce((i,l)=>i+l.amount,0),n=s*(t.taxRate/100),o=s+n-t.discount;return r.jsxs("div",{className:"p-8 relative overflow-hidden",style:{width:"210mm",minHeight:"297mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:e.fonts.primary},children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 rounded-full opacity-10",style:{backgroundColor:e.colors.primary,transform:"translate(16px, -16px)"}}),r.jsx("div",{className:"absolute top-6 right-10 w-20 h-20 rounded-full opacity-20",style:{backgroundColor:e.colors.secondary}}),r.jsx("div",{className:"absolute -left-16 top-24 w-40 h-40 rounded-full opacity-10",style:{backgroundColor:e.colors.accent}}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center shadow-sm",style:{background:`radial-gradient(circle at 30% 30%, ${e.colors.secondary}, ${e.colors.primary})`},children:r.jsx("div",{className:"w-6 h-6 bg-white rounded-full"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",style:{color:e.colors.text},children:t.company.name}),r.jsx("div",{className:"text-[10px] uppercase tracking-widest",style:{color:e.colors.secondary},children:"Creative • Modern • Friendly"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-extrabold tracking-wide",style:{color:e.colors.accent},children:"INVOICE"}),r.jsxs("div",{className:"text-xs",style:{color:e.colors.secondary},children:["No: ",t.invoiceNumber]}),r.jsxs("div",{className:"text-xs",style:{color:e.colors.secondary},children:["Date: ",new Date(t.date).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex justify-between text-xs mb-6",style:{color:e.colors.secondary},children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",style:{color:e.colors.accent},children:"Phone"}),r.jsx("div",{children:t.company.phone})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",style:{color:e.colors.accent},children:"Email"}),r.jsx("div",{children:t.company.email})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",style:{color:e.colors.accent},children:"Address"}),r.jsx("div",{children:t.company.address})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:e.colors.primary},children:"TO"}),r.jsxs("div",{style:{color:e.colors.text},children:[r.jsx("p",{className:"font-semibold",children:t.customer.name}),r.jsx("p",{children:t.customer.address}),r.jsxs("p",{children:[t.customer.city,", ",t.customer.state," ",t.customer.zip]}),t.customer.phone&&r.jsx("p",{children:t.customer.phone}),t.customer.email&&r.jsx("p",{children:t.customer.email})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"py-3 px-4 font-semibold text-white flex-1",style:{backgroundColor:e.colors.accent},children:"ITEM DESCRIPTION"}),r.jsx("div",{className:"py-3 px-4 font-semibold text-white",style:{backgroundColor:e.colors.primary},children:r.jsxs("div",{className:"flex gap-8",children:[r.jsx("span",{children:"PRICE"}),r.jsx("span",{children:"QTY"}),r.jsx("span",{children:"TOTAL"})]})})]}),t.items.map((i,l)=>r.jsxs("div",{className:"flex border-b py-4",style:{borderColor:e.colors.secondary,backgroundColor:l%2===0?"transparent":`${e.colors.primary}05`},children:[r.jsxs("div",{className:"flex-1 px-4",style:{color:e.colors.text},children:[r.jsx("div",{className:"font-medium",children:i.description}),r.jsx("div",{className:"text-xs opacity-75 mt-1",children:"Contrary to popular belief Lorem Ipsum simply random"})]}),r.jsx("div",{className:"px-4",style:{color:e.colors.text},children:r.jsxs("div",{className:"flex gap-8",children:[r.jsxs("span",{children:["$",i.rate.toFixed(2)]}),r.jsx("span",{children:i.quantity}),r.jsxs("span",{className:"font-semibold",children:["$",i.amount.toFixed(2)]})]})})]},i.id))]}),r.jsx("div",{className:"flex justify-end mb-8",children:r.jsx("div",{className:"w-80",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",style:{color:e.colors.text},children:[r.jsx("span",{children:"Sub Total:"}),r.jsxs("span",{children:["$",s.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",style:{color:e.colors.text},children:[r.jsxs("span",{children:["Tax Vat ",t.taxRate,"%:"]}),r.jsxs("span",{children:["$",n.toFixed(2)]})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between",style:{color:e.colors.text},children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["-$",t.discount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2",style:{color:"white",backgroundColor:e.colors.accent,padding:"12px 16px",marginTop:"8px"},children:[r.jsx("span",{children:"GRAND TOTAL:"}),r.jsxs("span",{children:["$",o.toFixed(2)]})]})]})})}),r.jsx("div",{className:"mt-10",children:r.jsxs("div",{className:"rounded-xl p-6 border relative overflow-hidden",style:{borderColor:`${e.colors.secondary}55`},children:[r.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 rounded-full opacity-10",style:{backgroundColor:e.colors.accent}}),r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-2",style:{color:e.colors.primary},children:"Payment Info"}),r.jsxs("div",{style:{color:e.colors.text},children:["Paypal: ",t.company.email]}),r.jsx("div",{style:{color:e.colors.text},children:"Cards: Visa, Master Card"}),r.jsx("div",{style:{color:e.colors.text},children:"We accept cheque"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-2",style:{color:e.colors.primary},children:"Notes"}),r.jsx("div",{className:"text-sm",style:{color:e.colors.text},children:t.notes||"Thank you for your business!"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[10px] uppercase tracking-widest mb-2",style:{color:e.colors.secondary},children:"Authorized Signature"}),r.jsx("div",{className:"border-t-2 pt-2 inline-block px-8",style:{borderColor:e.colors.primary},children:r.jsx("div",{className:"text-sm",style:{color:e.colors.text},children:t.company.name})})]})]}),t.terms&&r.jsxs("div",{className:"mt-4 text-xs",style:{color:e.colors.text},children:[r.jsx("span",{className:"font-semibold",style:{color:e.colors.primary},children:"Terms: "}),t.terms]})]})})]})}function sI({data:t,template:e}){const s=t.items.reduce((i,l)=>i+l.amount,0),n=s*(t.taxRate/100),o=s+n-t.discount;return r.jsxs("div",{className:"p-8 relative overflow-hidden",style:{width:"210mm",minHeight:"297mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:e.fonts.primary},children:[r.jsx("div",{className:"absolute top-0 right-0 w-28 h-full",style:{background:`linear-gradient(180deg, ${e.colors.primary}, ${e.colors.secondary})`}}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center shadow-sm",style:{background:`linear-gradient(135deg, ${e.colors.primary}, ${e.colors.secondary})`},children:r.jsx("div",{className:"w-6 h-6 bg-white rounded"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold tracking-tight",style:{color:e.colors.text},children:t.company.name}),r.jsx("div",{className:"text-[10px] uppercase tracking-widest",style:{color:e.colors.secondary},children:"Innovate • Deliver • Excel"})]})]}),r.jsx("div",{className:"w-10 h-10 rounded border-2 border-dashed flex items-center justify-center bg-white/40 backdrop-blur-sm",style:{borderColor:e.colors.secondary},children:r.jsx("div",{className:"text-[10px] font-medium",style:{color:e.colors.secondary},children:"QR"})})]}),r.jsxs("div",{className:"flex gap-6 text-xs mb-6",style:{color:e.colors.secondary},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:e.colors.secondary}}),r.jsx("span",{children:t.company.phone})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:e.colors.secondary}}),r.jsx("span",{children:t.company.email})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:e.colors.secondary}}),r.jsxs("span",{children:["www.",t.company.name.toLowerCase().replace(/\s+/g,""),".com"]})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"text-lg",style:{color:e.colors.text},children:new Date(t.date).toLocaleDateString()}),r.jsx("div",{className:"text-center",children:r.jsx("div",{className:"text-xl font-bold text-white",style:{backgroundColor:e.colors.primary,padding:"8px 16px",borderRadius:"4px"},children:"INVOICE"})})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"text-sm underline mb-2",style:{color:e.colors.primary},children:["INVOICE NO # ",t.invoiceNumber]}),r.jsx("div",{className:"text-sm mb-1",style:{color:e.colors.text},children:"TO"}),r.jsx("div",{className:"text-sm font-semibold",style:{color:e.colors.primary},children:t.customer.name.toUpperCase()})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm font-semibold mb-4",style:{color:e.colors.primary},children:[r.jsx("div",{className:"border-b-2 pb-2",style:{borderColor:e.colors.secondary},children:"ITEM DESCRIPTIONS"}),r.jsx("div",{className:"border-b-2 pb-2 text-right",style:{borderColor:e.colors.secondary},children:"RATE"}),r.jsx("div",{className:"border-b-2 pb-2 text-center",style:{borderColor:e.colors.secondary},children:"QTY"}),r.jsx("div",{className:"border-b-2 pb-2 text-right",style:{borderColor:e.colors.secondary},children:"PRICE"})]}),t.items.map((i,l)=>r.jsxs("div",{className:"grid grid-cols-4 gap-4 py-3 text-sm border-b",style:{borderColor:e.colors.secondary,backgroundColor:l%2===0?"transparent":`${e.colors.primary}05`},children:[r.jsxs("div",{style:{color:e.colors.text},children:[r.jsx("div",{className:"font-semibold",children:i.description.toUpperCase()}),r.jsx("div",{className:"text-xs opacity-75 mt-1",children:"Lorem ipsum dolor sit amet, consect etueradipiscing elit."})]}),r.jsxs("div",{className:"text-right",style:{color:e.colors.text},children:["$",i.rate.toFixed(2)]}),r.jsx("div",{className:"text-center",style:{color:e.colors.text},children:i.quantity.toString().padStart(2,"0")}),r.jsxs("div",{className:"text-right font-semibold",style:{color:e.colors.text},children:["$",i.amount.toFixed(2)]})]},i.id))]}),r.jsx("div",{className:"flex justify-end mb-8",children:r.jsx("div",{className:"w-80",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",style:{color:e.colors.text},children:[r.jsx("span",{children:"Sub-Total:"}),r.jsxs("span",{children:["$",s.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-sm",style:{color:e.colors.text},children:[r.jsxs("span",{children:["Tax: Vat (",t.taxRate,"%):"]}),r.jsxs("span",{children:["$",n.toFixed(2)]})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between text-sm",style:{color:e.colors.text},children:[r.jsxs("span",{children:["Discount (",Math.round(t.discount/s*100),"%):"]}),r.jsxs("span",{children:["-$",t.discount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",style:{color:e.colors.text,borderColor:e.colors.secondary},children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["$",o.toFixed(2)]})]})]})})}),r.jsx("div",{className:"mt-8 pt-6",children:r.jsxs("div",{className:"rounded-lg p-4",style:{background:`${e.colors.primary}10`,border:`1px solid ${e.colors.secondary}33`},children:[r.jsxs("div",{className:"grid grid-cols-3 gap-6 text-xs",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1",style:{color:e.colors.primary},children:"Contact"}),r.jsx("div",{style:{color:e.colors.text},children:t.company.email}),r.jsx("div",{style:{color:e.colors.text},children:t.company.phone})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1",style:{color:e.colors.primary},children:"Payment"}),r.jsxs("div",{style:{color:e.colors.text},children:["Paypal: ",t.company.email]}),r.jsx("div",{style:{color:e.colors.text},children:"Cards: Visa, MasterCard"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[10px] uppercase tracking-widest mb-2",style:{color:e.colors.secondary},children:"Authorized By"}),r.jsx("div",{className:"border-t pt-2 inline-block",style:{borderColor:e.colors.secondary},children:r.jsx("div",{className:"text-sm",style:{color:e.colors.text},children:t.company.name})})]})]}),t.terms&&r.jsxs("div",{className:"mt-4 text-xs",style:{color:e.colors.text},children:[r.jsx("span",{className:"font-semibold",style:{color:e.colors.primary},children:"Terms: "}),t.terms]}),r.jsx("div",{className:"mt-4 text-center text-xs font-medium",style:{color:e.colors.accent},children:"Thank you for choosing us — we appreciate your business."})]})})]})}function Ep(t,e={}){const{itemsPerPage:s,firstPageCapacity:n=.85,lastPageCapacity:o=.75,templateType:i="standard"}=e;if(t.length===0)return[{pageNumber:1,totalPages:1,items:[],isFirstPage:!0,isLastPage:!0,itemsRange:{start:0,end:0}}];const l=s||nI(t,i),d=R1(i),u=n!==.85?n:d.firstPageCapacity,h=o!==.75?o:d.lastPageCapacity,m=Math.floor(l*u),p=l,v=Math.floor(l*h);if(t.length<=m+v){if(t.length<=m)return[{pageNumber:1,totalPages:1,items:[...t],isFirstPage:!0,isLastPage:!0,itemsRange:{start:1,end:t.length}}];const S=m;return[{pageNumber:1,totalPages:2,items:t.slice(0,S),isFirstPage:!0,isLastPage:!1,itemsRange:{start:1,end:S}},{pageNumber:2,totalPages:2,items:t.slice(S),isFirstPage:!1,isLastPage:!0,itemsRange:{start:S+1,end:t.length}}]}const b=[];let w=t.length,B=0;const C=Math.min(m,w);for(b.push({pageNumber:1,totalPages:0,items:t.slice(B,B+C),isFirstPage:!0,isLastPage:!1,itemsRange:{start:1,end:C}}),B+=C,w-=C;w>v;){const S=Math.min(p,w);b.push({pageNumber:b.length+1,totalPages:0,items:t.slice(B,B+S),isFirstPage:!1,isLastPage:!1,itemsRange:{start:B+1,end:B+S}}),B+=S,w-=S}w>0&&b.push({pageNumber:b.length+1,totalPages:0,items:t.slice(B),isFirstPage:!1,isLastPage:!0,itemsRange:{start:B+1,end:t.length}});const j=b.length;return b.forEach(S=>{S.totalPages=j}),b}function I1(t,e,s="standard"){if(t.length===0)return!1;const n=t[t.length-1],o=R1(s),i=e||o.separateTotalsThreshold;return n.items.length>i}function rI(t){switch(t){case"compact":return 25;case"detailed":return 15;case"standard":default:return 20}}function nI(t,e="standard"){if(t.length===0)return 20;const s=rI(e),n=t.reduce((i,l)=>i+l.description.length+(l.itemDescription?.length||0),0)/t.length;let o=1;return n>100?o=.7:n>50&&(o=.85),Math.floor(s*o)}function R1(t){switch(t){case"compact":return{firstPageCapacity:.9,lastPageCapacity:.85,separateTotalsThreshold:10};case"detailed":return{firstPageCapacity:.8,lastPageCapacity:.7,separateTotalsThreshold:6};case"standard":default:return{firstPageCapacity:.85,lastPageCapacity:.75,separateTotalsThreshold:8}}}function QA(){return r.jsx("div",{className:"page-break",style:{pageBreakAfter:"always",breakAfter:"page",height:"0",overflow:"hidden"}})}function Fp({start:t,end:e,total:s,className:n=""}){return s<=12?null:r.jsxs("div",{className:`text-xs text-gray-600 ${n}`,children:["Items ",t,"–",e," of ",s]})}const aI=`
  @media print {
    /* Zero page margins - clean print */
    @page {
      size: A4;
      margin: 0; /* No CSS margins - template has internal padding */
    }

    .print-invoice * {
      -webkit-print-color-adjust: exact !important;
      color-adjust: exact !important;
      print-color-adjust: exact !important;
    }

    .print-invoice {
      margin: 0 !important; /* Let @page handle margins */
      box-shadow: none !important;
      border: inherit !important;
    }

    .print-invoice header {
      margin-bottom: 2rem !important;
    }

    .print-invoice .invoice-header-section {
      display: flex !important;
      align-items: flex-start !important;
      justify-content: space-between !important;
      margin-bottom: 1.5rem !important;
    }

    .print-invoice .badge-row {
      display: grid !important;
      grid-template-columns: 1fr auto 1fr !important;
      align-items: center !important;
      gap: 1.5rem !important;
    }
    
    /* Hide info banner when printing */
    .pagination-controls {
      display: none !important;
    }
  }
  
  /* Fix for html2canvas lab() color parsing error */
  @media screen {
    .print-invoice {
      color-scheme: light;
    }
  }
`;function oI({data:t,template:e,brandLogos:s=[]}){const n=t.items.reduce((v,b)=>v+b.amount,0),o=n*(t.taxRate/100),i=n+o-t.discount,l=t.currency||"USD",d=v=>`${{USD:"$",SLL:"Le",EUR:"€",GBP:"£",CAD:"C$",AUD:"A$"}[l]||l}${v.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,u=()=>r.jsxs("header",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-start mb-8",children:[r.jsx("div",{className:"relative",style:{width:0,height:0},children:t.company.logo&&r.jsx("img",{src:t.company.logo.startsWith("/")?`${window.location.origin}${t.company.logo}`:t.company.logo,alt:"Company Logo",className:"absolute object-contain",style:{maxWidth:"280px",maxHeight:"160px",width:"auto",height:"auto",top:0,left:0,display:"block",margin:0,padding:0,verticalAlign:"top",lineHeight:0,fontSize:0,objectFit:"contain",zIndex:1},onError:v=>{v.target.style.display="none"}})}),r.jsxs("div",{className:"text-right text-sm",style:{color:e.colors.text},children:[r.jsx("div",{className:"font-bold mb-1 text-base",children:t.company.name}),r.jsx("div",{children:t.company.address}),r.jsxs("div",{children:[t.company.city,", ",t.company.state," ",t.company.zip]}),r.jsxs("div",{className:"mt-2",children:["Mobile: ",t.company.phone]}),r.jsx("div",{children:t.company.email})]})]}),r.jsx("div",{className:"my-8",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"flex-1 h-px",style:{backgroundColor:e.colors.primary}}),r.jsx("div",{className:"mx-8",children:r.jsx("div",{className:"px-8 py-3 font-bold text-base tracking-wide uppercase text-center",style:{color:e.colors.primary,backgroundColor:"white",border:`2px solid ${e.colors.primary}`,borderRadius:"6px",whiteSpace:"nowrap",letterSpacing:"0.1em",minWidth:"120px"},children:t.invoiceType==="proforma"?"PROFORMA":t.invoiceType==="quote"?"QUOTE":t.invoiceType==="credit_note"?"CREDIT NOTE":t.invoiceType==="debit_note"?"DEBIT NOTE":"INVOICE"})}),r.jsx("div",{className:"flex-1 h-px",style:{backgroundColor:e.colors.primary}})]})}),r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold mb-2",style:{color:e.colors.secondary},children:"BILL TO"}),r.jsxs("div",{className:"text-sm",style:{color:e.colors.text},children:[r.jsx("div",{className:"font-bold",children:t.customer.name}),r.jsx("div",{children:t.customer.address}),r.jsx("div",{children:[t.customer.city,t.customer.state,t.customer.zip].filter(Boolean).join(", ")}),t.customer.phone&&r.jsxs("div",{children:["Mobile: ",t.customer.phone]}),t.customer.email&&r.jsx("div",{children:t.customer.email})]})]}),r.jsxs("div",{className:"text-right text-sm",style:{color:e.colors.text},children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Invoice Number:"})," ",t.invoiceNumber]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Invoice Date:"})," ",new Date(t.date).toLocaleDateString()]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Payment Due:"})," ",new Date(t.dueDate).toLocaleDateString()]}),r.jsxs("div",{className:"mt-2 px-4 py-2 font-bold rounded",style:{backgroundColor:`${e.colors.secondary}15`,color:e.colors.text,border:`1px solid ${e.colors.secondary}30`},children:["Amount Due (",l,"): ",d(i)]})]})]})]}),h=()=>r.jsxs("footer",{className:"pt-4 border-t-2",style:{borderColor:e.colors.accent},children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[t.notes&&r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1 text-xs",style:{color:e.colors.primary},children:"Notes"}),r.jsx("div",{className:"text-xs",children:t.notes})]}),t.terms&&r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1 text-xs",style:{color:e.colors.primary},children:"Terms"}),r.jsx("div",{className:"text-xs",children:t.terms})]})]}),t.bankDetails&&r.jsx("div",{className:"pt-2 border-t border-gray-200",children:r.jsxs("div",{className:"text-xs",children:["Bank Details Bank : ",t.bankDetails.bankName," BBAN#: ",t.bankDetails.accountNumber," Account#: ",t.bankDetails.accountName]})}),s.length>0&&r.jsx("div",{className:"flex items-center justify-center flex-wrap gap-2 mt-2 pt-2 border-t",style:{borderColor:e.colors.secondary},children:s.map((v,b)=>{const w=v.startsWith("/")?`${window.location.origin}${v}`:v;return r.jsx("img",{src:w,alt:`Brand ${b+1}`,className:"h-5 w-auto object-contain opacity-80",onError:B=>{B.target.style.display="none"}},b)})})]}),m=Ep(t.items,{templateType:"standard",firstPageCapacity:.9,lastPageCapacity:.8}),p=I1(m,10,"standard");return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:aI}}),(m.length>1||p)&&r.jsx("div",{className:"pagination-controls mb-4 p-3 rounded-lg border text-center",style:{backgroundColor:`${e.colors.primary}10`,borderColor:e.colors.primary},children:r.jsxs("div",{className:"text-sm font-medium",style:{color:e.colors.primary},children:["📄 This invoice has ",m.length+(p?1:0)," pages (",t.items.length," items)",p&&r.jsx("span",{className:"text-xs ml-2",children:"(+ separate totals page)"})]})}),m.map((v,b)=>r.jsxs(Yt.Fragment,{children:[r.jsxs("div",{style:{width:"210mm",backgroundColor:"white",color:e.colors.text,fontFamily:`${e.fonts.primary}, 'Helvetica Neue', Arial, sans-serif`,border:"none",borderRadius:"0px",boxSizing:"border-box",position:"relative",boxShadow:"none",margin:"0mm",marginBottom:b<m.length-1?"5mm":"0mm",padding:"12mm",paddingTop:"10mm",paddingBottom:"12mm",overflow:"visible",display:"flex",flexDirection:"column",minHeight:"297mm",height:"297mm",maxHeight:"297mm"},className:"print-invoice",children:[t.company.logo&&r.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{zIndex:1,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx("img",{src:t.company.logo.startsWith("/")?`${window.location.origin}${t.company.logo}`:t.company.logo,alt:"Watermark",className:"object-contain",style:{opacity:.15,maxWidth:"85%",maxHeight:"85%",width:"auto",height:"auto",transform:"rotate(-15deg)"},onError:w=>{w.target.style.display="none"}})}),r.jsxs("div",{style:{position:"relative",zIndex:2,backgroundColor:"transparent",display:"flex",flexDirection:"column",height:"100%"},children:[v.isFirstPage&&r.jsx(u,{}),!v.isFirstPage&&r.jsxs("div",{className:"mb-4 text-center text-xs text-gray-500",children:["Page ",v.pageNumber," of ",v.totalPages," (continued)"]}),r.jsxs("section",{style:{flexGrow:1,marginBottom:"12px"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"text-sm font-semibold",style:{color:e.colors.primary},children:["Items ",v.totalPages>1?`(Page ${v.pageNumber} of ${v.totalPages})`:""]}),v.totalPages>1&&r.jsx(Fp,{start:v.itemsRange.start,end:v.itemsRange.end,total:t.items.length})]}),r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:e.colors.primary,color:"#fff"},children:[r.jsx("th",{className:"text-left py-1 px-2 font-semibold text-xs",children:"Description"}),r.jsx("th",{className:"text-center py-1 px-2 font-semibold text-xs",children:"Quantity"}),r.jsx("th",{className:"text-right py-1 px-2 font-semibold text-xs",children:"Price"}),r.jsx("th",{className:"text-right py-1 px-2 font-semibold text-xs",children:"Amount"})]})}),r.jsx("tbody",{children:v.items.filter(w=>w&&w.id).map((w,B)=>r.jsxs("tr",{style:{backgroundColor:B%2?"#00000005":"transparent"},children:[r.jsxs("td",{className:"py-1 px-2 text-xs",style:{borderBottom:`1px solid ${e.colors.secondary}30`},children:[r.jsx("div",{children:w.description||"No description"}),w.itemDescription&&r.jsx("div",{className:"text-xs opacity-75 mt-1",style:{color:e.colors.secondary},children:w.itemDescription})]}),r.jsx("td",{className:"py-1 px-2 text-center text-xs",style:{borderBottom:`1px solid ${e.colors.secondary}30`},children:w.quantity}),r.jsx("td",{className:"py-1 px-2 text-right text-xs",style:{borderBottom:`1px solid ${e.colors.secondary}30`},children:d(w.rate)}),r.jsx("td",{className:"py-1 px-2 text-right text-xs font-medium",style:{borderBottom:`1px solid ${e.colors.secondary}30`},children:d(w.amount)})]},w.id))})]}),!v.isLastPage&&r.jsx("div",{className:"text-xs text-gray-500 italic mt-2 text-right",children:"Continued on next page..."})]}),v.isLastPage&&!p&&r.jsx("section",{className:"mb-4 flex justify-end",children:r.jsxs("div",{className:"w-full max-w-xs",children:[r.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:d(n)})]}),t.taxRate>0&&r.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[r.jsxs("span",{children:[l==="USD"?"GST":"Tax"," ",t.taxRate,"%:"]}),r.jsx("span",{children:d(o)})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["- ",d(t.discount)]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t-2",style:{borderColor:e.colors.accent},children:[r.jsx("div",{className:"text-base font-bold",style:{color:e.colors.primary},children:"Total:"}),r.jsx("div",{className:"text-xl font-extrabold",style:{color:e.colors.accent},children:d(i)})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1 py-1 text-sm",style:{backgroundColor:`${e.colors.accent}10`},children:[r.jsxs("span",{className:"font-semibold",children:["Amount Due (",l,"):"]}),r.jsx("span",{className:"font-bold",style:{color:e.colors.accent},children:d(i)})]})]})}),v.isLastPage&&!p&&r.jsx("div",{style:{marginTop:"auto",marginBottom:"5mm",flexShrink:0},children:r.jsx(h,{})})]})]}),!v.isLastPage&&r.jsx(QA,{})]},v.pageNumber)),p&&r.jsxs(r.Fragment,{children:[r.jsx(QA,{}),r.jsxs("div",{style:{width:"210mm",backgroundColor:"white",color:e.colors.text,fontFamily:`${e.fonts.primary}, 'Helvetica Neue', Arial, sans-serif`,border:"none",borderRadius:"0px",boxSizing:"border-box",position:"relative",boxShadow:"none",margin:"0mm",padding:"12mm",paddingTop:"10mm",paddingBottom:"12mm",overflow:"visible",display:"flex",flexDirection:"column",minHeight:"297mm",height:"297mm",maxHeight:"297mm"},className:"print-invoice",children:[t.company.logo&&r.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{zIndex:1,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx("img",{src:t.company.logo.startsWith("/")?`${window.location.origin}${t.company.logo}`:t.company.logo,alt:"Watermark",className:"object-contain",style:{opacity:.15,maxWidth:"85%",maxHeight:"85%",width:"auto",height:"auto",transform:"rotate(-15deg)"},onError:v=>{v.target.style.display="none"}})}),r.jsxs("div",{style:{position:"relative",zIndex:2,backgroundColor:"transparent",display:"flex",flexDirection:"column",height:"100%"},children:[r.jsxs("div",{className:"mb-4 text-center text-xs text-gray-500",style:{flex:"none"},children:["Page ",m.length+1," of ",m.length+1," - Invoice Summary"]}),r.jsx("section",{style:{marginBottom:"12px",flex:"none",display:"flex",justifyContent:"flex-end"},children:r.jsxs("div",{className:"w-full max-w-xs",children:[r.jsxs("div",{className:"flex justify-between py-0.5 text-xs",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:d(n)})]}),t.taxRate>0&&r.jsxs("div",{className:"flex justify-between py-0.5 text-xs",children:[r.jsxs("span",{children:[l==="USD"?"GST":"Tax"," ",t.taxRate,"%:"]}),r.jsx("span",{children:d(o)})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between py-0.5 text-xs",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["- ",d(t.discount)]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1 pt-1 border-t-2",style:{borderColor:e.colors.accent},children:[r.jsx("div",{className:"text-sm font-bold",style:{color:e.colors.primary},children:"Total:"}),r.jsx("div",{className:"text-lg font-extrabold",style:{color:e.colors.accent},children:d(i)})]}),r.jsxs("div",{className:"flex justify-between items-center mt-0.5 py-0.5 text-xs",style:{backgroundColor:`${e.colors.accent}10`},children:[r.jsxs("span",{className:"font-semibold",children:["Amount Due (",l,"):"]}),r.jsx("span",{className:"font-bold",style:{color:e.colors.accent},children:d(i)})]})]})}),r.jsx("div",{style:{marginTop:"auto",marginBottom:"5mm",flexShrink:0},children:r.jsx(h,{})})]})]})]})]})}const AI=`
  @media print {
    /* Zero page margins - clean print */
    @page {
      size: A4;
      margin: 0; /* No CSS margins - template has internal padding */
    }

    .print-invoice * {
      -webkit-print-color-adjust: exact !important;
      color-adjust: exact !important;
      print-color-adjust: exact !important;
    }

    .print-invoice {
      margin: 0 !important; /* Let @page handle margins */
      box-shadow: none !important;
    }
    
    /* Hide info banner when printing */
    .pagination-controls {
      display: none !important;
    }
  }
  
  /* Fix for html2canvas lab() color parsing error */
  @media screen {
    .print-invoice {
      color-scheme: light;
    }
  }
`;function iI({data:t,template:e,brandLogos:s=[]}){const n=t.items.reduce((v,b)=>v+b.amount,0),o=n*(t.taxRate/100),i=n+o-t.discount,l=t.currency||"USD",d=v=>`${{USD:"$",SLL:"Le",EUR:"€",GBP:"£",CAD:"C$",AUD:"A$"}[l]||l}${v.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,u=v=>v.startsWith("/")?`${window.location.origin}${v}`:v,h=()=>r.jsxs("footer",{className:"pt-4 border-t",style:{borderColor:e.colors.secondary},children:[t.notes&&r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.primary},children:"Notes"}),r.jsx("div",{className:"text-xs",children:t.notes})]}),t.terms&&r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.primary},children:"Terms"}),r.jsx("div",{className:"text-xs",children:t.terms})]}),t.bankDetails&&r.jsxs("div",{className:"mb-3 p-3 rounded",style:{backgroundColor:`${e.colors.primary}05`},children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.primary},children:"Bank Details"}),r.jsxs("div",{className:"text-xs",children:[r.jsxs("div",{children:["Bank: ",t.bankDetails.bankName]}),t.bankDetails.accountName&&r.jsxs("div",{children:["Account: ",t.bankDetails.accountName]}),r.jsxs("div",{children:["Account #: ",t.bankDetails.accountNumber]}),t.bankDetails.routingNumber&&r.jsxs("div",{children:["Routing #: ",t.bankDetails.routingNumber]}),t.bankDetails.swiftCode&&r.jsxs("div",{children:["SWIFT: ",t.bankDetails.swiftCode]})]})]}),s.length>0&&r.jsx("div",{className:"flex items-center gap-3 mt-2",children:s.map((v,b)=>{const w=u(v);return r.jsx("img",{src:w,alt:`Brand ${b+1}`,className:"h-6 w-auto object-contain opacity-80",onError:B=>{B.target.style.display="none"}},b)})})]}),m=Ep(t.items,{templateType:"compact",firstPageCapacity:.85,lastPageCapacity:.75}),p=m.length>0&&m[m.length-1].items.length>8;return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:AI}}),(m.length>1||p)&&r.jsx("div",{className:"pagination-controls mb-4 p-3 rounded-lg border text-center",style:{backgroundColor:`${e.colors.primary}10`,borderColor:e.colors.primary},children:r.jsxs("div",{className:"text-sm font-medium",style:{color:e.colors.primary},children:["📄 This invoice has ",m.length+(p?1:0)," pages (",t.items.length," items)",p&&r.jsx("span",{className:"text-xs ml-2",children:"(+ separate totals page)"})]})}),m.map((v,b)=>r.jsxs(Yt.Fragment,{children:[r.jsxs("div",{className:"relative overflow-hidden print-invoice",style:{width:"210mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:`${e.fonts.primary}, 'Helvetica Neue', Arial, sans-serif`,margin:"0mm",marginBottom:b<m.length-1?"5mm":"0mm",padding:"10mm",paddingTop:"8mm",paddingBottom:"10mm",overflow:"visible",display:"flex",flexDirection:"column",minHeight:"297mm",height:"297mm",maxHeight:"297mm"},children:[r.jsx("div",{className:"absolute top-0 right-0 h-full z-0",style:{width:96,background:`linear-gradient(180deg, ${e.colors.primary}, ${e.colors.secondary})`}}),r.jsxs("div",{className:"relative z-10 flex-grow flex flex-col",children:[v.isFirstPage&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[e.layout.showLogo&&t.company.logo&&r.jsx("img",{src:u(t.company.logo),alt:"Logo",className:"h-12 w-auto object-contain",onError:w=>{w.target.style.display="none"}}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold",style:{color:e.colors.text},children:t.company.name}),r.jsxs("div",{className:"text-sm",style:{color:e.colors.secondary},children:[t.company.phone," • ",t.company.email]}),r.jsxs("div",{className:"text-sm",style:{color:e.colors.secondary},children:[t.company.address,", ",t.company.city,", ",t.company.state," ",t.company.zip]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"inline-block px-3 py-1 rounded text-white font-semibold",style:{backgroundColor:e.colors.primary},children:t.invoiceType==="proforma"?"PROFORMA":t.invoiceType==="quote"?"QUOTE":t.invoiceType==="credit_note"?"CREDIT NOTE":t.invoiceType==="debit_note"?"DEBIT NOTE":"INVOICE"}),r.jsxs("div",{className:"mt-2 text-sm",style:{color:e.colors.text},children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"No:"})," ",t.invoiceNumber]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Due:"})," ",new Date(t.dueDate).toLocaleDateString()]})]})]})]}),r.jsxs("div",{className:"mb-6 grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx("div",{className:"text-sm font-semibold mb-1",style:{color:e.colors.primary},children:"Bill To"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:t.customer.name}),r.jsx("div",{children:t.customer.address}),r.jsxs("div",{children:[t.customer.city,", ",t.customer.state," ",t.customer.zip]}),t.customer.phone&&r.jsx("div",{children:t.customer.phone}),t.customer.email&&r.jsx("div",{children:t.customer.email})]})]}),r.jsx("div",{children:r.jsxs("div",{className:"rounded p-3 border",style:{borderColor:`${e.colors.secondary}55`,backgroundColor:`${e.colors.primary}08`},children:[r.jsx("div",{className:"text-xs",style:{color:e.colors.secondary},children:"Amount Due"}),r.jsx("div",{className:"text-2xl font-extrabold",style:{color:e.colors.text},children:d(i)})]})})]})]}),!v.isFirstPage&&r.jsxs("div",{className:"mb-4 text-center text-xs text-gray-500",children:["Page ",v.pageNumber," of ",v.totalPages," (continued)"]}),r.jsxs("div",{className:"mb-6 flex-grow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"text-sm font-semibold",style:{color:e.colors.primary},children:["Items ",v.totalPages>1?`(Page ${v.pageNumber} of ${v.totalPages})`:""]}),v.totalPages>1&&r.jsx(Fp,{start:v.itemsRange.start,end:v.itemsRange.end,total:t.items.length})]}),r.jsxs("div",{className:"grid grid-cols-12 text-sm font-semibold py-2",style:{color:e.colors.primary,borderBottom:`2px solid ${e.colors.secondary}`},children:[r.jsx("div",{className:"col-span-7",children:"Description"}),r.jsx("div",{className:"col-span-2 text-right",children:"Qty"}),r.jsx("div",{className:"col-span-1 text-right",children:"Rate"}),r.jsx("div",{className:"col-span-2 text-right",children:"Amount"})]}),v.items.map((w,B)=>r.jsxs("div",{className:"grid grid-cols-12 py-3 text-sm",style:{borderBottom:`1px solid ${e.colors.secondary}33`,backgroundColor:B%2?`${e.colors.primary}05`:"transparent"},children:[r.jsxs("div",{className:"col-span-7 pr-4",children:[r.jsx("div",{children:w.description}),w.itemDescription&&r.jsx("div",{className:"text-xs opacity-75 mt-1",style:{color:e.colors.secondary},children:w.itemDescription})]}),r.jsx("div",{className:"col-span-2 text-right",children:w.quantity}),r.jsx("div",{className:"col-span-1 text-right",children:d(w.rate)}),r.jsx("div",{className:"col-span-2 text-right font-medium",children:d(w.amount)})]},w.id)),!v.isLastPage&&r.jsx("div",{className:"text-xs text-gray-500 italic mt-2 text-right",children:"Continued on next page..."})]}),v.isLastPage&&!p&&r.jsx("div",{className:"mb-6 flex justify-end",children:r.jsxs("div",{className:"w-full max-w-sm text-sm",children:[r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Subtotal"}),r.jsx("span",{children:d(n)})]}),t.taxRate>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsxs("span",{children:["Tax (",t.taxRate,"%)"]}),r.jsx("span",{children:d(o)})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["- ",d(t.discount)]})]}),r.jsxs("div",{className:"mt-2 pt-2 flex justify-between items-center border-t",style:{borderColor:e.colors.secondary},children:[r.jsx("div",{className:"text-lg font-bold",style:{color:e.colors.primary},children:"Total"}),r.jsx("div",{className:"text-2xl font-extrabold",style:{color:e.colors.text},children:d(i)})]}),t.paidAmount!==void 0&&t.paidAmount>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center mt-2 py-1",style:{color:"#10b981"},children:[r.jsx("span",{className:"font-semibold",children:"Paid:"}),r.jsxs("span",{className:"font-bold",children:["-",d(t.paidAmount)]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t-2 font-extrabold",style:{borderColor:t.balance&&t.balance>0?"#f59e0b":"#10b981",color:t.balance&&t.balance>0?"#f59e0b":"#10b981"},children:[r.jsx("span",{children:"Balance Due:"}),r.jsx("span",{children:d(t.balance||0)})]})]})]})}),v.isLastPage&&!p&&r.jsx("div",{className:"mt-auto flex-shrink-0",children:r.jsx(h,{})})]})]}),!v.isLastPage&&r.jsx(QA,{})]},v.pageNumber)),p&&r.jsxs(r.Fragment,{children:[r.jsx(QA,{}),r.jsxs("div",{className:"relative overflow-hidden print-invoice",style:{width:"210mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:`${e.fonts.primary}, 'Helvetica Neue', Arial, sans-serif`,margin:"0mm",padding:"10mm",paddingTop:"8mm",paddingBottom:"10mm",overflow:"visible",display:"flex",flexDirection:"column",minHeight:"297mm",height:"297mm",maxHeight:"297mm"},children:[r.jsx("div",{className:"absolute top-0 right-0 h-full z-0",style:{width:96,background:`linear-gradient(180deg, ${e.colors.primary}, ${e.colors.secondary})`}}),r.jsxs("div",{className:"relative z-10 flex-grow flex flex-col",children:[r.jsxs("div",{className:"mb-4 text-center text-xs text-gray-500",style:{flex:"none"},children:["Page ",m.length+1," of ",m.length+1," - Invoice Summary"]}),r.jsx("div",{className:"mb-6 flex justify-end",style:{flex:"none"},children:r.jsxs("div",{className:"w-full max-w-sm text-sm",children:[r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Subtotal"}),r.jsx("span",{children:d(n)})]}),t.taxRate>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsxs("span",{children:["Tax (",t.taxRate,"%)"]}),r.jsx("span",{children:d(o)})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["- ",d(t.discount)]})]}),r.jsxs("div",{className:"mt-2 pt-2 flex justify-between items-center border-t",style:{borderColor:e.colors.secondary},children:[r.jsx("div",{className:"text-lg font-bold",style:{color:e.colors.primary},children:"Total"}),r.jsx("div",{className:"text-2xl font-extrabold",style:{color:e.colors.text},children:d(i)})]}),t.paidAmount!==void 0&&t.paidAmount>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center mt-2 py-1",style:{color:"#10b981"},children:[r.jsx("span",{className:"font-semibold",children:"Paid:"}),r.jsxs("span",{className:"font-bold",children:["-",d(t.paidAmount)]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t-2 font-extrabold",style:{borderColor:t.balance&&t.balance>0?"#f59e0b":"#10b981",color:t.balance&&t.balance>0?"#f59e0b":"#10b981"},children:[r.jsx("span",{children:"Balance Due:"}),r.jsx("span",{children:d(t.balance||0)})]})]})]})}),r.jsx("div",{className:"mt-auto flex-shrink-0",children:r.jsx(h,{})})]})]})]})]})}function lI({data:t,template:e,brandLogos:s=[]}){const n=t.items.reduce((m,p)=>m+p.amount,0),o=n*(t.taxRate/100),i=n+o-t.discount,l=t.currency||"USD",d=m=>`${{USD:"$",SLL:"Le",EUR:"€",GBP:"£",CAD:"C$",AUD:"A$"}[l]||l}${m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,u=m=>m.startsWith("/")?`${window.location.origin}${m}`:m,h=()=>r.jsxs("footer",{className:"pt-4 border-t",style:{borderColor:"#d1d5db"},children:[t.notes&&r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.text},children:"Notes"}),r.jsx("div",{className:"text-xs",style:{color:e.colors.text},children:t.notes})]}),t.terms&&r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.text},children:"Terms"}),r.jsx("div",{className:"text-xs",style:{color:e.colors.text},children:t.terms})]}),t.bankDetails&&r.jsxs("div",{className:"mb-3 p-3 rounded",style:{backgroundColor:`${e.colors.primary}05`},children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.primary},children:"Bank Details"}),r.jsxs("div",{className:"text-xs",children:[r.jsxs("div",{children:["Bank: ",t.bankDetails.bankName]}),t.bankDetails.accountName&&r.jsxs("div",{children:["Account: ",t.bankDetails.accountName]}),r.jsxs("div",{children:["Account #: ",t.bankDetails.accountNumber]}),t.bankDetails.routingNumber&&r.jsxs("div",{children:["Routing #: ",t.bankDetails.routingNumber]}),t.bankDetails.swiftCode&&r.jsxs("div",{children:["SWIFT: ",t.bankDetails.swiftCode]})]})]}),s.length>0&&r.jsx("div",{className:"flex items-center gap-3 mt-2",children:s.map((m,p)=>{const v=u(m);return r.jsx("img",{src:v,alt:`Brand ${p+1}`,className:"h-6 w-auto object-contain opacity-80",onError:b=>{b.target.style.display="none"}},p)})})]});return r.jsx("div",{style:{width:"210mm",minHeight:"297mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:`${e.fonts.primary}, 'Helvetica Neue', Arial, sans-serif`},children:r.jsxs("div",{style:{minHeight:"297mm",display:"flex",flexDirection:"column"},children:[r.jsxs("div",{className:"p-10 pb-0 flex-shrink-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[e.layout.showLogo&&t.company.logo&&r.jsx("img",{src:t.company.logo,alt:"Logo",className:"h-10 w-auto object-contain border border-gray-300 p-1"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold",style:{color:e.colors.text},children:t.company.name}),r.jsxs("div",{className:"text-sm",style:{color:e.colors.secondary},children:[t.company.address,", ",t.company.city,", ",t.company.state," ",t.company.zip]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-extrabold",style:{color:e.colors.text},children:"INVOICE"}),r.jsxs("div",{className:"text-sm",style:{color:e.colors.secondary},children:["#",t.invoiceNumber]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"border p-3",style:{borderColor:"#d1d5db"},children:[r.jsx("div",{className:"text-xs uppercase",style:{color:e.colors.secondary},children:"Bill To"}),r.jsx("div",{className:"text-sm font-medium",children:t.customer.name}),r.jsx("div",{className:"text-sm",children:t.customer.address}),r.jsxs("div",{className:"text-sm",children:[t.customer.city,", ",t.customer.state," ",t.customer.zip]}),t.customer.phone&&r.jsx("div",{className:"text-sm",children:t.customer.phone}),t.customer.email&&r.jsx("div",{className:"text-sm",children:t.customer.email})]}),r.jsx("div",{className:"border p-3",style:{borderColor:"#d1d5db"},children:r.jsxs("div",{className:"flex justify-between text-sm",style:{color:e.colors.text},children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Due:"})," ",new Date(t.dueDate).toLocaleDateString()]})]})})]})]}),r.jsxs("div",{className:"flex-grow px-10",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"grid grid-cols-12 text-xs uppercase py-2 border-t border-b",style:{borderColor:"#d1d5db",color:e.colors.secondary},children:[r.jsx("div",{className:"col-span-7",children:"Description"}),r.jsx("div",{className:"col-span-2 text-right",children:"Qty"}),r.jsx("div",{className:"col-span-1 text-right",children:"Rate"}),r.jsx("div",{className:"col-span-2 text-right",children:"Amount"})]}),t.items.map(m=>r.jsxs("div",{className:"grid grid-cols-12 py-3 text-sm border-b",style:{borderColor:"#e5e7eb"},children:[r.jsx("div",{className:"col-span-7 pr-4",children:m.description}),r.jsx("div",{className:"col-span-2 text-right",children:m.quantity}),r.jsxs("div",{className:"col-span-1 text-right",children:["$",m.rate.toFixed(2)]}),r.jsxs("div",{className:"col-span-2 text-right font-medium",children:["$",m.amount.toFixed(2)]})]},m.id))]}),r.jsx("div",{className:"flex justify-end mb-6",children:r.jsxs("div",{className:"w-full max-w-sm text-sm",children:[r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Subtotal"}),r.jsx("span",{children:d(n)})]}),t.taxRate>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsxs("span",{children:["Tax (",t.taxRate,"%)"]}),r.jsx("span",{children:d(o)})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["- ",d(t.discount)]})]}),r.jsxs("div",{className:"mt-2 pt-2 flex justify-between items-center border-t",style:{borderColor:"#d1d5db"},children:[r.jsx("div",{className:"text-lg font-bold",style:{color:e.colors.accent},children:"Total"}),r.jsx("div",{className:"text-2xl font-extrabold",style:{color:e.colors.text},children:d(i)})]}),t.paidAmount!==void 0&&t.paidAmount>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center mt-2 py-1",style:{color:"#10b981"},children:[r.jsx("span",{className:"font-semibold",children:"Paid:"}),r.jsxs("span",{className:"font-bold",children:["-",d(t.paidAmount)]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t-2 font-extrabold",style:{borderColor:t.balance&&t.balance>0?"#f59e0b":"#10b981",color:t.balance&&t.balance>0?"#f59e0b":"#10b981"},children:[r.jsx("span",{children:"Balance Due:"}),r.jsx("span",{children:d(t.balance||0)})]})]})]})})]}),r.jsx("div",{className:"mt-auto p-10 pt-0 flex-shrink-0",children:r.jsx(h,{})})]})})}function cI({data:t,template:e,brandLogos:s=[]}){const{formatCurrency:n}=it(),o=t.items.reduce((u,h)=>u+h.amount,0),i=o*(t.taxRate/100),l=o+i-t.discount,d=()=>r.jsxs("footer",{className:"pt-4 border-t",style:{borderColor:e.colors.secondary},children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[t.notes&&r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.primary},children:"Notes"}),r.jsx("div",{className:"text-xs",children:t.notes})]}),t.terms&&r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.primary},children:"Terms & Conditions"}),r.jsx("div",{className:"text-xs",children:t.terms})]})]}),t.bankDetails&&r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.primary},children:"Bank Details"}),r.jsxs("div",{className:"text-xs grid grid-cols-2 gap-x-4 gap-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Bank:"})," ",t.bankDetails.bankName]}),t.bankDetails.accountName&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Account Name:"})," ",t.bankDetails.accountName]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Account Number:"})," ",t.bankDetails.accountNumber]}),t.bankDetails.routingNumber&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Routing:"})," ",t.bankDetails.routingNumber]}),t.bankDetails.swiftCode&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"SWIFT:"})," ",t.bankDetails.swiftCode]})]})]}),s.length>0&&r.jsx("div",{className:"flex items-center gap-3 mt-2",children:s.map((u,h)=>r.jsx("img",{src:u,alt:`Brand ${h+1}`,className:"h-6 w-auto object-contain opacity-80"},h))})]});return r.jsx("div",{style:{width:"210mm",minHeight:"297mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:`${e.fonts.primary}, 'Helvetica Neue', Arial, sans-serif`},children:r.jsxs("div",{style:{minHeight:"297mm",display:"flex",flexDirection:"column"},children:[r.jsx("div",{className:"px-10 py-8 flex-shrink-0",style:{backgroundColor:e.colors.primary},children:r.jsxs("div",{className:"flex items-start justify-between text-white",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[e.layout.showLogo&&t.company.logo&&r.jsx("img",{src:t.company.logo,alt:"Logo",className:"h-12 w-auto object-contain"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-semibold tracking-wide",children:t.company.name}),r.jsxs("div",{className:"text-sm opacity-80",children:[t.company.phone," • ",t.company.email]}),r.jsxs("div",{className:"text-xs opacity-70 mt-1",children:[t.company.address,", ",t.company.city,", ",t.company.state," ",t.company.zip]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-3xl font-extrabold uppercase",style:{color:e.colors.accent},children:t.invoiceType?.replace("_"," ")||"INVOICE"}),r.jsxs("div",{className:"text-sm opacity-85",children:["No: ",t.invoiceNumber]})]})]})}),r.jsx("div",{className:"px-10 py-6 flex-shrink-0",children:r.jsxs("div",{className:"flex items-start justify-between mb-6 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1",style:{color:e.colors.primary},children:"Bill To"}),r.jsx("div",{className:"font-medium",children:t.customer.name}),r.jsx("div",{children:t.customer.address}),r.jsxs("div",{children:[t.customer.city,", ",t.customer.state," ",t.customer.zip]}),t.customer.phone&&r.jsx("div",{children:t.customer.phone}),t.customer.email&&r.jsx("div",{children:t.customer.email})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Due:"})," ",new Date(t.dueDate).toLocaleDateString()]})]})]})}),r.jsxs("div",{className:"flex-grow px-10",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:e.colors.primary,color:"#fff"},children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Description"}),r.jsx("th",{className:"text-right py-3 px-4",children:"Qty"}),r.jsx("th",{className:"text-right py-3 px-4",children:"Rate"}),r.jsx("th",{className:"text-right py-3 px-4",children:"Amount"})]})}),r.jsx("tbody",{children:t.items.map((u,h)=>r.jsxs("tr",{style:{backgroundColor:h%2?"#11182708":"transparent"},children:[r.jsx("td",{className:"py-3 px-4",style:{borderBottom:`1px solid ${e.colors.secondary}40`},children:u.description}),r.jsx("td",{className:"py-3 px-4 text-right",style:{borderBottom:`1px solid ${e.colors.secondary}40`},children:u.quantity}),r.jsx("td",{className:"py-3 px-4 text-right",style:{borderBottom:`1px solid ${e.colors.secondary}40`},children:n(u.rate)}),r.jsx("td",{className:"py-3 px-4 text-right",style:{borderBottom:`1px solid ${e.colors.secondary}40`},children:n(u.amount)})]},u.id))})]})}),r.jsx("div",{className:"flex justify-end mb-6",children:r.jsxs("div",{className:"w-full max-w-sm text-sm",children:[r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Subtotal"}),r.jsx("span",{children:n(o)})]}),t.taxRate>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsxs("span",{children:["Tax (",t.taxRate,"%)"]}),r.jsx("span",{children:n(i)})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["- ",n(t.discount)]})]}),r.jsxs("div",{className:"mt-2 pt-2 flex justify-between items-center border-t",style:{borderColor:e.colors.secondary},children:[r.jsx("div",{className:"text-lg font-bold",style:{color:e.colors.accent},children:"Total"}),r.jsx("div",{className:"text-2xl font-extrabold",style:{color:e.colors.text},children:n(l)})]}),t.paidAmount!==void 0&&t.paidAmount>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center mt-2 py-1",style:{color:"#10b981"},children:[r.jsx("span",{className:"font-semibold",children:"Paid:"}),r.jsxs("span",{className:"font-bold",children:["-",n(t.paidAmount)]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t-2 font-extrabold",style:{borderColor:t.balance&&t.balance>0?"#f59e0b":"#10b981",color:t.balance&&t.balance>0?"#f59e0b":"#10b981"},children:[r.jsx("span",{children:"Balance Due:"}),r.jsx("span",{children:n(t.balance||0)})]})]})]})})]}),r.jsx("div",{className:"mt-auto px-10 pb-10 flex-shrink-0",children:r.jsx(d,{})})]})})}const dI=`
  @media print {
    @page {
      size: A4;
      margin: 0;
    }

    .print-invoice * {
      -webkit-print-color-adjust: exact !important;
      color-adjust: exact !important;
      print-color-adjust: exact !important;
    }

    .print-invoice {
      margin: 0 !important;
      box-shadow: none !important;
      border: inherit !important;
    }

    .pagination-controls {
      display: none !important;
    }
  }
`;function uI({data:t,template:e,brandLogos:s=[]}){const n=t.items.reduce((p,v)=>p+v.amount,0),o=n*(t.taxRate/100),i=n+o-t.discount,l=t.currency||"USD",d=p=>`${{USD:"$",SLL:"Le",EUR:"€",GBP:"£",CAD:"C$",AUD:"A$"}[l]||l}${p.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,u=Ep(t.items,{templateType:"detailed",firstPageCapacity:.8,lastPageCapacity:.7}),h=I1(u,6,"detailed"),m=()=>r.jsxs("footer",{className:"pt-4 border-t",style:{borderColor:e.colors.secondary},children:[t.notes&&r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.primary},children:"Notes"}),r.jsx("div",{className:"text-xs",children:t.notes})]}),t.terms&&r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.primary},children:"Terms"}),r.jsx("div",{className:"text-xs",children:t.terms})]}),t.bankDetails&&r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"font-semibold mb-1 text-sm",style:{color:e.colors.primary},children:"Bank Details"}),r.jsxs("div",{className:"text-xs grid grid-cols-2 gap-x-4 gap-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Bank:"})," ",t.bankDetails.bankName]}),t.bankDetails.accountName&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Account Name:"})," ",t.bankDetails.accountName]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Account Number:"})," ",t.bankDetails.accountNumber]}),t.bankDetails.routingNumber&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Routing:"})," ",t.bankDetails.routingNumber]}),t.bankDetails.swiftCode&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"SWIFT:"})," ",t.bankDetails.swiftCode]})]})]}),s.length>0&&r.jsx("div",{className:"flex items-center gap-3 mt-2",children:s.map((p,v)=>r.jsx("img",{src:p,alt:`Brand ${v+1}`,className:"h-6 w-auto object-contain opacity-80"},v))})]});return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:dI}}),(u.length>1||h)&&r.jsx("div",{className:"pagination-controls mb-4 p-3 rounded-lg border text-center",style:{backgroundColor:`${e.colors.primary}10`,borderColor:e.colors.primary},children:r.jsxs("div",{className:"text-sm font-medium",style:{color:e.colors.primary},children:["📄 This invoice has ",u.length+(h?1:0)," pages (",t.items.length," items)",h&&r.jsx("span",{className:"text-xs ml-2",children:"(+ separate totals page)"})]})}),u.map((p,v)=>r.jsxs(Yt.Fragment,{children:[r.jsxs("div",{style:{width:"210mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:`${e.fonts.primary}, 'Helvetica Neue', Arial, sans-serif`,border:"none",borderRadius:"0px",boxSizing:"border-box",position:"relative",boxShadow:"none",margin:"0mm",marginBottom:v<u.length-1?"5mm":"0mm",padding:"12mm",paddingTop:"10mm",paddingBottom:"12mm",overflow:"visible",display:"flex",flexDirection:"column",minHeight:"297mm",height:"297mm",maxHeight:"297mm"},className:"print-invoice",children:[p.isFirstPage&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[e.layout.showLogo&&t.company.logo&&r.jsx("img",{src:t.company.logo,alt:"Logo",className:"h-12 w-auto object-contain"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold",style:{color:e.colors.text},children:t.company.name}),r.jsxs("div",{className:"text-sm",style:{color:e.colors.secondary},children:[t.company.address,", ",t.company.city,", ",t.company.state," ",t.company.zip]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-3xl font-extrabold",style:{color:e.colors.accent},children:"INVOICE"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"No:"})," ",t.invoiceNumber]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Due:"})," ",new Date(t.dueDate).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold mb-1",style:{color:e.colors.primary},children:"Bill To"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:t.customer.name}),r.jsx("div",{children:t.customer.address}),r.jsxs("div",{children:[t.customer.city,", ",t.customer.state," ",t.customer.zip]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm font-semibold mb-1",style:{color:e.colors.primary},children:"Payment Info"}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Subtotal:"})," ",d(n)]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Tax:"})," ",d(o)]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Total:"})," ",d(i)]})]})]})]})]}),!p.isFirstPage&&r.jsxs("div",{className:"mb-4 text-center text-xs text-gray-500",children:["Page ",p.pageNumber," of ",p.totalPages," (continued)"]}),r.jsxs("section",{style:{flexGrow:1,marginBottom:"12px"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"text-sm font-semibold",style:{color:e.colors.primary},children:["Items ",p.totalPages>1?`(Page ${p.pageNumber} of ${p.totalPages})`:""]}),p.totalPages>1&&r.jsx(Fp,{start:p.itemsRange.start,end:p.itemsRange.end,total:t.items.length})]}),r.jsx("div",{className:"border-2 rounded-lg overflow-hidden",style:{borderColor:e.colors.primary},children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:e.colors.primary,color:"#fff"},children:[r.jsx("th",{className:"text-left py-3 px-4 font-bold text-sm border-r",style:{borderColor:"#fff"},children:"Description"}),r.jsx("th",{className:"text-center py-3 px-4 font-bold text-sm border-r",style:{borderColor:"#fff"},children:"Qty"}),r.jsx("th",{className:"text-right py-3 px-4 font-bold text-sm border-r",style:{borderColor:"#fff"},children:"Rate"}),r.jsx("th",{className:"text-right py-3 px-4 font-bold text-sm",children:"Amount"})]})}),r.jsx("tbody",{children:p.items.map((b,w)=>r.jsxs("tr",{style:{backgroundColor:w%2?"#f8f9fa":"white"},children:[r.jsxs("td",{className:"py-3 px-4 text-sm border-r",style:{borderColor:e.colors.secondary+"30"},children:[r.jsx("div",{className:"font-medium",children:b.description}),b.itemDescription&&r.jsx("div",{className:"text-xs mt-1 opacity-75",style:{color:e.colors.secondary},children:b.itemDescription})]}),r.jsx("td",{className:"py-3 px-4 text-center text-sm border-r",style:{borderColor:e.colors.secondary+"30"},children:b.quantity}),r.jsx("td",{className:"py-3 px-4 text-right text-sm border-r",style:{borderColor:e.colors.secondary+"30"},children:d(b.rate)}),r.jsx("td",{className:"py-3 px-4 text-right text-sm font-bold",style:{borderColor:e.colors.secondary+"30"},children:d(b.amount)})]},b.id))})]})}),!p.isLastPage&&r.jsx("div",{className:"text-xs text-gray-500 italic mt-2 text-right",children:"Continued on next page..."})]}),p.isLastPage&&!h&&r.jsx("section",{className:"mb-4 flex justify-end",children:r.jsxs("div",{className:"w-full max-w-xs",children:[r.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:d(n)})]}),t.taxRate>0&&r.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[r.jsxs("span",{children:[l==="USD"?"GST":"Tax"," ",t.taxRate,"%:"]}),r.jsx("span",{children:d(o)})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["- ",d(t.discount)]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t-2",style:{borderColor:e.colors.accent},children:[r.jsx("div",{className:"text-base font-bold",style:{color:e.colors.primary},children:"Total:"}),r.jsx("div",{className:"text-xl font-extrabold",style:{color:e.colors.accent},children:d(i)})]})]})}),p.isLastPage&&!h&&r.jsx("div",{style:{marginTop:"auto",marginBottom:"5mm",flexShrink:0},children:r.jsx(m,{})})]}),!p.isLastPage&&r.jsx(QA,{})]},p.pageNumber)),h&&r.jsxs(r.Fragment,{children:[r.jsx(QA,{}),r.jsxs("div",{style:{width:"210mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:`${e.fonts.primary}, 'Helvetica Neue', Arial, sans-serif`,border:"none",borderRadius:"0px",boxSizing:"border-box",position:"relative",boxShadow:"none",margin:"0mm",padding:"12mm",paddingTop:"10mm",paddingBottom:"12mm",overflow:"visible",display:"flex",flexDirection:"column",minHeight:"297mm",height:"297mm",maxHeight:"297mm"},className:"print-invoice",children:[r.jsxs("div",{className:"mb-4 text-center text-xs text-gray-500",style:{flex:"none"},children:["Page ",u.length+1," of ",u.length+1," - Invoice Summary"]}),r.jsx("section",{style:{marginBottom:"12px",flex:"none",display:"flex",justifyContent:"flex-end"},children:r.jsxs("div",{className:"w-full max-w-xs",children:[r.jsxs("div",{className:"flex justify-between py-0.5 text-xs",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:d(n)})]}),t.taxRate>0&&r.jsxs("div",{className:"flex justify-between py-0.5 text-xs",children:[r.jsxs("span",{children:[l==="USD"?"GST":"Tax"," ",t.taxRate,"%:"]}),r.jsx("span",{children:d(o)})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between py-0.5 text-xs",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["- ",d(t.discount)]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1 pt-1 border-t-2",style:{borderColor:e.colors.accent},children:[r.jsx("div",{className:"text-sm font-bold",style:{color:e.colors.primary},children:"Total:"}),r.jsx("div",{className:"text-lg font-extrabold",style:{color:e.colors.accent},children:d(i)})]})]})}),r.jsx("div",{style:{marginTop:"auto",marginBottom:"5mm",flexShrink:0},children:r.jsx(m,{})})]})]})]})}function fI({data:t,template:e,brandLogos:s=[]}){const n=t.items.reduce((u,h)=>u+h.amount,0),o=n*(t.taxRate/100),i=n+o-t.discount,l=u=>{const h={backgroundColor:u.style?.bgColor,color:u.style?.textColor,textAlign:u.style?.align,padding:u.style?.padding,border:u.style?.border,fontSize:u.style?.fontSize,fontWeight:u.style?.fontWeight,display:u.type==="container"?"flex":void 0,flexDirection:u.style?.direction,gap:u.style?.gap};switch(u.type){case"container":return r.jsx("div",{style:h,children:u.children?.map(m=>l(m))},u.id);case"text":return r.jsx("div",{style:h,children:u.props?.content||""},u.id);case"logo":return e.layout.showLogo&&t.company.logo?r.jsx("img",{src:t.company.logo,alt:"Logo",style:{height:48,...h}},u.id):null;case"company":return r.jsxs("div",{style:h,children:[r.jsx("div",{className:"font-bold",style:{color:e.colors.primary},children:t.company.name}),r.jsx("div",{children:t.company.address}),r.jsxs("div",{children:[t.company.city,", ",t.company.state," ",t.company.zip]}),r.jsxs("div",{children:[t.company.phone," • ",t.company.email]})]},u.id);case"customer":return r.jsxs("div",{style:h,children:[r.jsx("div",{className:"font-bold",style:{color:e.colors.primary},children:"Bill To"}),r.jsx("div",{children:t.customer.name}),r.jsx("div",{children:t.customer.address}),r.jsxs("div",{children:[t.customer.city,", ",t.customer.state," ",t.customer.zip]})]},u.id);case"items":return r.jsxs("table",{className:"w-full border-collapse",style:h,children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:e.colors.primary,color:"#fff"},children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Description"}),r.jsx("th",{className:"text-right py-3 px-4",children:"Qty"}),r.jsx("th",{className:"text-right py-3 px-4",children:"Rate"}),r.jsx("th",{className:"text-right py-3 px-4",children:"Amount"})]})}),r.jsx("tbody",{children:t.items.map((m,p)=>r.jsxs("tr",{style:{backgroundColor:p%2?"#00000005":"transparent"},children:[r.jsx("td",{className:"py-3 px-4",style:{borderBottom:`1px solid ${e.colors.secondary}30`},children:m.description}),r.jsx("td",{className:"py-3 px-4 text-right",style:{borderBottom:`1px solid ${e.colors.secondary}30`},children:m.quantity}),r.jsxs("td",{className:"py-3 px-4 text-right",style:{borderBottom:`1px solid ${e.colors.secondary}30`},children:["$",m.rate.toFixed(2)]}),r.jsxs("td",{className:"py-3 px-4 text-right",style:{borderBottom:`1px solid ${e.colors.secondary}30`},children:["$",m.amount.toFixed(2)]})]},m.id))})]},u.id);case"totals":return r.jsxs("div",{style:{maxWidth:360,marginLeft:"auto",...h},children:[r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",n.toFixed(2)]})]}),t.taxRate>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsxs("span",{children:["Tax (",t.taxRate,"%)"]}),r.jsxs("span",{children:["$",o.toFixed(2)]})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["- $",t.discount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t-2",style:{borderColor:e.colors.primary},children:[r.jsx("div",{className:"text-lg font-bold",style:{color:e.colors.accent},children:"Total"}),r.jsxs("div",{className:"text-2xl font-extrabold",children:["$",i.toFixed(2)]})]})]},u.id);case"notes":return t.notes?r.jsxs("div",{style:h,children:[r.jsx("div",{className:"font-semibold mb-1",style:{color:e.colors.primary},children:"Notes"}),r.jsx("div",{className:"text-sm",children:t.notes})]},u.id):null;case"terms":return t.terms?r.jsxs("div",{style:h,children:[r.jsx("div",{className:"font-semibold mb-1",style:{color:e.colors.primary},children:"Terms"}),r.jsx("div",{className:"text-sm",children:t.terms})]},u.id):null;case"divider":return r.jsx("hr",{style:{borderColor:e.colors.secondary,...h}},u.id);case"spacer":return r.jsx("div",{style:{height:u.props?.height||16,...h}},u.id);case"brandLogos":return s.length?r.jsx("div",{className:"flex items-center gap-3",style:h,children:s.map((m,p)=>r.jsx("img",{src:m,alt:`Brand ${p+1}`,className:"h-6 w-auto object-contain opacity-80"},p))},u.id):null;default:return null}},d=e.customSchema||{nodes:[]};return r.jsx("div",{className:"p-10",style:{width:"210mm",minHeight:"297mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:`${e.fonts.primary}, 'Helvetica Neue', Arial, sans-serif`},children:d.nodes.map(u=>l(u))})}function hI({data:t,template:e}){const s=t.items.reduce((d,u)=>d+u.amount,0),n=s*(t.discount/100),o=s-n,i=o*(t.taxRate/100),l=o+i;return r.jsxs("div",{className:"p-8 relative",style:{width:"210mm",minHeight:"297mm",backgroundColor:e.colors.background,color:e.colors.text,fontFamily:`${e.fonts.primary}, 'Helvetica Neue', Arial, sans-serif`},children:[r.jsxs("div",{className:"mb-8",children:[e.layout.showLogo&&t.company.logo&&r.jsx("div",{className:"mb-3",children:r.jsx("img",{src:t.company.logo,alt:"Company Logo",style:{maxHeight:48}})}),e.id==="dark-premium"&&r.jsxs("div",{className:"w-full h-24 rounded mb-4 flex items-center justify-between px-6",style:{background:e.colors.text,color:"white"},children:[r.jsx("div",{className:"text-xl font-extrabold tracking-wide",children:t.company.name}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm opacity-80",children:"INVOICE"}),r.jsxs("div",{className:"text-xs",children:["No: ",t.invoiceNumber]})]})]}),e.id==="minimal-pink"&&r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold mb-1",style:{color:e.colors.primary},children:t.company.name}),r.jsx("div",{className:"h-1 w-20 rounded",style:{backgroundColor:e.colors.accent}})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm px-3 py-1 rounded-full",style:{backgroundColor:`${e.colors.primary}10`,color:e.colors.primary},children:"INVOICE"}),r.jsxs("div",{className:"text-xs mt-1",style:{color:e.colors.secondary},children:["No: ",t.invoiceNumber]})]})]}),e.id==="orange-clean"&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded",style:{backgroundColor:e.colors.accent}}),r.jsx("div",{className:"text-xl font-bold",style:{color:e.colors.text},children:t.company.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-extrabold",style:{color:e.colors.primary},children:"INVOICE"}),r.jsxs("div",{className:"text-xs",style:{color:e.colors.secondary},children:["#",t.invoiceNumber]})]})]}),e.id==="tropical-borders"&&r.jsx("div",{className:"relative p-4 rounded-md",style:{border:`2px dashed ${e.colors.accent}`},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-xl font-bold",style:{color:e.colors.primary},children:t.company.name}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm font-semibold",style:{color:e.colors.accent},children:"INVOICE"}),r.jsxs("div",{className:"text-xs",style:{color:e.colors.secondary},children:["No: ",t.invoiceNumber]})]})]})}),e.id==="qr-modern"&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-xl font-bold",style:{color:e.colors.text},children:t.company.name}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm font-semibold",style:{color:e.colors.primary},children:"INVOICE"}),r.jsxs("div",{className:"text-xs",style:{color:e.colors.secondary},children:["No: ",t.invoiceNumber]})]}),r.jsx("div",{className:"w-10 h-10 rounded border-2 border-dashed",style:{borderColor:e.colors.secondary}})]})]}),e.id==="coaching-elegant"&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-extrabold tracking-wide",style:{color:e.colors.primary},children:t.company.name}),r.jsx("div",{className:"text-[10px] uppercase tracking-widest",style:{color:e.colors.secondary},children:"Coaching & Consulting"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"inline-block px-3 py-1 rounded bg-black/5 text-xs font-semibold",style:{color:e.colors.primary},children:"INVOICE"}),r.jsxs("div",{className:"text-xs mt-1",style:{color:e.colors.secondary},children:["No: ",t.invoiceNumber]})]})]}),e.id==="leaf-luxury"&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full",style:{backgroundColor:e.colors.accent}}),r.jsx("div",{className:"text-xl font-semibold",style:{color:e.colors.text},children:t.company.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm",style:{color:e.colors.primary},children:"INVOICE"}),r.jsxs("div",{className:"text-xs",style:{color:e.colors.secondary},children:["No: ",t.invoiceNumber]})]})]}),!["dark-premium","minimal-pink","orange-clean","tropical-borders","qr-modern","coaching-elegant","leaf-luxury"].includes(e.id)&&r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-extrabold mb-1 tracking-tight",style:{color:e.colors.primary},children:t.company.name}),r.jsx("div",{className:"text-xs uppercase tracking-widest mb-2",style:{color:e.colors.secondary},children:"Official Invoice"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"inline-block px-3 py-1 rounded-full text-white text-sm font-semibold mb-2",style:{backgroundColor:e.colors.primary},children:"INVOICE"}),r.jsx("div",{className:"space-y-1 text-sm",style:{color:e.colors.text},children:r.jsxs("p",{children:[r.jsx("strong",{children:"No:"})," ",t.invoiceNumber]})})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:e.colors.primary},children:"Bill To:"}),r.jsxs("div",{style:{color:e.colors.text},children:[r.jsx("p",{className:"font-semibold",children:t.customer.name}),r.jsx("p",{children:t.customer.address}),r.jsxs("p",{children:[t.customer.city,", ",t.customer.state," ",t.customer.zip]}),t.customer.phone&&r.jsx("p",{children:t.customer.phone}),t.customer.email&&r.jsx("p",{children:t.customer.email})]})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("table",{className:"w-full border-collapse",style:{border:`1px solid ${e.colors.primary}`},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:e.colors.primary,color:"white"},children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Description"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Qty"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Rate"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Amount"})]})}),r.jsx("tbody",{children:t.items.map((d,u)=>r.jsxs("tr",{style:{backgroundColor:u%2===0?"transparent":`${e.colors.primary}05`,borderBottom:`1px solid ${e.colors.secondary}30`},children:[r.jsx("td",{className:"py-3 px-4",style:{color:e.colors.text},children:d.description}),r.jsx("td",{className:"py-3 px-4 text-right",style:{color:e.colors.text},children:d.quantity}),r.jsxs("td",{className:"py-3 px-4 text-right",style:{color:e.colors.text},children:["$",d.rate.toFixed(2)]}),r.jsxs("td",{className:"py-3 px-4 text-right",style:{color:e.colors.text},children:["$",d.amount.toFixed(2)]})]},d.id))})]})}),r.jsx("div",{className:"flex justify-end mb-8",children:r.jsx("div",{className:"w-80",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",style:{color:e.colors.text},children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["$",s.toFixed(2)]})]}),t.taxRate>0&&r.jsxs("div",{className:"flex justify-between",style:{color:e.colors.text},children:[r.jsxs("span",{children:["Tax (",t.taxRate,"%):"]}),r.jsxs("span",{children:["$",i.toFixed(2)]})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between",style:{color:e.colors.text},children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["-$",t.discount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t-2",style:{color:e.colors.accent,borderColor:e.colors.primary},children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["$",l.toFixed(2)]})]}),t.paidAmount!==void 0&&t.paidAmount>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-lg font-semibold pt-2",style:{color:"#10b981"},children:[r.jsx("span",{children:"Paid:"}),r.jsxs("span",{children:["-$",t.paidAmount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t-2",style:{color:t.balance&&t.balance>0?"#f59e0b":"#10b981",borderColor:e.colors.primary},children:[r.jsx("span",{children:"Balance Due:"}),r.jsxs("span",{children:["$",(t.balance||0).toFixed(2)]})]})]})]})})}),r.jsxs("div",{className:"mt-8 pt-4 border-t-2",style:{borderColor:e.colors.primary},children:[e.id==="dark-premium"&&r.jsxs("div",{className:"grid grid-cols-3 gap-6 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1",style:{color:e.colors.primary},children:"Contacts"}),r.jsx("div",{style:{color:e.colors.text},children:t.company.email}),r.jsx("div",{style:{color:e.colors.text},children:t.company.phone})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1",style:{color:e.colors.primary},children:"Billing Address"}),r.jsx("div",{style:{color:e.colors.text},children:t.company.address})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"border-t-2 pt-2 inline-block px-6",style:{borderColor:e.colors.primary},children:r.jsx("div",{className:"text-xs",style:{color:e.colors.text},children:"Authorized Signature"})})})]}),e.id==="minimal-pink"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs mb-2",style:{color:e.colors.secondary},children:t.notes||"We appreciate your business."}),r.jsx("div",{className:"inline-block px-3 py-1 rounded-full text-xs",style:{backgroundColor:`${e.colors.accent}22`,color:e.colors.primary},children:"Thank you"})]}),e.id==="orange-clean"&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",style:{color:e.colors.primary},children:"Payment"}),r.jsxs("div",{style:{color:e.colors.text},children:["Paypal: ",t.company.email]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-xs",style:{color:e.colors.secondary},children:["Terms: ",t.terms||"Due upon receipt"]})})]}),e.id==="tropical-borders"&&r.jsx("div",{className:"relative p-4 rounded",style:{border:`1px dashed ${e.colors.accent}`},children:r.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1",style:{color:e.colors.accent},children:"Notes"}),r.jsx("div",{style:{color:e.colors.text},children:t.notes||"Thank you!"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-xs",style:{color:e.colors.secondary},children:["Due: ",new Date(t.dueDate).toLocaleDateString()]})})]})}),e.id==="qr-modern"&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-xs",style:{color:e.colors.text},children:"Scan to pay"}),r.jsx("div",{className:"w-12 h-12 rounded border-2 border-dashed",style:{borderColor:e.colors.secondary}})]}),e.id==="coaching-elegant"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs mb-2",style:{color:e.colors.secondary},children:"Coaching that transforms"}),r.jsx("div",{className:"text-xs",style:{color:e.colors.text},children:t.terms||"Payment due within 7 days"})]}),e.id==="leaf-luxury"&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.colors.accent}}),r.jsx("div",{style:{color:e.colors.text},children:t.company.address})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"text-xs",style:{color:e.colors.secondary},children:"Thank you for your trust"})})]}),!["dark-premium","minimal-pink","orange-clean","tropical-borders","qr-modern","coaching-elegant","leaf-luxury"].includes(e.id)&&r.jsx("div",{className:"text-center text-xs",children:r.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${e.colors.primary}10`,color:e.colors.primary},children:"Thank you for your business"})})]})]})}function mI({data:t,template:e,brandLogos:s,className:n}){if(e.customSchema)return r.jsx("div",{className:n,children:r.jsx(fI,{data:t,template:e,brandLogos:s})});const i={"classic-header":eI,"wave-design":tI,"gradient-modern":sI,"pro-corporate":oI,"modern-stripe":iI,"minimal-outline":lI,"elegant-dark":cI,"classic-column":uI}[e.id]||hI;return r.jsx("div",{className:n,children:r.jsx(i,{data:t,template:e,brandLogos:s})})}function T1({data:t,template:e,brandLogos:s=[],className:n=""}){return r.jsx(mI,{data:t,template:e,brandLogos:s,className:n})}const gI={id:"pro-corporate",name:"Pro Corporate",description:"Clean corporate with balanced header and easy-to-scan table",preview:"pro-corporate-preview",colors:{primary:"#0f172a",secondary:"#475569",accent:"#0ea5e9",background:"#ffffff",text:"#0f172a"},layout:{headerStyle:"classic",showLogo:!0,showBorder:!0,itemTableStyle:"detailed",footerStyle:"detailed"},fonts:{primary:"Inter",secondary:"Inter",size:"medium"}},M1=()=>r.jsxs("div",{className:"w-full h-32 bg-white rounded-lg relative overflow-hidden border border-gray-200",children:[r.jsxs("div",{className:"absolute top-0 left-0 right-0 h-10 bg-slate-900 text-white flex items-center justify-between px-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-white/10 rounded"}),r.jsx("div",{className:"text-xs font-semibold tracking-wide",children:"YOUR COMPANY"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[10px] font-bold",children:"INVOICE"}),r.jsx("div",{className:"text-[7px] opacity-80",children:"INV-2024-001"})]})]}),r.jsxs("div",{className:"absolute top-10 left-3 right-3 bottom-2",children:[r.jsxs("div",{className:"flex justify-between text-[7px] text-slate-600 mb-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"uppercase font-semibold text-slate-900",children:"Bill To"}),r.jsx("div",{children:"Client Name Inc."})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{children:"Date: Jan 15, 2024"}),r.jsx("div",{children:"Due: Feb 15, 2024"})]})]}),r.jsxs("div",{className:"border-t border-slate-200 pt-1",children:[r.jsxs("div",{className:"flex justify-between text-[6px] text-slate-500 uppercase",children:[r.jsx("span",{children:"Description"}),r.jsx("span",{children:"Amount"})]}),r.jsxs("div",{className:"flex justify-between text-[7px]",children:[r.jsx("span",{className:"text-slate-800",children:"Professional Web Design"}),r.jsx("span",{className:"font-medium text-slate-900",children:"$2,500.00"})]})]})]})]}),pI={id:"modern-stripe",name:"Modern Stripe",description:"Accent stripe with structured content and modern typography",preview:"modern-stripe-preview",colors:{primary:"#2563eb",secondary:"#1d4ed8",accent:"#22c55e",background:"#ffffff",text:"#0f172a"},layout:{headerStyle:"modern",showLogo:!0,showBorder:!1,itemTableStyle:"modern",footerStyle:"minimal"},fonts:{primary:"Inter",secondary:"Inter",size:"medium"}},xI=()=>r.jsxs("div",{className:"w-full h-32 bg-white rounded-lg relative overflow-hidden border border-gray-200",children:[r.jsx("div",{className:"absolute top-0 right-0 w-20 h-full bg-gradient-to-b from-blue-500 to-blue-700"}),r.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2",children:[r.jsx("div",{className:"w-7 h-7 rounded bg-blue-600/10"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-semibold text-slate-900",children:"MODERN INC"}),r.jsx("div",{className:"text-[7px] text-slate-500",children:"innovate • deliver"})]})]}),r.jsxs("div",{className:"absolute top-3 right-24 text-right",children:[r.jsx("div",{className:"text-[10px] font-bold text-blue-700",children:"INVOICE"}),r.jsx("div",{className:"text-[7px] text-slate-600",children:"#2024-001"})]}),r.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex justify-between text-[7px] text-slate-700",children:[r.jsxs("div",{children:[r.jsx("div",{className:"uppercase text-[6px] text-slate-500",children:"Bill To"}),r.jsx("div",{children:"Client Name"})]}),r.jsxs("div",{className:"text-right bg-blue-50 border border-blue-200 rounded px-2 py-1",children:[r.jsx("div",{className:"text-[6px] text-blue-700 uppercase",children:"Total"}),r.jsx("div",{className:"text-sm font-semibold text-blue-800",children:"$4,500.00"})]})]})]}),vI={id:"minimal-outline",name:"Minimal Outline",description:"Sparse lines, airy spacing, and excellent readability",preview:"minimal-outline-preview",colors:{primary:"#111827",secondary:"#6b7280",accent:"#14b8a6",background:"#ffffff",text:"#111827"},layout:{headerStyle:"minimal",showLogo:!0,showBorder:!0,itemTableStyle:"simple",footerStyle:"minimal"},fonts:{primary:"Inter",secondary:"Inter",size:"medium"}},yI=()=>r.jsxs("div",{className:"w-full h-32 bg-white rounded-lg relative overflow-hidden border border-gray-300",children:[r.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 border border-gray-400"}),r.jsx("div",{className:"text-xs font-semibold text-slate-900",children:"COMPANY"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[10px] font-bold text-slate-900",children:"INVOICE"}),r.jsx("div",{className:"text-[7px] text-slate-500",children:"#2024-001"})]})]}),r.jsxs("div",{className:"absolute bottom-2 left-2 right-2 grid grid-cols-2 gap-2",children:[r.jsxs("div",{className:"border border-gray-300 p-1",children:[r.jsx("div",{className:"text-[6px] text-gray-500 uppercase",children:"Bill To"}),r.jsx("div",{className:"text-[7px] text-gray-800",children:"Client Name"})]}),r.jsxs("div",{className:"border border-gray-300 p-1 text-right",children:[r.jsx("div",{className:"text-[6px] text-gray-500 uppercase",children:"Total"}),r.jsx("div",{className:"text-sm font-semibold text-emerald-600",children:"$1,200.00"})]})]})]}),bI={id:"elegant-dark",name:"Elegant Dark",description:"Premium dark header with gold accents and clear totals",preview:"elegant-dark-preview",colors:{primary:"#111827",secondary:"#374151",accent:"#f59e0b",background:"#fafafa",text:"#111827"},layout:{headerStyle:"premium",showLogo:!0,showBorder:!0,itemTableStyle:"detailed",footerStyle:"detailed"},fonts:{primary:"Inter",secondary:"Inter",size:"medium"}},wI=()=>r.jsxs("div",{className:"w-full h-32 bg-white rounded-lg relative overflow-hidden border border-gray-200",children:[r.jsxs("div",{className:"absolute top-0 left-0 right-0 h-10 bg-gray-900 text-white flex items-center justify-between px-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-white/10"}),r.jsx("div",{className:"text-xs font-semibold tracking-wide",children:"PREMIUM CO"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[10px] font-bold text-amber-400",children:"INVOICE"}),r.jsx("div",{className:"text-[7px] text-gray-300",children:"#2024-001"})]})]}),r.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex justify-between items-end",children:[r.jsxs("div",{className:"text-[7px] text-gray-700",children:[r.jsx("div",{className:"uppercase text-[6px] text-amber-600",children:"Bill To"}),r.jsx("div",{children:"Client Name"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[6px] text-gray-500 uppercase",children:"Total"}),r.jsx("div",{className:"text-base font-semibold text-amber-600",children:"$7,250.00"})]})]})]}),BI={id:"classic-column",name:"Classic Column",description:"Left column for company + client, right column totals",preview:"classic-column-preview",colors:{primary:"#1f2937",secondary:"#6b7280",accent:"#ef4444",background:"#ffffff",text:"#111827"},layout:{headerStyle:"classic",showLogo:!0,showBorder:!0,itemTableStyle:"detailed",footerStyle:"minimal"},fonts:{primary:"Inter",secondary:"Inter",size:"medium"}},CI=()=>r.jsxs("div",{className:"w-full h-32 bg-white rounded-lg relative overflow-hidden border border-gray-200",children:[r.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-900/10 rounded"}),r.jsx("div",{className:"text-xs font-semibold text-gray-900",children:"INVOICE"})]}),r.jsxs("div",{className:"text-right text-[7px] text-gray-600",children:[r.jsx("div",{children:"#2024-001"}),r.jsx("div",{children:"Jan 15, 2024"})]})]}),r.jsxs("div",{className:"absolute bottom-2 left-2 right-2 grid grid-cols-3 gap-2",children:[r.jsxs("div",{className:"col-span-2 text-[7px] text-gray-700",children:[r.jsx("div",{className:"uppercase text-[6px] text-gray-500",children:"From"}),r.jsx("div",{children:"Your Company, 123 Business St"}),r.jsx("div",{className:"uppercase text-[6px] text-gray-500 mt-1",children:"To"}),r.jsx("div",{children:"Client Name, 456 Client Ave"})]}),r.jsxs("div",{className:"text-right bg-gray-50 border border-gray-200 rounded p-1",children:[r.jsx("div",{className:"text-[6px] text-gray-600 uppercase",children:"Total"}),r.jsx("div",{className:"text-base font-semibold text-red-600",children:"$3,750.00"})]})]})]}),Ba=[gI,pI,vI,bI,BI];/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cg=function(t,e){return Cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,n){s.__proto__=n}||function(s,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])},Cg(t,e)};function Or(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cg(t,e);function s(){this.constructor=t}t.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var jg=function(){return jg=Object.assign||function(e){for(var s,n=1,o=arguments.length;n<o;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},jg.apply(this,arguments)};function _s(t,e,s,n){function o(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function d(m){try{h(n.next(m))}catch(p){l(p)}}function u(m){try{h(n.throw(m))}catch(p){l(p)}}function h(m){m.done?i(m.value):o(m.value).then(d,u)}h((n=n.apply(t,[])).next())})}function Ds(t,e){var s={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(h){return function(m){return u([h,m])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=h[0]&2?o.return:h[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,h[1])).done)return i;switch(o=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,o=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){s=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){s.label=h[1];break}if(h[0]===6&&s.label<i[1]){s.label=i[1],i=h;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(h);break}i[2]&&s.ops.pop(),s.trys.pop();continue}h=e.call(t,s)}catch(m){h=[6,m],o=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function dd(t,e,s){if(arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var Ln=(function(){function t(e,s,n,o){this.left=e,this.top=s,this.width=n,this.height=o}return t.prototype.add=function(e,s,n,o){return new t(this.left+e,this.top+s,this.width+n,this.height+o)},t.fromClientRect=function(e,s){return new t(s.left+e.windowBounds.left,s.top+e.windowBounds.top,s.width,s.height)},t.fromDOMRectList=function(e,s){var n=Array.from(s).find(function(o){return o.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),Fu=function(t,e){return Ln.fromClientRect(t,e.getBoundingClientRect())},jI=function(t){var e=t.body,s=t.documentElement;if(!e||!s)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,s.scrollWidth),Math.max(e.offsetWidth,s.offsetWidth),Math.max(e.clientWidth,s.clientWidth)),o=Math.max(Math.max(e.scrollHeight,s.scrollHeight),Math.max(e.offsetHeight,s.offsetHeight),Math.max(e.clientHeight,s.clientHeight));return new Ln(0,0,n,o)},Uu=function(t){for(var e=[],s=0,n=t.length;s<n;){var o=t.charCodeAt(s++);if(o>=55296&&o<=56319&&s<n){var i=t.charCodeAt(s++);(i&64512)===56320?e.push(((o&1023)<<10)+(i&1023)+65536):(e.push(o),s--)}else e.push(o)}return e},es=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var s=t.length;if(!s)return"";for(var n=[],o=-1,i="";++o<s;){var l=t[o];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(o+1===s||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},fw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",NI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ud=0;ud<fw.length;ud++)NI[fw.charCodeAt(ud)]=ud;var hw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$i=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fd=0;fd<hw.length;fd++)$i[hw.charCodeAt(fd)]=fd;var SI=function(t){var e=t.length*.75,s=t.length,n,o=0,i,l,d,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<s;n+=4)i=$i[t.charCodeAt(n)],l=$i[t.charCodeAt(n+1)],d=$i[t.charCodeAt(n+2)],u=$i[t.charCodeAt(n+3)],m[o++]=i<<2|l>>4,m[o++]=(l&15)<<4|d>>2,m[o++]=(d&3)<<6|u&63;return h},QI=function(t){for(var e=t.length,s=[],n=0;n<e;n+=2)s.push(t[n+1]<<8|t[n]);return s},EI=function(t){for(var e=t.length,s=[],n=0;n<e;n+=4)s.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return s},fo=5,Up=11,ym=2,FI=Up-fo,H1=65536>>fo,UI=1<<fo,bm=UI-1,kI=1024>>fo,DI=H1+kI,II=DI,RI=32,TI=II+RI,MI=65536>>Up,HI=1<<FI,LI=HI-1,mw=function(t,e,s){return t.slice?t.slice(e,s):new Uint16Array(Array.prototype.slice.call(t,e,s))},_I=function(t,e,s){return t.slice?t.slice(e,s):new Uint32Array(Array.prototype.slice.call(t,e,s))},OI=function(t,e){var s=SI(t),n=Array.isArray(s)?EI(s):new Uint32Array(s),o=Array.isArray(s)?QI(s):new Uint16Array(s),i=24,l=mw(o,i/2,n[4]/2),d=n[5]===2?mw(o,(i+n[4])/2):_I(n,Math.ceil((i+n[4])/4));return new PI(n[0],n[1],n[2],n[3],l,d)},PI=(function(){function t(e,s,n,o,i,l){this.initialValue=e,this.errorValue=s,this.highStart=n,this.highValueIndex=o,this.index=i,this.data=l}return t.prototype.get=function(e){var s;if(e>=0){if(e<55296||e>56319&&e<=65535)return s=this.index[e>>fo],s=(s<<ym)+(e&bm),this.data[s];if(e<=65535)return s=this.index[H1+(e-55296>>fo)],s=(s<<ym)+(e&bm),this.data[s];if(e<this.highStart)return s=TI-MI+(e>>Up),s=this.index[s],s+=e>>fo&LI,s=this.index[s],s=(s<<ym)+(e&bm),this.data[s];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),gw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hd=0;hd<gw.length;hd++)KI[gw.charCodeAt(hd)]=hd;var zI="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",pw=50,VI=1,L1=2,_1=3,GI=4,YI=5,xw=7,O1=8,vw=9,Ca=10,Ng=11,yw=12,Sg=13,XI=14,Wi=15,Qg=16,md=17,Oi=18,$I=19,bw=20,Eg=21,Pi=22,wm=23,uA=24,ar=25,qi=26,Zi=27,fA=28,WI=29,io=30,qI=31,gd=32,pd=33,Fg=34,Ug=35,kg=36,Bl=37,Dg=38,Pd=39,Kd=40,Bm=41,P1=42,ZI=43,JI=[9001,65288],K1="!",Ye="×",xd="÷",Ig=OI(zI),Cn=[io,kg],Rg=[VI,L1,_1,YI],z1=[Ca,O1],ww=[Zi,qi],eR=Rg.concat(z1),Bw=[Dg,Pd,Kd,Fg,Ug],tR=[Wi,Sg],sR=function(t,e){e===void 0&&(e="strict");var s=[],n=[],o=[];return t.forEach(function(i,l){var d=Ig.get(i);if(d>pw?(o.push(!0),d-=pw):o.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(l),s.push(Qg);if(d===GI||d===Ng){if(l===0)return n.push(l),s.push(io);var u=s[l-1];return eR.indexOf(u)===-1?(n.push(n[l-1]),s.push(u)):(n.push(l),s.push(io))}if(n.push(l),d===qI)return s.push(e==="strict"?Eg:Bl);if(d===P1||d===WI)return s.push(io);if(d===ZI)return i>=131072&&i<=196605||i>=196608&&i<=262141?s.push(Bl):s.push(io);s.push(d)}),[n,s,o]},Cm=function(t,e,s,n){var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var i=s;i<=n.length;){i++;var l=n[i];if(l===e)return!0;if(l!==Ca)break}if(o===Ca)for(var i=s;i>0;){i--;var d=n[i];if(Array.isArray(t)?t.indexOf(d)!==-1:t===d)for(var u=s;u<=n.length;){u++;var l=n[u];if(l===e)return!0;if(l!==Ca)break}if(d!==Ca)break}return!1},Cw=function(t,e){for(var s=t;s>=0;){var n=e[s];if(n===Ca)s--;else return n}return 0},rR=function(t,e,s,n,o){if(s[n]===0)return Ye;var i=n-1;if(Array.isArray(o)&&o[i]===!0)return Ye;var l=i-1,d=i+1,u=e[i],h=l>=0?e[l]:0,m=e[d];if(u===L1&&m===_1)return Ye;if(Rg.indexOf(u)!==-1)return K1;if(Rg.indexOf(m)!==-1||z1.indexOf(m)!==-1)return Ye;if(Cw(i,e)===O1)return xd;if(Ig.get(t[i])===Ng||(u===gd||u===pd)&&Ig.get(t[d])===Ng||u===xw||m===xw||u===vw||[Ca,Sg,Wi].indexOf(u)===-1&&m===vw||[md,Oi,$I,uA,fA].indexOf(m)!==-1||Cw(i,e)===Pi||Cm(wm,Pi,i,e)||Cm([md,Oi],Eg,i,e)||Cm(yw,yw,i,e))return Ye;if(u===Ca)return xd;if(u===wm||m===wm)return Ye;if(m===Qg||u===Qg)return xd;if([Sg,Wi,Eg].indexOf(m)!==-1||u===XI||h===kg&&tR.indexOf(u)!==-1||u===fA&&m===kg||m===bw||Cn.indexOf(m)!==-1&&u===ar||Cn.indexOf(u)!==-1&&m===ar||u===Zi&&[Bl,gd,pd].indexOf(m)!==-1||[Bl,gd,pd].indexOf(u)!==-1&&m===qi||Cn.indexOf(u)!==-1&&ww.indexOf(m)!==-1||ww.indexOf(u)!==-1&&Cn.indexOf(m)!==-1||[Zi,qi].indexOf(u)!==-1&&(m===ar||[Pi,Wi].indexOf(m)!==-1&&e[d+1]===ar)||[Pi,Wi].indexOf(u)!==-1&&m===ar||u===ar&&[ar,fA,uA].indexOf(m)!==-1)return Ye;if([ar,fA,uA,md,Oi].indexOf(m)!==-1)for(var p=i;p>=0;){var v=e[p];if(v===ar)return Ye;if([fA,uA].indexOf(v)!==-1)p--;else break}if([Zi,qi].indexOf(m)!==-1)for(var p=[md,Oi].indexOf(u)!==-1?l:i;p>=0;){var v=e[p];if(v===ar)return Ye;if([fA,uA].indexOf(v)!==-1)p--;else break}if(Dg===u&&[Dg,Pd,Fg,Ug].indexOf(m)!==-1||[Pd,Fg].indexOf(u)!==-1&&[Pd,Kd].indexOf(m)!==-1||[Kd,Ug].indexOf(u)!==-1&&m===Kd||Bw.indexOf(u)!==-1&&[bw,qi].indexOf(m)!==-1||Bw.indexOf(m)!==-1&&u===Zi||Cn.indexOf(u)!==-1&&Cn.indexOf(m)!==-1||u===uA&&Cn.indexOf(m)!==-1||Cn.concat(ar).indexOf(u)!==-1&&m===Pi&&JI.indexOf(t[d])===-1||Cn.concat(ar).indexOf(m)!==-1&&u===Oi)return Ye;if(u===Bm&&m===Bm){for(var b=s[i],w=1;b>0&&(b--,e[b]===Bm);)w++;if(w%2!==0)return Ye}return u===gd&&m===pd?Ye:xd},nR=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var s=sR(t,e.lineBreak),n=s[0],o=s[1],i=s[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(o=o.map(function(d){return[ar,io,P1].indexOf(d)!==-1?Bl:d}));var l=e.wordBreak==="keep-all"?i.map(function(d,u){return d&&t[u]>=19968&&t[u]<=40959}):void 0;return[n,o,l]},aR=(function(){function t(e,s,n,o){this.codePoints=e,this.required=s===K1,this.start=n,this.end=o}return t.prototype.slice=function(){return es.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),oR=function(t,e){var s=Uu(t),n=nR(s,e),o=n[0],i=n[1],l=n[2],d=s.length,u=0,h=0;return{next:function(){if(h>=d)return{done:!0,value:null};for(var m=Ye;h<d&&(m=rR(s,i,o,++h,l))===Ye;);if(m!==Ye||h===d){var p=new aR(s,m,u,h);return u=h,{value:p,done:!1}}return{done:!0,value:null}}}},AR=1,iR=2,Il=4,jw=8,au=10,Nw=47,ol=92,lR=9,cR=32,vd=34,Ki=61,dR=35,uR=36,fR=37,yd=39,bd=40,zi=41,hR=95,Gs=45,mR=33,gR=60,pR=62,xR=64,vR=91,yR=93,bR=61,wR=123,wd=63,BR=125,Sw=124,CR=126,jR=128,Qw=65533,jm=42,co=43,NR=44,SR=58,QR=59,Cl=46,ER=0,FR=8,UR=11,kR=14,DR=31,IR=127,$r=-1,V1=48,G1=97,Y1=101,RR=102,TR=117,MR=122,X1=65,$1=69,W1=70,HR=85,LR=90,Is=function(t){return t>=V1&&t<=57},_R=function(t){return t>=55296&&t<=57343},hA=function(t){return Is(t)||t>=X1&&t<=W1||t>=G1&&t<=RR},OR=function(t){return t>=G1&&t<=MR},PR=function(t){return t>=X1&&t<=LR},KR=function(t){return OR(t)||PR(t)},zR=function(t){return t>=jR},Bd=function(t){return t===au||t===lR||t===cR},ou=function(t){return KR(t)||zR(t)||t===hR},Ew=function(t){return ou(t)||Is(t)||t===Gs},VR=function(t){return t>=ER&&t<=FR||t===UR||t>=kR&&t<=DR||t===IR},ga=function(t,e){return t!==ol?!1:e!==au},Cd=function(t,e,s){return t===Gs?ou(e)||ga(e,s):ou(t)?!0:!!(t===ol&&ga(t,e))},Nm=function(t,e,s){return t===co||t===Gs?Is(e)?!0:e===Cl&&Is(s):Is(t===Cl?e:t)},GR=function(t){var e=0,s=1;(t[e]===co||t[e]===Gs)&&(t[e]===Gs&&(s=-1),e++);for(var n=[];Is(t[e]);)n.push(t[e++]);var o=n.length?parseInt(es.apply(void 0,n),10):0;t[e]===Cl&&e++;for(var i=[];Is(t[e]);)i.push(t[e++]);var l=i.length,d=l?parseInt(es.apply(void 0,i),10):0;(t[e]===$1||t[e]===Y1)&&e++;var u=1;(t[e]===co||t[e]===Gs)&&(t[e]===Gs&&(u=-1),e++);for(var h=[];Is(t[e]);)h.push(t[e++]);var m=h.length?parseInt(es.apply(void 0,h),10):0;return s*(o+d*Math.pow(10,-l))*Math.pow(10,u*m)},YR={type:2},XR={type:3},$R={type:4},WR={type:13},qR={type:8},ZR={type:21},JR={type:9},eT={type:10},tT={type:11},sT={type:12},rT={type:14},jd={type:23},nT={type:1},aT={type:25},oT={type:24},AT={type:26},iT={type:27},lT={type:28},cT={type:29},dT={type:31},Tg={type:32},q1=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Uu(e))},t.prototype.read=function(){for(var e=[],s=this.consumeToken();s!==Tg;)e.push(s),s=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case vd:return this.consumeStringToken(vd);case dR:var s=this.peekCodePoint(0),n=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Ew(s)||ga(n,o)){var i=Cd(s,n,o)?iR:AR,l=this.consumeName();return{type:5,value:l,flags:i}}break;case uR:if(this.peekCodePoint(0)===Ki)return this.consumeCodePoint(),WR;break;case yd:return this.consumeStringToken(yd);case bd:return YR;case zi:return XR;case jm:if(this.peekCodePoint(0)===Ki)return this.consumeCodePoint(),rT;break;case co:if(Nm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case NR:return $R;case Gs:var d=e,u=this.peekCodePoint(0),h=this.peekCodePoint(1);if(Nm(d,u,h))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Cd(d,u,h))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(u===Gs&&h===pR)return this.consumeCodePoint(),this.consumeCodePoint(),oT;break;case Cl:if(Nm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Nw:if(this.peekCodePoint(0)===jm)for(this.consumeCodePoint();;){var m=this.consumeCodePoint();if(m===jm&&(m=this.consumeCodePoint(),m===Nw))return this.consumeToken();if(m===$r)return this.consumeToken()}break;case SR:return AT;case QR:return iT;case gR:if(this.peekCodePoint(0)===mR&&this.peekCodePoint(1)===Gs&&this.peekCodePoint(2)===Gs)return this.consumeCodePoint(),this.consumeCodePoint(),aT;break;case xR:var p=this.peekCodePoint(0),v=this.peekCodePoint(1),b=this.peekCodePoint(2);if(Cd(p,v,b)){var l=this.consumeName();return{type:7,value:l}}break;case vR:return lT;case ol:if(ga(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case yR:return cT;case bR:if(this.peekCodePoint(0)===Ki)return this.consumeCodePoint(),qR;break;case wR:return tT;case BR:return sT;case TR:case HR:var w=this.peekCodePoint(0),B=this.peekCodePoint(1);return w===co&&(hA(B)||B===wd)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Sw:if(this.peekCodePoint(0)===Ki)return this.consumeCodePoint(),JR;if(this.peekCodePoint(0)===Sw)return this.consumeCodePoint(),ZR;break;case CR:if(this.peekCodePoint(0)===Ki)return this.consumeCodePoint(),eT;break;case $r:return Tg}return Bd(e)?(this.consumeWhiteSpace(),dT):Is(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ou(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:es(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],s=this.consumeCodePoint();hA(s)&&e.length<6;)e.push(s),s=this.consumeCodePoint();for(var n=!1;s===wd&&e.length<6;)e.push(s),s=this.consumeCodePoint(),n=!0;if(n){var o=parseInt(es.apply(void 0,e.map(function(u){return u===wd?V1:u})),16),i=parseInt(es.apply(void 0,e.map(function(u){return u===wd?W1:u})),16);return{type:30,start:o,end:i}}var l=parseInt(es.apply(void 0,e),16);if(this.peekCodePoint(0)===Gs&&hA(this.peekCodePoint(1))){this.consumeCodePoint(),s=this.consumeCodePoint();for(var d=[];hA(s)&&d.length<6;)d.push(s),s=this.consumeCodePoint();var i=parseInt(es.apply(void 0,d),16);return{type:30,start:l,end:i}}else return{type:30,start:l,end:l}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===bd?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===bd?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===$r)return{type:22,value:""};var s=this.peekCodePoint(0);if(s===yd||s===vd){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===$r||this.peekCodePoint(0)===zi)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),jd)}for(;;){var o=this.consumeCodePoint();if(o===$r||o===zi)return{type:22,value:es.apply(void 0,e)};if(Bd(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===$r||this.peekCodePoint(0)===zi?(this.consumeCodePoint(),{type:22,value:es.apply(void 0,e)}):(this.consumeBadUrlRemnants(),jd);if(o===vd||o===yd||o===bd||VR(o))return this.consumeBadUrlRemnants(),jd;if(o===ol)if(ga(o,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jd;else e.push(o)}},t.prototype.consumeWhiteSpace=function(){for(;Bd(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===zi||e===$r)return;ga(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var s=5e4,n="";e>0;){var o=Math.min(s,e);n+=es.apply(void 0,this._value.splice(0,o)),e-=o}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var s="",n=0;do{var o=this._value[n];if(o===$r||o===void 0||o===e)return s+=this.consumeStringSlice(n),{type:0,value:s};if(o===au)return this._value.splice(0,n),nT;if(o===ol){var i=this._value[n+1];i!==$r&&i!==void 0&&(i===au?(s+=this.consumeStringSlice(n),n=-1,this._value.shift()):ga(o,i)&&(s+=this.consumeStringSlice(n),s+=es(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],s=Il,n=this.peekCodePoint(0);for((n===co||n===Gs)&&e.push(this.consumeCodePoint());Is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(n===Cl&&Is(o))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),s=jw;Is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),o=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===$1||n===Y1)&&((o===co||o===Gs)&&Is(i)||Is(o)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),s=jw;Is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[GR(e),s]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),s=e[0],n=e[1],o=this.peekCodePoint(0),i=this.peekCodePoint(1),l=this.peekCodePoint(2);if(Cd(o,i,l)){var d=this.consumeName();return{type:15,number:s,flags:n,unit:d}}return o===fR?(this.consumeCodePoint(),{type:16,number:s,flags:n}):{type:17,number:s,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(hA(e)){for(var s=es(e);hA(this.peekCodePoint(0))&&s.length<6;)s+=es(this.consumeCodePoint());Bd(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(s,16);return n===0||_R(n)||n>1114111?Qw:n}return e===$r?Qw:e},t.prototype.consumeName=function(){for(var e="";;){var s=this.consumeCodePoint();if(Ew(s))e+=es(s);else if(ga(s,this.peekCodePoint(0)))e+=es(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(s),e}},t})(),Z1=(function(){function t(e){this._tokens=e}return t.create=function(e){var s=new q1;return s.write(e),new t(s.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var s=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return s;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var s=this.consumeComponentValue();if(s.type===32)return e;e.push(s),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var s={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||fT(n,e))return s;this.reconsumeToken(n),s.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var s={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return s;this.reconsumeToken(n),s.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Tg:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),Rl=function(t){return t.type===15},RA=function(t){return t.type===17},xt=function(t){return t.type===20},uT=function(t){return t.type===0},Mg=function(t,e){return xt(t)&&t.value===e},J1=function(t){return t.type!==31},EA=function(t){return t.type!==31&&t.type!==4},tn=function(t){var e=[],s=[];return t.forEach(function(n){if(n.type===4){if(s.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(s),s=[];return}n.type!==31&&s.push(n)}),s.length&&e.push(s),e},fT=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Ra=function(t){return t.type===17||t.type===15},ns=function(t){return t.type===16||Ra(t)},ej=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Qs={type:17,number:0,flags:Il},kp={type:16,number:50,flags:Il},ja={type:16,number:100,flags:Il},Ji=function(t,e,s){var n=t[0],o=t[1];return[Qt(n,e),Qt(typeof o<"u"?o:n,s)]},Qt=function(t,e){if(t.type===16)return t.number/100*e;if(Rl(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},tj="deg",sj="grad",rj="rad",nj="turn",ku={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case tj:return Math.PI*e.number/180;case sj:return Math.PI/200*e.number;case rj:return e.number;case nj:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},aj=function(t){return t.type===15&&(t.unit===tj||t.unit===sj||t.unit===rj||t.unit===nj)},oj=function(t){var e=t.filter(xt).map(function(s){return s.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Qs,Qs];case"to top":case"bottom":return jr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Qs,ja];case"to right":case"left":return jr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ja,ja];case"to bottom":case"top":return jr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ja,Qs];case"to left":case"right":return jr(270)}return 0},jr=function(t){return Math.PI*t/180},Fa={name:"color",parse:function(t,e){if(e.type===18){var s=hT[e.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return s(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),o=e.value.substring(1,2),i=e.value.substring(2,3);return Na(parseInt(n+n,16),parseInt(o+o,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),o=e.value.substring(1,2),i=e.value.substring(2,3),l=e.value.substring(3,4);return Na(parseInt(n+n,16),parseInt(o+o,16),parseInt(i+i,16),parseInt(l+l,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),o=e.value.substring(2,4),i=e.value.substring(4,6);return Na(parseInt(n,16),parseInt(o,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),o=e.value.substring(2,4),i=e.value.substring(4,6),l=e.value.substring(6,8);return Na(parseInt(n,16),parseInt(o,16),parseInt(i,16),parseInt(l,16)/255)}}if(e.type===20){var d=Tn[e.value.toUpperCase()];if(typeof d<"u")return d}return Tn.TRANSPARENT}},Ua=function(t){return(255&t)===0},vs=function(t){var e=255&t,s=255&t>>8,n=255&t>>16,o=255&t>>24;return e<255?"rgba("+o+","+n+","+s+","+e/255+")":"rgb("+o+","+n+","+s+")"},Na=function(t,e,s,n){return(t<<24|e<<16|s<<8|Math.round(n*255)<<0)>>>0},Fw=function(t,e){if(t.type===17)return t.number;if(t.type===16){var s=e===3?1:255;return e===3?t.number/100*s:Math.round(t.number/100*s)}return 0},Uw=function(t,e){var s=e.filter(EA);if(s.length===3){var n=s.map(Fw),o=n[0],i=n[1],l=n[2];return Na(o,i,l,1)}if(s.length===4){var d=s.map(Fw),o=d[0],i=d[1],l=d[2],u=d[3];return Na(o,i,l,u)}return 0};function Sm(t,e,s){return s<0&&(s+=1),s>=1&&(s-=1),s<1/6?(e-t)*s*6+t:s<1/2?e:s<2/3?(e-t)*6*(2/3-s)+t:t}var kw=function(t,e){var s=e.filter(EA),n=s[0],o=s[1],i=s[2],l=s[3],d=(n.type===17?jr(n.number):ku.parse(t,n))/(Math.PI*2),u=ns(o)?o.number/100:0,h=ns(i)?i.number/100:0,m=typeof l<"u"&&ns(l)?Qt(l,1):1;if(u===0)return Na(h*255,h*255,h*255,1);var p=h<=.5?h*(u+1):h+u-h*u,v=h*2-p,b=Sm(v,p,d+1/3),w=Sm(v,p,d),B=Sm(v,p,d-1/3);return Na(b*255,w*255,B*255,m)},hT={hsl:kw,hsla:kw,rgb:Uw,rgba:Uw},Al=function(t,e){return Fa.parse(t,Z1.create(e).parseComponentValue())},Tn={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},mT={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(s){if(xt(s))switch(s.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gT={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Du=function(t,e){var s=Fa.parse(t,e[0]),n=e[1];return n&&ns(n)?{color:s,stop:n}:{color:s,stop:null}},Dw=function(t,e){var s=t[0],n=t[t.length-1];s.stop===null&&(s.stop=Qs),n.stop===null&&(n.stop=ja);for(var o=[],i=0,l=0;l<t.length;l++){var d=t[l].stop;if(d!==null){var u=Qt(d,e);u>i?o.push(u):o.push(i),i=u}else o.push(null)}for(var h=null,l=0;l<o.length;l++){var m=o[l];if(m===null)h===null&&(h=l);else if(h!==null){for(var p=l-h,v=o[h-1],b=(m-v)/(p+1),w=1;w<=p;w++)o[h+w-1]=b*w;h=null}}return t.map(function(B,C){var j=B.color;return{color:j,stop:Math.max(Math.min(1,o[C]/e),0)}})},pT=function(t,e,s){var n=e/2,o=s/2,i=Qt(t[0],e)-n,l=o-Qt(t[1],s);return(Math.atan2(l,i)+Math.PI*2)%(Math.PI*2)},xT=function(t,e,s){var n=typeof t=="number"?t:pT(t,e,s),o=Math.abs(e*Math.sin(n))+Math.abs(s*Math.cos(n)),i=e/2,l=s/2,d=o/2,u=Math.sin(n-Math.PI/2)*d,h=Math.cos(n-Math.PI/2)*d;return[o,i-h,i+h,l-u,l+u]},Ir=function(t,e){return Math.sqrt(t*t+e*e)},Iw=function(t,e,s,n,o){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(l,d){var u=d[0],h=d[1],m=Ir(s-u,n-h);return(o?m<l.optimumDistance:m>l.optimumDistance)?{optimumCorner:d,optimumDistance:m}:l},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},vT=function(t,e,s,n,o){var i=0,l=0;switch(t.size){case 0:t.shape===0?i=l=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(s),Math.abs(s-o)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),l=Math.min(Math.abs(s),Math.abs(s-o)));break;case 2:if(t.shape===0)i=l=Math.min(Ir(e,s),Ir(e,s-o),Ir(e-n,s),Ir(e-n,s-o));else if(t.shape===1){var d=Math.min(Math.abs(s),Math.abs(s-o))/Math.min(Math.abs(e),Math.abs(e-n)),u=Iw(n,o,e,s,!0),h=u[0],m=u[1];i=Ir(h-e,(m-s)/d),l=d*i}break;case 1:t.shape===0?i=l=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(s),Math.abs(s-o)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),l=Math.max(Math.abs(s),Math.abs(s-o)));break;case 3:if(t.shape===0)i=l=Math.max(Ir(e,s),Ir(e,s-o),Ir(e-n,s),Ir(e-n,s-o));else if(t.shape===1){var d=Math.max(Math.abs(s),Math.abs(s-o))/Math.max(Math.abs(e),Math.abs(e-n)),p=Iw(n,o,e,s,!1),h=p[0],m=p[1];i=Ir(h-e,(m-s)/d),l=d*i}break}return Array.isArray(t.size)&&(i=Qt(t.size[0],n),l=t.size.length===2?Qt(t.size[1],o):i),[i,l]},yT=function(t,e){var s=jr(180),n=[];return tn(e).forEach(function(o,i){if(i===0){var l=o[0];if(l.type===20&&l.value==="to"){s=oj(o);return}else if(aj(l)){s=ku.parse(t,l);return}}var d=Du(t,o);n.push(d)}),{angle:s,stops:n,type:1}},Nd=function(t,e){var s=jr(180),n=[];return tn(e).forEach(function(o,i){if(i===0){var l=o[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){s=oj(o);return}else if(aj(l)){s=(ku.parse(t,l)+jr(270))%jr(360);return}}var d=Du(t,o);n.push(d)}),{angle:s,stops:n,type:1}},bT=function(t,e){var s=jr(180),n=[],o=1,i=0,l=3,d=[];return tn(e).forEach(function(u,h){var m=u[0];if(h===0){if(xt(m)&&m.value==="linear"){o=1;return}else if(xt(m)&&m.value==="radial"){o=2;return}}if(m.type===18){if(m.name==="from"){var p=Fa.parse(t,m.values[0]);n.push({stop:Qs,color:p})}else if(m.name==="to"){var p=Fa.parse(t,m.values[0]);n.push({stop:ja,color:p})}else if(m.name==="color-stop"){var v=m.values.filter(EA);if(v.length===2){var p=Fa.parse(t,v[1]),b=v[0];RA(b)&&n.push({stop:{type:16,number:b.number*100,flags:b.flags},color:p})}}}}),o===1?{angle:(s+jr(180))%jr(360),stops:n,type:o}:{size:l,shape:i,stops:n,position:d,type:o}},Aj="closest-side",ij="farthest-side",lj="closest-corner",cj="farthest-corner",dj="circle",uj="ellipse",fj="cover",hj="contain",wT=function(t,e){var s=0,n=3,o=[],i=[];return tn(e).forEach(function(l,d){var u=!0;if(d===0){var h=!1;u=l.reduce(function(p,v){if(h)if(xt(v))switch(v.value){case"center":return i.push(kp),p;case"top":case"left":return i.push(Qs),p;case"right":case"bottom":return i.push(ja),p}else(ns(v)||Ra(v))&&i.push(v);else if(xt(v))switch(v.value){case dj:return s=0,!1;case uj:return s=1,!1;case"at":return h=!0,!1;case Aj:return n=0,!1;case fj:case ij:return n=1,!1;case hj:case lj:return n=2,!1;case cj:return n=3,!1}else if(Ra(v)||ns(v))return Array.isArray(n)||(n=[]),n.push(v),!1;return p},u)}if(u){var m=Du(t,l);o.push(m)}}),{size:n,shape:s,stops:o,position:i,type:2}},Sd=function(t,e){var s=0,n=3,o=[],i=[];return tn(e).forEach(function(l,d){var u=!0;if(d===0?u=l.reduce(function(m,p){if(xt(p))switch(p.value){case"center":return i.push(kp),!1;case"top":case"left":return i.push(Qs),!1;case"right":case"bottom":return i.push(ja),!1}else if(ns(p)||Ra(p))return i.push(p),!1;return m},u):d===1&&(u=l.reduce(function(m,p){if(xt(p))switch(p.value){case dj:return s=0,!1;case uj:return s=1,!1;case hj:case Aj:return n=0,!1;case ij:return n=1,!1;case lj:return n=2,!1;case fj:case cj:return n=3,!1}else if(Ra(p)||ns(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return m},u)),u){var h=Du(t,l);o.push(h)}}),{size:n,shape:s,stops:o,position:i,type:2}},BT=function(t){return t.type===1},CT=function(t){return t.type===2},Dp={name:"image",parse:function(t,e){if(e.type===22){var s={url:e.value,type:0};return t.cache.addImage(e.value),s}if(e.type===18){var n=mj[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function jT(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!mj[t.name])}var mj={"linear-gradient":yT,"-moz-linear-gradient":Nd,"-ms-linear-gradient":Nd,"-o-linear-gradient":Nd,"-webkit-linear-gradient":Nd,"radial-gradient":wT,"-moz-radial-gradient":Sd,"-ms-radial-gradient":Sd,"-o-radial-gradient":Sd,"-webkit-radial-gradient":Sd,"-webkit-gradient":bT},NT={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var s=e[0];return s.type===20&&s.value==="none"?[]:e.filter(function(n){return EA(n)&&jT(n)}).map(function(n){return Dp.parse(t,n)})}},ST={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(s){if(xt(s))switch(s.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},QT={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return tn(e).map(function(s){return s.filter(ns)}).map(ej)}},ET={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return tn(e).map(function(s){return s.filter(xt).map(function(n){return n.value}).join(" ")}).map(FT)}},FT=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},BA;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(BA||(BA={}));var UT={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return tn(e).map(function(s){return s.filter(kT)})}},kT=function(t){return xt(t)||ns(t)},Iu=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},DT=Iu("top"),IT=Iu("right"),RT=Iu("bottom"),TT=Iu("left"),Ru=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,s){return ej(s.filter(ns))}}},MT=Ru("top-left"),HT=Ru("top-right"),LT=Ru("bottom-right"),_T=Ru("bottom-left"),Tu=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,s){switch(s){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},OT=Tu("top"),PT=Tu("right"),KT=Tu("bottom"),zT=Tu("left"),Mu=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,s){return Rl(s)?s.number:0}}},VT=Mu("top"),GT=Mu("right"),YT=Mu("bottom"),XT=Mu("left"),$T={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},WT={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},qT={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(xt).reduce(function(s,n){return s|ZT(n.value)},0)}},ZT=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},JT={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},e3={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Au;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Au||(Au={}));var t3={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Au.STRICT;case"normal":default:return Au.NORMAL}}},s3={name:"line-height",initialValue:"normal",prefix:!1,type:4},Rw=function(t,e){return xt(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ns(t)?Qt(t,e):e},r3={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Dp.parse(t,e)}},n3={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Hg={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Hu=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},a3=Hu("top"),o3=Hu("right"),A3=Hu("bottom"),i3=Hu("left"),l3={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(xt).map(function(s){switch(s.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},c3={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Lu=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},d3=Lu("top"),u3=Lu("right"),f3=Lu("bottom"),h3=Lu("left"),m3={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},g3={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},p3={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Mg(e[0],"none")?[]:tn(e).map(function(s){for(var n={color:Tn.TRANSPARENT,offsetX:Qs,offsetY:Qs,blur:Qs},o=0,i=0;i<s.length;i++){var l=s[i];Ra(l)?(o===0?n.offsetX=l:o===1?n.offsetY=l:n.blur=l,o++):n.color=Fa.parse(t,l)}return n})}},x3={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},v3={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var s=w3[e.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return s(e.values)}return null}},y3=function(t){var e=t.filter(function(s){return s.type===17}).map(function(s){return s.number});return e.length===6?e:null},b3=function(t){var e=t.filter(function(u){return u.type===17}).map(function(u){return u.number}),s=e[0],n=e[1];e[2],e[3];var o=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var l=e[12],d=e[13];return e[14],e[15],e.length===16?[s,n,o,i,l,d]:null},w3={matrix:y3,matrix3d:b3},Tw={type:16,number:50,flags:Il},B3=[Tw,Tw],C3={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var s=e.filter(ns);return s.length!==2?B3:[s[0],s[1]]}},j3={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},il;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(il||(il={}));var N3={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return il.BREAK_ALL;case"keep-all":return il.KEEP_ALL;case"normal":default:return il.NORMAL}}},S3={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(RA(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},gj={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Q3={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return RA(e)?e.number:1}},E3={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},F3={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(xt).map(function(s){switch(s.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(s){return s!==0})}},U3={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var s=[],n=[];return e.forEach(function(o){switch(o.type){case 20:case 0:s.push(o.value);break;case 17:s.push(o.number.toString());break;case 4:n.push(s.join(" ")),s.length=0;break}}),s.length&&n.push(s.join(" ")),n.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},k3={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},D3={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(RA(e))return e.number;if(xt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},I3={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(xt).map(function(s){return s.value})}},R3={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},cs=function(t,e){return(t&e)!==0},T3={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var s=e[0];return s.type===20&&s.value==="none"?[]:e}},M3={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var s=e[0];if(s.type===20&&s.value==="none")return null;for(var n=[],o=e.filter(J1),i=0;i<o.length;i++){var l=o[i],d=o[i+1];if(l.type===20){var u=d&&RA(d)?d.number:1;n.push({counter:l.value,increment:u})}}return n}},H3={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var s=[],n=e.filter(J1),o=0;o<n.length;o++){var i=n[o],l=n[o+1];if(xt(i)&&i.value!=="none"){var d=l&&RA(l)?l.number:0;s.push({counter:i.value,reset:d})}}return s}},L3={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Rl).map(function(s){return gj.parse(t,s)})}},_3={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var s=e[0];if(s.type===20&&s.value==="none")return null;var n=[],o=e.filter(uT);if(o.length%2!==0)return null;for(var i=0;i<o.length;i+=2){var l=o[i].value,d=o[i+1].value;n.push({open:l,close:d})}return n}},Mw=function(t,e,s){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?s?n.open:n.close:""},O3={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Mg(e[0],"none")?[]:tn(e).map(function(s){for(var n={color:255,offsetX:Qs,offsetY:Qs,blur:Qs,spread:Qs,inset:!1},o=0,i=0;i<s.length;i++){var l=s[i];Mg(l,"inset")?n.inset=!0:Ra(l)?(o===0?n.offsetX=l:o===1?n.offsetY=l:o===2?n.blur=l:n.spread=l,o++):n.color=Fa.parse(t,l)}return n})}},P3={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var s=[0,1,2],n=[];return e.filter(xt).forEach(function(o){switch(o.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),s.forEach(function(o){n.indexOf(o)===-1&&n.push(o)}),n}},K3={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},z3={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Rl(e)?e.number:0}},V3=(function(){function t(e,s){var n,o;this.animationDuration=be(e,L3,s.animationDuration),this.backgroundClip=be(e,mT,s.backgroundClip),this.backgroundColor=be(e,gT,s.backgroundColor),this.backgroundImage=be(e,NT,s.backgroundImage),this.backgroundOrigin=be(e,ST,s.backgroundOrigin),this.backgroundPosition=be(e,QT,s.backgroundPosition),this.backgroundRepeat=be(e,ET,s.backgroundRepeat),this.backgroundSize=be(e,UT,s.backgroundSize),this.borderTopColor=be(e,DT,s.borderTopColor),this.borderRightColor=be(e,IT,s.borderRightColor),this.borderBottomColor=be(e,RT,s.borderBottomColor),this.borderLeftColor=be(e,TT,s.borderLeftColor),this.borderTopLeftRadius=be(e,MT,s.borderTopLeftRadius),this.borderTopRightRadius=be(e,HT,s.borderTopRightRadius),this.borderBottomRightRadius=be(e,LT,s.borderBottomRightRadius),this.borderBottomLeftRadius=be(e,_T,s.borderBottomLeftRadius),this.borderTopStyle=be(e,OT,s.borderTopStyle),this.borderRightStyle=be(e,PT,s.borderRightStyle),this.borderBottomStyle=be(e,KT,s.borderBottomStyle),this.borderLeftStyle=be(e,zT,s.borderLeftStyle),this.borderTopWidth=be(e,VT,s.borderTopWidth),this.borderRightWidth=be(e,GT,s.borderRightWidth),this.borderBottomWidth=be(e,YT,s.borderBottomWidth),this.borderLeftWidth=be(e,XT,s.borderLeftWidth),this.boxShadow=be(e,O3,s.boxShadow),this.color=be(e,$T,s.color),this.direction=be(e,WT,s.direction),this.display=be(e,qT,s.display),this.float=be(e,JT,s.cssFloat),this.fontFamily=be(e,U3,s.fontFamily),this.fontSize=be(e,k3,s.fontSize),this.fontStyle=be(e,R3,s.fontStyle),this.fontVariant=be(e,I3,s.fontVariant),this.fontWeight=be(e,D3,s.fontWeight),this.letterSpacing=be(e,e3,s.letterSpacing),this.lineBreak=be(e,t3,s.lineBreak),this.lineHeight=be(e,s3,s.lineHeight),this.listStyleImage=be(e,r3,s.listStyleImage),this.listStylePosition=be(e,n3,s.listStylePosition),this.listStyleType=be(e,Hg,s.listStyleType),this.marginTop=be(e,a3,s.marginTop),this.marginRight=be(e,o3,s.marginRight),this.marginBottom=be(e,A3,s.marginBottom),this.marginLeft=be(e,i3,s.marginLeft),this.opacity=be(e,Q3,s.opacity);var i=be(e,l3,s.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=be(e,c3,s.overflowWrap),this.paddingTop=be(e,d3,s.paddingTop),this.paddingRight=be(e,u3,s.paddingRight),this.paddingBottom=be(e,f3,s.paddingBottom),this.paddingLeft=be(e,h3,s.paddingLeft),this.paintOrder=be(e,P3,s.paintOrder),this.position=be(e,g3,s.position),this.textAlign=be(e,m3,s.textAlign),this.textDecorationColor=be(e,E3,(n=s.textDecorationColor)!==null&&n!==void 0?n:s.color),this.textDecorationLine=be(e,F3,(o=s.textDecorationLine)!==null&&o!==void 0?o:s.textDecoration),this.textShadow=be(e,p3,s.textShadow),this.textTransform=be(e,x3,s.textTransform),this.transform=be(e,v3,s.transform),this.transformOrigin=be(e,C3,s.transformOrigin),this.visibility=be(e,j3,s.visibility),this.webkitTextStrokeColor=be(e,K3,s.webkitTextStrokeColor),this.webkitTextStrokeWidth=be(e,z3,s.webkitTextStrokeWidth),this.wordBreak=be(e,N3,s.wordBreak),this.zIndex=be(e,S3,s.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Ua(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return cs(this.display,4)||cs(this.display,33554432)||cs(this.display,268435456)||cs(this.display,536870912)||cs(this.display,67108864)||cs(this.display,134217728)},t})(),G3=(function(){function t(e,s){this.content=be(e,T3,s.content),this.quotes=be(e,_3,s.quotes)}return t})(),Hw=(function(){function t(e,s){this.counterIncrement=be(e,M3,s.counterIncrement),this.counterReset=be(e,H3,s.counterReset)}return t})(),be=function(t,e,s){var n=new q1,o=s!==null&&typeof s<"u"?s.toString():e.initialValue;n.write(o);var i=new Z1(n.read());switch(e.type){case 2:var l=i.parseComponentValue();return e.parse(t,xt(l)?l.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return ku.parse(t,i.parseComponentValue());case"color":return Fa.parse(t,i.parseComponentValue());case"image":return Dp.parse(t,i.parseComponentValue());case"length":var d=i.parseComponentValue();return Ra(d)?d:Qs;case"length-percentage":var u=i.parseComponentValue();return ns(u)?u:Qs;case"time":return gj.parse(t,i.parseComponentValue())}break}},Y3="data-html2canvas-debug",X3=function(t){var e=t.getAttribute(Y3);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Lg=function(t,e){var s=X3(t);return s===1||e===s},sn=(function(){function t(e,s){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Lg(s,3))debugger;this.styles=new V3(e,window.getComputedStyle(s,null)),Pg(s)&&(this.styles.animationDuration.some(function(n){return n>0})&&(s.style.animationDuration="0s"),this.styles.transform!==null&&(s.style.transform="none")),this.bounds=Fu(this.context,s),Lg(s,4)&&(this.flags|=16)}return t})(),$3="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Lw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",el=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qd=0;Qd<Lw.length;Qd++)el[Lw.charCodeAt(Qd)]=Qd;var W3=function(t){var e=t.length*.75,s=t.length,n,o=0,i,l,d,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<s;n+=4)i=el[t.charCodeAt(n)],l=el[t.charCodeAt(n+1)],d=el[t.charCodeAt(n+2)],u=el[t.charCodeAt(n+3)],m[o++]=i<<2|l>>4,m[o++]=(l&15)<<4|d>>2,m[o++]=(d&3)<<6|u&63;return h},q3=function(t){for(var e=t.length,s=[],n=0;n<e;n+=2)s.push(t[n+1]<<8|t[n]);return s},Z3=function(t){for(var e=t.length,s=[],n=0;n<e;n+=4)s.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return s},ho=5,Ip=11,Qm=2,J3=Ip-ho,pj=65536>>ho,eM=1<<ho,Em=eM-1,tM=1024>>ho,sM=pj+tM,rM=sM,nM=32,aM=rM+nM,oM=65536>>Ip,AM=1<<J3,iM=AM-1,_w=function(t,e,s){return t.slice?t.slice(e,s):new Uint16Array(Array.prototype.slice.call(t,e,s))},lM=function(t,e,s){return t.slice?t.slice(e,s):new Uint32Array(Array.prototype.slice.call(t,e,s))},cM=function(t,e){var s=W3(t),n=Array.isArray(s)?Z3(s):new Uint32Array(s),o=Array.isArray(s)?q3(s):new Uint16Array(s),i=24,l=_w(o,i/2,n[4]/2),d=n[5]===2?_w(o,(i+n[4])/2):lM(n,Math.ceil((i+n[4])/4));return new dM(n[0],n[1],n[2],n[3],l,d)},dM=(function(){function t(e,s,n,o,i,l){this.initialValue=e,this.errorValue=s,this.highStart=n,this.highValueIndex=o,this.index=i,this.data=l}return t.prototype.get=function(e){var s;if(e>=0){if(e<55296||e>56319&&e<=65535)return s=this.index[e>>ho],s=(s<<Qm)+(e&Em),this.data[s];if(e<=65535)return s=this.index[pj+(e-55296>>ho)],s=(s<<Qm)+(e&Em),this.data[s];if(e<this.highStart)return s=aM-oM+(e>>Ip),s=this.index[s],s+=e>>ho&iM,s=this.index[s],s=(s<<Qm)+(e&Em),this.data[s];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),Ow="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ed=0;Ed<Ow.length;Ed++)uM[Ow.charCodeAt(Ed)]=Ed;var fM=1,Fm=2,Um=3,Pw=4,Kw=5,hM=7,zw=8,km=9,Dm=10,Vw=11,Gw=12,Yw=13,Xw=14,Im=15,mM=function(t){for(var e=[],s=0,n=t.length;s<n;){var o=t.charCodeAt(s++);if(o>=55296&&o<=56319&&s<n){var i=t.charCodeAt(s++);(i&64512)===56320?e.push(((o&1023)<<10)+(i&1023)+65536):(e.push(o),s--)}else e.push(o)}return e},gM=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var s=t.length;if(!s)return"";for(var n=[],o=-1,i="";++o<s;){var l=t[o];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(o+1===s||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},pM=cM($3),vr="×",Rm="÷",xM=function(t){return pM.get(t)},vM=function(t,e,s){var n=s-2,o=e[n],i=e[s-1],l=e[s];if(i===Fm&&l===Um)return vr;if(i===Fm||i===Um||i===Pw||l===Fm||l===Um||l===Pw)return Rm;if(i===zw&&[zw,km,Vw,Gw].indexOf(l)!==-1||(i===Vw||i===km)&&(l===km||l===Dm)||(i===Gw||i===Dm)&&l===Dm||l===Yw||l===Kw||l===hM||i===fM)return vr;if(i===Yw&&l===Xw){for(;o===Kw;)o=e[--n];if(o===Xw)return vr}if(i===Im&&l===Im){for(var d=0;o===Im;)d++,o=e[--n];if(d%2===0)return vr}return Rm},yM=function(t){var e=mM(t),s=e.length,n=0,o=0,i=e.map(xM);return{next:function(){if(n>=s)return{done:!0,value:null};for(var l=vr;n<s&&(l=vM(e,i,++n))===vr;);if(l!==vr||n===s){var d=gM.apply(null,e.slice(o,n));return o=n,{value:d,done:!1}}return{done:!0,value:null}}}},bM=function(t){for(var e=yM(t),s=[],n;!(n=e.next()).done;)n.value&&s.push(n.value.slice());return s},wM=function(t){var e=123;if(t.createRange){var s=t.createRange();if(s.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),s.selectNode(n);var o=s.getBoundingClientRect(),i=Math.round(o.height);if(t.body.removeChild(n),i===e)return!0}}return!1},BM=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var s=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,o=Uu(n.data).map(function(u){return es(u)}),i=0,l={},d=o.every(function(u,h){s.setStart(n,i),s.setEnd(n,i+u.length);var m=s.getBoundingClientRect();i+=u.length;var p=m.x>l.x||m.y>l.y;return l=m,h===0?!0:p});return t.body.removeChild(e),d},CM=function(){return typeof new Image().crossOrigin<"u"},jM=function(){return typeof new XMLHttpRequest().responseType=="string"},NM=function(t){var e=new Image,s=t.createElement("canvas"),n=s.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),s.toDataURL()}catch{return!1}return!0},$w=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},SM=function(t){var e=t.createElement("canvas"),s=100;e.width=s,e.height=s;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,s,s);var o=new Image,i=e.toDataURL();o.src=i;var l=_g(s,s,0,0,o);return n.fillStyle="red",n.fillRect(0,0,s,s),Ww(l).then(function(d){n.drawImage(d,0,0);var u=n.getImageData(0,0,s,s).data;n.fillStyle="red",n.fillRect(0,0,s,s);var h=t.createElement("div");return h.style.backgroundImage="url("+i+")",h.style.height=s+"px",$w(u)?Ww(_g(s,s,0,0,h)):Promise.reject(!1)}).then(function(d){return n.drawImage(d,0,0),$w(n.getImageData(0,0,s,s).data)}).catch(function(){return!1})},_g=function(t,e,s,n,o){var i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),d=document.createElementNS(i,"foreignObject");return l.setAttributeNS(null,"width",t.toString()),l.setAttributeNS(null,"height",e.toString()),d.setAttributeNS(null,"width","100%"),d.setAttributeNS(null,"height","100%"),d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",n.toString()),d.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(d),d.appendChild(o),l},Ww=function(t){return new Promise(function(e,s){var n=new Image;n.onload=function(){return e(n)},n.onerror=s,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ss={get SUPPORT_RANGE_BOUNDS(){var t=wM(document);return Object.defineProperty(Ss,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ss.SUPPORT_RANGE_BOUNDS&&BM(document);return Object.defineProperty(Ss,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=NM(document);return Object.defineProperty(Ss,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?SM(document):Promise.resolve(!1);return Object.defineProperty(Ss,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=CM();return Object.defineProperty(Ss,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=jM();return Object.defineProperty(Ss,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ss,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ss,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ll=(function(){function t(e,s){this.text=e,this.bounds=s}return t})(),QM=function(t,e,s,n){var o=UM(e,s),i=[],l=0;return o.forEach(function(d){if(s.textDecorationLine.length||d.trim().length>0)if(Ss.SUPPORT_RANGE_BOUNDS){var u=qw(n,l,d.length).getClientRects();if(u.length>1){var h=Rp(d),m=0;h.forEach(function(v){i.push(new ll(v,Ln.fromDOMRectList(t,qw(n,m+l,v.length).getClientRects()))),m+=v.length})}else i.push(new ll(d,Ln.fromDOMRectList(t,u)))}else{var p=n.splitText(d.length);i.push(new ll(d,EM(t,n))),n=p}else Ss.SUPPORT_RANGE_BOUNDS||(n=n.splitText(d.length));l+=d.length}),i},EM=function(t,e){var s=e.ownerDocument;if(s){var n=s.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var o=e.parentNode;if(o){o.replaceChild(n,e);var i=Fu(t,n);return n.firstChild&&o.replaceChild(n.firstChild,n),i}}return Ln.EMPTY},qw=function(t,e,s){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var o=n.createRange();return o.setStart(t,e),o.setEnd(t,e+s),o},Rp=function(t){if(Ss.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(s){return s.segment})}return bM(t)},FM=function(t,e){if(Ss.SUPPORT_NATIVE_TEXT_SEGMENTATION){var s=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(s.segment(t)).map(function(n){return n.segment})}return DM(t,e)},UM=function(t,e){return e.letterSpacing!==0?Rp(t):FM(t,e)},kM=[32,160,4961,65792,65793,4153,4241],DM=function(t,e){for(var s=oR(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],o,i=function(){if(o.value){var l=o.value.slice(),d=Uu(l),u="";d.forEach(function(h){kM.indexOf(h)===-1?u+=es(h):(u.length&&n.push(u),n.push(es(h)),u="")}),u.length&&n.push(u)}};!(o=s.next()).done;)i();return n},IM=(function(){function t(e,s,n){this.text=RM(s.data,n.textTransform),this.textBounds=QM(e,this.text,n,s)}return t})(),RM=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(TM,MM);case 2:return t.toUpperCase();default:return t}},TM=/(^|\s|:|-|\(|\))([a-z])/g,MM=function(t,e,s){return t.length>0?e+s.toUpperCase():t},xj=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this;return o.src=n.currentSrc||n.src,o.intrinsicWidth=n.naturalWidth,o.intrinsicHeight=n.naturalHeight,o.context.cache.addImage(o.src),o}return e})(sn),vj=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this;return o.canvas=n,o.intrinsicWidth=n.width,o.intrinsicHeight=n.height,o}return e})(sn),yj=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this,i=new XMLSerializer,l=Fu(s,n);return n.setAttribute("width",l.width+"px"),n.setAttribute("height",l.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),o.intrinsicWidth=n.width.baseVal.value,o.intrinsicHeight=n.height.baseVal.value,o.context.cache.addImage(o.svg),o}return e})(sn),bj=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this;return o.value=n.value,o}return e})(sn),Og=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this;return o.start=n.start,o.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,o}return e})(sn),HM=[{type:15,flags:0,unit:"px",number:3}],LM=[{type:16,flags:0,number:50}],_M=function(t){return t.width>t.height?new Ln(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ln(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},OM=function(t){var e=t.type===PM?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},iu="checkbox",lu="radio",PM="password",Zw=707406591,Tp=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this;switch(o.type=n.type.toLowerCase(),o.checked=n.checked,o.value=OM(n),(o.type===iu||o.type===lu)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=_M(o.bounds)),o.type){case iu:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=HM;break;case lu:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=LM;break}return o}return e})(sn),wj=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this,i=n.options[n.selectedIndex||0];return o.value=i&&i.text||"",o}return e})(sn),Bj=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this;return o.value=n.value,o}return e})(sn),Cj=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this;o.src=n.src,o.width=parseInt(n.width,10)||0,o.height=parseInt(n.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){o.tree=Nj(s,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Al(s,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Tn.TRANSPARENT,l=n.contentWindow.document.body?Al(s,getComputedStyle(n.contentWindow.document.body).backgroundColor):Tn.TRANSPARENT;o.backgroundColor=Ua(i)?Ua(l)?o.styles.backgroundColor:l:i}}catch{}return o}return e})(sn),KM=["OL","UL","MENU"],zd=function(t,e,s,n){for(var o=e.firstChild,i=void 0;o;o=i)if(i=o.nextSibling,Sj(o)&&o.data.trim().length>0)s.textNodes.push(new IM(t,o,s.styles));else if(yA(o))if(Uj(o)&&o.assignedNodes)o.assignedNodes().forEach(function(d){return zd(t,d,s,n)});else{var l=jj(t,o);l.styles.isVisible()&&(zM(o,l,n)?l.flags|=4:VM(l.styles)&&(l.flags|=2),KM.indexOf(o.tagName)!==-1&&(l.flags|=8),s.elements.push(l),o.slot,o.shadowRoot?zd(t,o.shadowRoot,l,n):!cu(o)&&!Qj(o)&&!du(o)&&zd(t,o,l,n))}},jj=function(t,e){return Kg(e)?new xj(t,e):Ej(e)?new vj(t,e):Qj(e)?new yj(t,e):GM(e)?new bj(t,e):YM(e)?new Og(t,e):XM(e)?new Tp(t,e):du(e)?new wj(t,e):cu(e)?new Bj(t,e):Fj(e)?new Cj(t,e):new sn(t,e)},Nj=function(t,e){var s=jj(t,e);return s.flags|=4,zd(t,e,s,s),s},zM=function(t,e,s){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Mp(t)&&s.styles.isTransparent()},VM=function(t){return t.isPositioned()||t.isFloating()},Sj=function(t){return t.nodeType===Node.TEXT_NODE},yA=function(t){return t.nodeType===Node.ELEMENT_NODE},Pg=function(t){return yA(t)&&typeof t.style<"u"&&!Vd(t)},Vd=function(t){return typeof t.className=="object"},GM=function(t){return t.tagName==="LI"},YM=function(t){return t.tagName==="OL"},XM=function(t){return t.tagName==="INPUT"},$M=function(t){return t.tagName==="HTML"},Qj=function(t){return t.tagName==="svg"},Mp=function(t){return t.tagName==="BODY"},Ej=function(t){return t.tagName==="CANVAS"},Jw=function(t){return t.tagName==="VIDEO"},Kg=function(t){return t.tagName==="IMG"},Fj=function(t){return t.tagName==="IFRAME"},eB=function(t){return t.tagName==="STYLE"},WM=function(t){return t.tagName==="SCRIPT"},cu=function(t){return t.tagName==="TEXTAREA"},du=function(t){return t.tagName==="SELECT"},Uj=function(t){return t.tagName==="SLOT"},tB=function(t){return t.tagName.indexOf("-")>0},qM=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var s=this.counters[e];return s&&s.length?s[s.length-1]:1},t.prototype.getCounterValues=function(e){var s=this.counters[e];return s||[]},t.prototype.pop=function(e){var s=this;e.forEach(function(n){return s.counters[n].pop()})},t.prototype.parse=function(e){var s=this,n=e.counterIncrement,o=e.counterReset,i=!0;n!==null&&n.forEach(function(d){var u=s.counters[d.counter];u&&d.increment!==0&&(i=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=d.increment)});var l=[];return i&&o.forEach(function(d){var u=s.counters[d.counter];l.push(d.counter),u||(u=s.counters[d.counter]=[]),u.push(d.reset)}),l},t})(),sB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},rB={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},ZM={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},JM={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},mA=function(t,e,s,n,o,i){return t<e||t>s?jl(t,o,i.length>0):n.integers.reduce(function(l,d,u){for(;t>=d;)t-=d,l+=n.values[u];return l},"")+i},kj=function(t,e,s,n){var o="";do s||t--,o=n(t)+o,t/=e;while(t*e>=e);return o},Jt=function(t,e,s,n,o){var i=s-e+1;return(t<0?"-":"")+(kj(Math.abs(t),i,n,function(l){return es(Math.floor(l%i)+e)})+o)},ao=function(t,e,s){s===void 0&&(s=". ");var n=e.length;return kj(Math.abs(t),n,!1,function(o){return e[Math.floor(o%n)]})+s},xA=1,ha=2,ma=4,tl=8,jn=function(t,e,s,n,o,i){if(t<-9999||t>9999)return jl(t,4,o.length>0);var l=Math.abs(t),d=o;if(l===0)return e[0]+d;for(var u=0;l>0&&u<=4;u++){var h=l%10;h===0&&cs(i,xA)&&d!==""?d=e[h]+d:h>1||h===1&&u===0||h===1&&u===1&&cs(i,ha)||h===1&&u===1&&cs(i,ma)&&t>100||h===1&&u>1&&cs(i,tl)?d=e[h]+(u>0?s[u-1]:"")+d:h===1&&u>0&&(d=s[u-1]+d),l=Math.floor(l/10)}return(t<0?n:"")+d},nB="十百千萬",aB="拾佰仟萬",oB="マイナス",Tm="마이너스",jl=function(t,e,s){var n=s?". ":"",o=s?"、":"",i=s?", ":"",l=s?" ":"";switch(e){case 0:return"•"+l;case 1:return"◦"+l;case 2:return"◾"+l;case 5:var d=Jt(t,48,57,!0,n);return d.length<4?"0"+d:d;case 4:return ao(t,"〇一二三四五六七八九",o);case 6:return mA(t,1,3999,sB,3,n).toLowerCase();case 7:return mA(t,1,3999,sB,3,n);case 8:return Jt(t,945,969,!1,n);case 9:return Jt(t,97,122,!1,n);case 10:return Jt(t,65,90,!1,n);case 11:return Jt(t,1632,1641,!0,n);case 12:case 49:return mA(t,1,9999,rB,3,n);case 35:return mA(t,1,9999,rB,3,n).toLowerCase();case 13:return Jt(t,2534,2543,!0,n);case 14:case 30:return Jt(t,6112,6121,!0,n);case 15:return ao(t,"子丑寅卯辰巳午未申酉戌亥",o);case 16:return ao(t,"甲乙丙丁戊己庚辛壬癸",o);case 17:case 48:return jn(t,"零一二三四五六七八九",nB,"負",o,ha|ma|tl);case 47:return jn(t,"零壹貳參肆伍陸柒捌玖",aB,"負",o,xA|ha|ma|tl);case 42:return jn(t,"零一二三四五六七八九",nB,"负",o,ha|ma|tl);case 41:return jn(t,"零壹贰叁肆伍陆柒捌玖",aB,"负",o,xA|ha|ma|tl);case 26:return jn(t,"〇一二三四五六七八九","十百千万",oB,o,0);case 25:return jn(t,"零壱弐参四伍六七八九","拾百千万",oB,o,xA|ha|ma);case 31:return jn(t,"영일이삼사오육칠팔구","십백천만",Tm,i,xA|ha|ma);case 33:return jn(t,"零一二三四五六七八九","十百千萬",Tm,i,0);case 32:return jn(t,"零壹貳參四五六七八九","拾百千",Tm,i,xA|ha|ma);case 18:return Jt(t,2406,2415,!0,n);case 20:return mA(t,1,19999,JM,3,n);case 21:return Jt(t,2790,2799,!0,n);case 22:return Jt(t,2662,2671,!0,n);case 22:return mA(t,1,10999,ZM,3,n);case 23:return ao(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return ao(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Jt(t,3302,3311,!0,n);case 28:return ao(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",o);case 29:return ao(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",o);case 34:return Jt(t,3792,3801,!0,n);case 37:return Jt(t,6160,6169,!0,n);case 38:return Jt(t,4160,4169,!0,n);case 39:return Jt(t,2918,2927,!0,n);case 40:return Jt(t,1776,1785,!0,n);case 43:return Jt(t,3046,3055,!0,n);case 44:return Jt(t,3174,3183,!0,n);case 45:return Jt(t,3664,3673,!0,n);case 46:return Jt(t,3872,3881,!0,n);case 3:default:return Jt(t,48,57,!0,n)}},Dj="data-html2canvas-ignore",AB=(function(){function t(e,s,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=s,this.counters=new qM,this.quoteDepth=0,!s.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(s.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,s){var n=this,o=eH(e,s);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset,d=o.contentWindow,u=d.document,h=rH(o).then(function(){return _s(n,void 0,void 0,function(){var m,p;return Ds(this,function(v){switch(v.label){case 0:return this.scrolledElements.forEach(AH),d&&(d.scrollTo(s.left,s.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(d.scrollY!==s.top||d.scrollX!==s.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(d.scrollX-s.left,d.scrollY-s.top,0,0))),m=this.options.onclone,p=this.clonedReferenceElement,typeof p>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:v.sent(),v.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,sH(u)]:[3,4];case 3:v.sent(),v.label=4;case 4:return typeof m=="function"?[2,Promise.resolve().then(function(){return m(u,p)}).then(function(){return o})]:[2,o]}})})});return u.open(),u.write(aH(document.doctype)+"<html></html>"),oH(this.referenceElement.ownerDocument,i,l),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),h},t.prototype.createElementClone=function(e){if(Lg(e,2))debugger;if(Ej(e))return this.createCanvasClone(e);if(Jw(e))return this.createVideoClone(e);if(eB(e))return this.createStyleClone(e);var s=e.cloneNode(!1);return Kg(s)&&(Kg(e)&&e.currentSrc&&e.currentSrc!==e.src&&(s.src=e.currentSrc,s.srcset=""),s.loading==="lazy"&&(s.loading="eager")),tB(s)?this.createCustomElementClone(s):s},t.prototype.createCustomElementClone=function(e){var s=document.createElement("html2canvascustomelement");return Mm(e.style,s),s},t.prototype.createStyleClone=function(e){try{var s=e.sheet;if(s&&s.cssRules){var n=[].slice.call(s.cssRules,0).reduce(function(i,l){return l&&typeof l.cssText=="string"?i+l.cssText:i},""),o=e.cloneNode(!1);return o.textContent=n,o}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var s;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var o=e.cloneNode(!1);try{o.width=e.width,o.height=e.height;var i=e.getContext("2d"),l=o.getContext("2d");if(l)if(!this.options.allowTaint&&i)l.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var d=(s=e.getContext("webgl2"))!==null&&s!==void 0?s:e.getContext("webgl");if(d){var u=d.getContextAttributes();u?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}l.drawImage(e,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return o},t.prototype.createVideoClone=function(e){var s=e.ownerDocument.createElement("canvas");s.width=e.offsetWidth,s.height=e.offsetHeight;var n=s.getContext("2d");try{return n&&(n.drawImage(e,0,0,s.width,s.height),this.options.allowTaint||n.getImageData(0,0,s.width,s.height)),s}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var o=e.ownerDocument.createElement("canvas");return o.width=e.offsetWidth,o.height=e.offsetHeight,o},t.prototype.appendChildNode=function(e,s,n){(!yA(s)||!WM(s)&&!s.hasAttribute(Dj)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(s)))&&(!this.options.copyStyles||!yA(s)||!eB(s))&&e.appendChild(this.cloneNode(s,n))},t.prototype.cloneChildNodes=function(e,s,n){for(var o=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(yA(i)&&Uj(i)&&typeof i.assignedNodes=="function"){var l=i.assignedNodes();l.length&&l.forEach(function(d){return o.appendChildNode(s,d,n)})}else this.appendChildNode(s,i,n)},t.prototype.cloneNode=function(e,s){if(Sj(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&yA(e)&&(Pg(e)||Vd(e))){var o=this.createElementClone(e);o.style.transitionProperty="none";var i=n.getComputedStyle(e),l=n.getComputedStyle(e,":before"),d=n.getComputedStyle(e,":after");this.referenceElement===e&&Pg(o)&&(this.clonedReferenceElement=o),Mp(o)&&cH(o);var u=this.counters.parse(new Hw(this.context,i)),h=this.resolvePseudoContent(e,o,l,cl.BEFORE);tB(e)&&(s=!0),Jw(e)||this.cloneChildNodes(e,o,s),h&&o.insertBefore(h,o.firstChild);var m=this.resolvePseudoContent(e,o,d,cl.AFTER);return m&&o.appendChild(m),this.counters.pop(u),(i&&(this.options.copyStyles||Vd(e))&&!Fj(e)||s)&&Mm(i,o),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([o,e.scrollLeft,e.scrollTop]),(cu(e)||du(e))&&(cu(o)||du(o))&&(o.value=e.value),o}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,s,n,o){var i=this;if(n){var l=n.content,d=s.ownerDocument;if(!(!d||!l||l==="none"||l==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Hw(this.context,n));var u=new G3(this.context,n),h=d.createElement("html2canvaspseudoelement");Mm(n,h),u.content.forEach(function(p){if(p.type===0)h.appendChild(d.createTextNode(p.value));else if(p.type===22){var v=d.createElement("img");v.src=p.value,v.style.opacity="1",h.appendChild(v)}else if(p.type===18){if(p.name==="attr"){var b=p.values.filter(xt);b.length&&h.appendChild(d.createTextNode(e.getAttribute(b[0].value)||""))}else if(p.name==="counter"){var w=p.values.filter(EA),B=w[0],C=w[1];if(B&&xt(B)){var j=i.counters.getCounterValue(B.value),S=C&&xt(C)?Hg.parse(i.context,C.value):3;h.appendChild(d.createTextNode(jl(j,S,!1)))}}else if(p.name==="counters"){var D=p.values.filter(EA),B=D[0],N=D[1],C=D[2];if(B&&xt(B)){var E=i.counters.getCounterValues(B.value),k=C&&xt(C)?Hg.parse(i.context,C.value):3,T=N&&N.type===0?N.value:"",_=E.map(function(P){return jl(P,k,!1)}).join(T);h.appendChild(d.createTextNode(_))}}}else if(p.type===20)switch(p.value){case"open-quote":h.appendChild(d.createTextNode(Mw(u.quotes,i.quoteDepth++,!0)));break;case"close-quote":h.appendChild(d.createTextNode(Mw(u.quotes,--i.quoteDepth,!1)));break;default:h.appendChild(d.createTextNode(p.value))}}),h.className=zg+" "+Vg;var m=o===cl.BEFORE?" "+zg:" "+Vg;return Vd(s)?s.className.baseValue+=m:s.className+=m,h}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),cl;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(cl||(cl={}));var eH=function(t,e){var s=t.createElement("iframe");return s.className="html2canvas-container",s.style.visibility="hidden",s.style.position="fixed",s.style.left="-10000px",s.style.top="0px",s.style.border="0",s.width=e.width.toString(),s.height=e.height.toString(),s.scrolling="no",s.setAttribute(Dj,"true"),t.body.appendChild(s),s},tH=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},sH=function(t){return Promise.all([].slice.call(t.images,0).map(tH))},rH=function(t){return new Promise(function(e,s){var n=t.contentWindow;if(!n)return s("No window assigned for iframe");var o=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},nH=["all","d","content"],Mm=function(t,e){for(var s=t.length-1;s>=0;s--){var n=t.item(s);nH.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},aH=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},oH=function(t,e,s){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||s!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,s)},AH=function(t){var e=t[0],s=t[1],n=t[2];e.scrollLeft=s,e.scrollTop=n},iH=":before",lH=":after",zg="___html2canvas___pseudoelement_before",Vg="___html2canvas___pseudoelement_after",iB=`{
    content: "" !important;
    display: none !important;
}`,cH=function(t){dH(t,"."+zg+iH+iB+`
         .`+Vg+lH+iB)},dH=function(t,e){var s=t.ownerDocument;if(s){var n=s.createElement("style");n.textContent=e,t.appendChild(n)}},Ij=(function(){function t(){}return t.getOrigin=function(e){var s=t._link;return s?(s.href=e,s.href=s.href,s.protocol+s.hostname+s.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),uH=(function(){function t(e,s){this.context=e,this._options=s,this._cache={}}return t.prototype.addImage=function(e){var s=Promise.resolve();return this.has(e)||(Lm(e)||gH(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),s},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return _s(this,void 0,void 0,function(){var s,n,o,i,l=this;return Ds(this,function(d){switch(d.label){case 0:return s=Ij.isSameOrigin(e),n=!Hm(e)&&this._options.useCORS===!0&&Ss.SUPPORT_CORS_IMAGES&&!s,o=!Hm(e)&&!s&&!Lm(e)&&typeof this._options.proxy=="string"&&Ss.SUPPORT_CORS_XHR&&!n,!s&&this._options.allowTaint===!1&&!Hm(e)&&!Lm(e)&&!o&&!n?[2]:(i=e,o?[4,this.proxy(i)]:[3,2]);case 1:i=d.sent(),d.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(u,h){var m=new Image;m.onload=function(){return u(m)},m.onerror=h,(pH(i)||n)&&(m.crossOrigin="anonymous"),m.src=i,m.complete===!0&&setTimeout(function(){return u(m)},500),l._options.imageTimeout>0&&setTimeout(function(){return h("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,d.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var s=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var o=e.substring(0,256);return new Promise(function(i,l){var d=Ss.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(d==="text")i(u.response);else{var p=new FileReader;p.addEventListener("load",function(){return i(p.result)},!1),p.addEventListener("error",function(v){return l(v)},!1),p.readAsDataURL(u.response)}else l("Failed to proxy resource "+o+" with status code "+u.status)},u.onerror=l;var h=n.indexOf("?")>-1?"&":"?";if(u.open("GET",""+n+h+"url="+encodeURIComponent(e)+"&responseType="+d),d!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=d),s._options.imageTimeout){var m=s._options.imageTimeout;u.timeout=m,u.ontimeout=function(){return l("Timed out ("+m+"ms) proxying "+o)}}u.send()})},t})(),fH=/^data:image\/svg\+xml/i,hH=/^data:image\/.*;base64,/i,mH=/^data:image\/.*/i,gH=function(t){return Ss.SUPPORT_SVG_DRAWING||!xH(t)},Hm=function(t){return mH.test(t)},pH=function(t){return hH.test(t)},Lm=function(t){return t.substr(0,4)==="blob"},xH=function(t){return t.substr(-3).toLowerCase()==="svg"||fH.test(t)},ye=(function(){function t(e,s){this.type=0,this.x=e,this.y=s}return t.prototype.add=function(e,s){return new t(this.x+e,this.y+s)},t})(),gA=function(t,e,s){return new ye(t.x+(e.x-t.x)*s,t.y+(e.y-t.y)*s)},Fd=(function(){function t(e,s,n,o){this.type=1,this.start=e,this.startControl=s,this.endControl=n,this.end=o}return t.prototype.subdivide=function(e,s){var n=gA(this.start,this.startControl,e),o=gA(this.startControl,this.endControl,e),i=gA(this.endControl,this.end,e),l=gA(n,o,e),d=gA(o,i,e),u=gA(l,d,e);return s?new t(this.start,n,l,u):new t(u,d,i,this.end)},t.prototype.add=function(e,s){return new t(this.start.add(e,s),this.startControl.add(e,s),this.endControl.add(e,s),this.end.add(e,s))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),br=function(t){return t.type===1},vH=(function(){function t(e){var s=e.styles,n=e.bounds,o=Ji(s.borderTopLeftRadius,n.width,n.height),i=o[0],l=o[1],d=Ji(s.borderTopRightRadius,n.width,n.height),u=d[0],h=d[1],m=Ji(s.borderBottomRightRadius,n.width,n.height),p=m[0],v=m[1],b=Ji(s.borderBottomLeftRadius,n.width,n.height),w=b[0],B=b[1],C=[];C.push((i+u)/n.width),C.push((w+p)/n.width),C.push((l+B)/n.height),C.push((h+v)/n.height);var j=Math.max.apply(Math,C);j>1&&(i/=j,l/=j,u/=j,h/=j,p/=j,v/=j,w/=j,B/=j);var S=n.width-u,D=n.height-v,N=n.width-p,E=n.height-B,k=s.borderTopWidth,T=s.borderRightWidth,_=s.borderBottomWidth,M=s.borderLeftWidth,Z=Qt(s.paddingTop,e.bounds.width),P=Qt(s.paddingRight,e.bounds.width),H=Qt(s.paddingBottom,e.bounds.width),W=Qt(s.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||l>0?kt(n.left+M/3,n.top+k/3,i-M/3,l-k/3,lt.TOP_LEFT):new ye(n.left+M/3,n.top+k/3),this.topRightBorderDoubleOuterBox=i>0||l>0?kt(n.left+S,n.top+k/3,u-T/3,h-k/3,lt.TOP_RIGHT):new ye(n.left+n.width-T/3,n.top+k/3),this.bottomRightBorderDoubleOuterBox=p>0||v>0?kt(n.left+N,n.top+D,p-T/3,v-_/3,lt.BOTTOM_RIGHT):new ye(n.left+n.width-T/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=w>0||B>0?kt(n.left+M/3,n.top+E,w-M/3,B-_/3,lt.BOTTOM_LEFT):new ye(n.left+M/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=i>0||l>0?kt(n.left+M*2/3,n.top+k*2/3,i-M*2/3,l-k*2/3,lt.TOP_LEFT):new ye(n.left+M*2/3,n.top+k*2/3),this.topRightBorderDoubleInnerBox=i>0||l>0?kt(n.left+S,n.top+k*2/3,u-T*2/3,h-k*2/3,lt.TOP_RIGHT):new ye(n.left+n.width-T*2/3,n.top+k*2/3),this.bottomRightBorderDoubleInnerBox=p>0||v>0?kt(n.left+N,n.top+D,p-T*2/3,v-_*2/3,lt.BOTTOM_RIGHT):new ye(n.left+n.width-T*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||B>0?kt(n.left+M*2/3,n.top+E,w-M*2/3,B-_*2/3,lt.BOTTOM_LEFT):new ye(n.left+M*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=i>0||l>0?kt(n.left+M/2,n.top+k/2,i-M/2,l-k/2,lt.TOP_LEFT):new ye(n.left+M/2,n.top+k/2),this.topRightBorderStroke=i>0||l>0?kt(n.left+S,n.top+k/2,u-T/2,h-k/2,lt.TOP_RIGHT):new ye(n.left+n.width-T/2,n.top+k/2),this.bottomRightBorderStroke=p>0||v>0?kt(n.left+N,n.top+D,p-T/2,v-_/2,lt.BOTTOM_RIGHT):new ye(n.left+n.width-T/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=w>0||B>0?kt(n.left+M/2,n.top+E,w-M/2,B-_/2,lt.BOTTOM_LEFT):new ye(n.left+M/2,n.top+n.height-_/2),this.topLeftBorderBox=i>0||l>0?kt(n.left,n.top,i,l,lt.TOP_LEFT):new ye(n.left,n.top),this.topRightBorderBox=u>0||h>0?kt(n.left+S,n.top,u,h,lt.TOP_RIGHT):new ye(n.left+n.width,n.top),this.bottomRightBorderBox=p>0||v>0?kt(n.left+N,n.top+D,p,v,lt.BOTTOM_RIGHT):new ye(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=w>0||B>0?kt(n.left,n.top+E,w,B,lt.BOTTOM_LEFT):new ye(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||l>0?kt(n.left+M,n.top+k,Math.max(0,i-M),Math.max(0,l-k),lt.TOP_LEFT):new ye(n.left+M,n.top+k),this.topRightPaddingBox=u>0||h>0?kt(n.left+Math.min(S,n.width-T),n.top+k,S>n.width+T?0:Math.max(0,u-T),Math.max(0,h-k),lt.TOP_RIGHT):new ye(n.left+n.width-T,n.top+k),this.bottomRightPaddingBox=p>0||v>0?kt(n.left+Math.min(N,n.width-M),n.top+Math.min(D,n.height-_),Math.max(0,p-T),Math.max(0,v-_),lt.BOTTOM_RIGHT):new ye(n.left+n.width-T,n.top+n.height-_),this.bottomLeftPaddingBox=w>0||B>0?kt(n.left+M,n.top+Math.min(E,n.height-_),Math.max(0,w-M),Math.max(0,B-_),lt.BOTTOM_LEFT):new ye(n.left+M,n.top+n.height-_),this.topLeftContentBox=i>0||l>0?kt(n.left+M+W,n.top+k+Z,Math.max(0,i-(M+W)),Math.max(0,l-(k+Z)),lt.TOP_LEFT):new ye(n.left+M+W,n.top+k+Z),this.topRightContentBox=u>0||h>0?kt(n.left+Math.min(S,n.width+M+W),n.top+k+Z,S>n.width+M+W?0:u-M+W,h-(k+Z),lt.TOP_RIGHT):new ye(n.left+n.width-(T+P),n.top+k+Z),this.bottomRightContentBox=p>0||v>0?kt(n.left+Math.min(N,n.width-(M+W)),n.top+Math.min(D,n.height+k+Z),Math.max(0,p-(T+P)),v-(_+H),lt.BOTTOM_RIGHT):new ye(n.left+n.width-(T+P),n.top+n.height-(_+H)),this.bottomLeftContentBox=w>0||B>0?kt(n.left+M+W,n.top+E,Math.max(0,w-(M+W)),B-(_+H),lt.BOTTOM_LEFT):new ye(n.left+M+W,n.top+n.height-(_+H))}return t})(),lt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(lt||(lt={}));var kt=function(t,e,s,n,o){var i=4*((Math.sqrt(2)-1)/3),l=s*i,d=n*i,u=t+s,h=e+n;switch(o){case lt.TOP_LEFT:return new Fd(new ye(t,h),new ye(t,h-d),new ye(u-l,e),new ye(u,e));case lt.TOP_RIGHT:return new Fd(new ye(t,e),new ye(t+l,e),new ye(u,h-d),new ye(u,h));case lt.BOTTOM_RIGHT:return new Fd(new ye(u,e),new ye(u,e+d),new ye(t+l,h),new ye(t,h));case lt.BOTTOM_LEFT:default:return new Fd(new ye(u,h),new ye(u-l,h),new ye(t,e+d),new ye(t,e))}},uu=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},yH=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},fu=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},bH=(function(){function t(e,s,n){this.offsetX=e,this.offsetY=s,this.matrix=n,this.type=0,this.target=6}return t})(),Ud=(function(){function t(e,s){this.path=e,this.target=s,this.type=1}return t})(),wH=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),BH=function(t){return t.type===0},Rj=function(t){return t.type===1},CH=function(t){return t.type===2},lB=function(t,e){return t.length===e.length?t.some(function(s,n){return s===e[n]}):!1},jH=function(t,e,s,n,o){return t.map(function(i,l){switch(l){case 0:return i.add(e,s);case 1:return i.add(e+n,s);case 2:return i.add(e+n,s+o);case 3:return i.add(e,s+o)}return i})},Tj=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),Mj=(function(){function t(e,s){if(this.container=e,this.parent=s,this.effects=[],this.curves=new vH(this.container),this.container.styles.opacity<1&&this.effects.push(new wH(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new bH(n,o,i))}if(this.container.styles.overflowX!==0){var l=uu(this.curves),d=fu(this.curves);lB(l,d)?this.effects.push(new Ud(l,6)):(this.effects.push(new Ud(l,2)),this.effects.push(new Ud(d,4)))}}return t.prototype.getEffects=function(e){for(var s=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,o=this.effects.slice(0);n;){var i=n.effects.filter(function(u){return!Rj(u)});if(s||n.container.styles.position!==0||!n.parent){if(o.unshift.apply(o,i),s=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var l=uu(n.curves),d=fu(n.curves);lB(l,d)||o.unshift(new Ud(d,6))}}else o.unshift.apply(o,i);n=n.parent}return o.filter(function(u){return cs(u.target,e)})},t})(),Gg=function(t,e,s,n){t.container.elements.forEach(function(o){var i=cs(o.flags,4),l=cs(o.flags,2),d=new Mj(o,t);cs(o.styles.display,2048)&&n.push(d);var u=cs(o.flags,8)?[]:n;if(i||l){var h=i||o.styles.isPositioned()?s:e,m=new Tj(d);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var p=o.styles.zIndex.order;if(p<0){var v=0;h.negativeZIndex.some(function(w,B){return p>w.element.container.styles.zIndex.order?(v=B,!1):v>0}),h.negativeZIndex.splice(v,0,m)}else if(p>0){var b=0;h.positiveZIndex.some(function(w,B){return p>=w.element.container.styles.zIndex.order?(b=B+1,!1):b>0}),h.positiveZIndex.splice(b,0,m)}else h.zeroOrAutoZIndexOrTransformedOrOpacity.push(m)}else o.styles.isFloating()?h.nonPositionedFloats.push(m):h.nonPositionedInlineLevel.push(m);Gg(d,m,i?m:s,u)}else o.styles.isInlineLevel()?e.inlineLevel.push(d):e.nonInlineLevel.push(d),Gg(d,e,s,u);cs(o.flags,8)&&Hj(o,u)})},Hj=function(t,e){for(var s=t instanceof Og?t.start:1,n=t instanceof Og?t.reversed:!1,o=0;o<e.length;o++){var i=e[o];i.container instanceof bj&&typeof i.container.value=="number"&&i.container.value!==0&&(s=i.container.value),i.listValue=jl(s,i.container.styles.listStyleType,!0),s+=n?-1:1}},NH=function(t){var e=new Mj(t,null),s=new Tj(e),n=[];return Gg(e,s,s,n),Hj(e.container,n),s},cB=function(t,e){switch(e){case 0:return Nr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Nr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Nr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Nr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},SH=function(t,e){switch(e){case 0:return Nr(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Nr(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Nr(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Nr(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},QH=function(t,e){switch(e){case 0:return Nr(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Nr(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Nr(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Nr(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},EH=function(t,e){switch(e){case 0:return kd(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return kd(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return kd(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return kd(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},kd=function(t,e){var s=[];return br(t)?s.push(t.subdivide(.5,!1)):s.push(t),br(e)?s.push(e.subdivide(.5,!0)):s.push(e),s},Nr=function(t,e,s,n){var o=[];return br(t)?o.push(t.subdivide(.5,!1)):o.push(t),br(s)?o.push(s.subdivide(.5,!0)):o.push(s),br(n)?o.push(n.subdivide(.5,!0).reverse()):o.push(n),br(e)?o.push(e.subdivide(.5,!1).reverse()):o.push(e),o},Lj=function(t){var e=t.bounds,s=t.styles;return e.add(s.borderLeftWidth,s.borderTopWidth,-(s.borderRightWidth+s.borderLeftWidth),-(s.borderTopWidth+s.borderBottomWidth))},hu=function(t){var e=t.styles,s=t.bounds,n=Qt(e.paddingLeft,s.width),o=Qt(e.paddingRight,s.width),i=Qt(e.paddingTop,s.width),l=Qt(e.paddingBottom,s.width);return s.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+o),-(e.borderTopWidth+e.borderBottomWidth+i+l))},FH=function(t,e){return t===0?e.bounds:t===2?hu(e):Lj(e)},UH=function(t,e){return t===0?e.bounds:t===2?hu(e):Lj(e)},_m=function(t,e,s){var n=FH(vA(t.styles.backgroundOrigin,e),t),o=UH(vA(t.styles.backgroundClip,e),t),i=kH(vA(t.styles.backgroundSize,e),s,n),l=i[0],d=i[1],u=Ji(vA(t.styles.backgroundPosition,e),n.width-l,n.height-d),h=DH(vA(t.styles.backgroundRepeat,e),u,i,n,o),m=Math.round(n.left+u[0]),p=Math.round(n.top+u[1]);return[h,m,p,l,d]},pA=function(t){return xt(t)&&t.value===BA.AUTO},Dd=function(t){return typeof t=="number"},kH=function(t,e,s){var n=e[0],o=e[1],i=e[2],l=t[0],d=t[1];if(!l)return[0,0];if(ns(l)&&d&&ns(d))return[Qt(l,s.width),Qt(d,s.height)];var u=Dd(i);if(xt(l)&&(l.value===BA.CONTAIN||l.value===BA.COVER)){if(Dd(i)){var h=s.width/s.height;return h<i!=(l.value===BA.COVER)?[s.width,s.width/i]:[s.height*i,s.height]}return[s.width,s.height]}var m=Dd(n),p=Dd(o),v=m||p;if(pA(l)&&(!d||pA(d))){if(m&&p)return[n,o];if(!u&&!v)return[s.width,s.height];if(v&&u){var b=m?n:o*i,w=p?o:n/i;return[b,w]}var B=m?n:s.width,C=p?o:s.height;return[B,C]}if(u){var j=0,S=0;return ns(l)?j=Qt(l,s.width):ns(d)&&(S=Qt(d,s.height)),pA(l)?j=S*i:(!d||pA(d))&&(S=j/i),[j,S]}var D=null,N=null;if(ns(l)?D=Qt(l,s.width):d&&ns(d)&&(N=Qt(d,s.height)),D!==null&&(!d||pA(d))&&(N=m&&p?D/n*o:s.height),N!==null&&pA(l)&&(D=m&&p?N/o*n:s.width),D!==null&&N!==null)return[D,N];throw new Error("Unable to calculate background-size for element")},vA=function(t,e){var s=t[e];return typeof s>"u"?t[0]:s},DH=function(t,e,s,n,o){var i=e[0],l=e[1],d=s[0],u=s[1];switch(t){case 2:return[new ye(Math.round(n.left),Math.round(n.top+l)),new ye(Math.round(n.left+n.width),Math.round(n.top+l)),new ye(Math.round(n.left+n.width),Math.round(u+n.top+l)),new ye(Math.round(n.left),Math.round(u+n.top+l))];case 3:return[new ye(Math.round(n.left+i),Math.round(n.top)),new ye(Math.round(n.left+i+d),Math.round(n.top)),new ye(Math.round(n.left+i+d),Math.round(n.height+n.top)),new ye(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new ye(Math.round(n.left+i),Math.round(n.top+l)),new ye(Math.round(n.left+i+d),Math.round(n.top+l)),new ye(Math.round(n.left+i+d),Math.round(n.top+l+u)),new ye(Math.round(n.left+i),Math.round(n.top+l+u))];default:return[new ye(Math.round(o.left),Math.round(o.top)),new ye(Math.round(o.left+o.width),Math.round(o.top)),new ye(Math.round(o.left+o.width),Math.round(o.height+o.top)),new ye(Math.round(o.left),Math.round(o.height+o.top))]}},IH="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",dB="Hidden Text",RH=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,s){var n=this._document.createElement("div"),o=this._document.createElement("img"),i=this._document.createElement("span"),l=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=s,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",l.appendChild(n),o.src=IH,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=s,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(dB)),n.appendChild(i),n.appendChild(o);var d=o.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(dB)),n.style.lineHeight="normal",o.style.verticalAlign="super";var u=o.offsetTop-n.offsetTop+2;return l.removeChild(n),{baseline:d,middle:u}},t.prototype.getMetrics=function(e,s){var n=e+" "+s;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,s)),this._data[n]},t})(),_j=(function(){function t(e,s){this.context=e,this.options=s}return t})(),TH=1e4,MH=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this;return o._activeEffects=[],o.canvas=n.canvas?n.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),n.canvas||(o.canvas.width=Math.floor(n.width*n.scale),o.canvas.height=Math.floor(n.height*n.scale),o.canvas.style.width=n.width+"px",o.canvas.style.height=n.height+"px"),o.fontMetrics=new RH(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-n.x,-n.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),o}return e.prototype.applyEffects=function(s){for(var n=this;this._activeEffects.length;)this.popEffect();s.forEach(function(o){return n.applyEffect(o)})},e.prototype.applyEffect=function(s){this.ctx.save(),CH(s)&&(this.ctx.globalAlpha=s.opacity),BH(s)&&(this.ctx.translate(s.offsetX,s.offsetY),this.ctx.transform(s.matrix[0],s.matrix[1],s.matrix[2],s.matrix[3],s.matrix[4],s.matrix[5]),this.ctx.translate(-s.offsetX,-s.offsetY)),Rj(s)&&(this.path(s.path),this.ctx.clip()),this._activeEffects.push(s)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(s){return _s(this,void 0,void 0,function(){var n;return Ds(this,function(o){switch(o.label){case 0:return n=s.element.container.styles,n.isVisible()?[4,this.renderStackContent(s)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(s){return _s(this,void 0,void 0,function(){return Ds(this,function(n){switch(n.label){case 0:if(cs(s.container.flags,16))debugger;return s.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(s)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(s)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(s,n,o){var i=this;if(n===0)this.ctx.fillText(s.text,s.bounds.left,s.bounds.top+o);else{var l=Rp(s.text);l.reduce(function(d,u){return i.ctx.fillText(u,d,s.bounds.top+o),d+i.ctx.measureText(u).width},s.bounds.left)}},e.prototype.createFontStyle=function(s){var n=s.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),o=PH(s.fontFamily).join(", "),i=Rl(s.fontSize)?""+s.fontSize.number+s.fontSize.unit:s.fontSize.number+"px";return[[s.fontStyle,n,s.fontWeight,i,o].join(" "),o,i]},e.prototype.renderTextNode=function(s,n){return _s(this,void 0,void 0,function(){var o,i,l,d,u,h,m,p,v=this;return Ds(this,function(b){return o=this.createFontStyle(n),i=o[0],l=o[1],d=o[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(l,d),h=u.baseline,m=u.middle,p=n.paintOrder,s.textBounds.forEach(function(w){p.forEach(function(B){switch(B){case 0:v.ctx.fillStyle=vs(n.color),v.renderTextWithLetterSpacing(w,n.letterSpacing,h);var C=n.textShadow;C.length&&w.text.trim().length&&(C.slice(0).reverse().forEach(function(j){v.ctx.shadowColor=vs(j.color),v.ctx.shadowOffsetX=j.offsetX.number*v.options.scale,v.ctx.shadowOffsetY=j.offsetY.number*v.options.scale,v.ctx.shadowBlur=j.blur.number,v.renderTextWithLetterSpacing(w,n.letterSpacing,h)}),v.ctx.shadowColor="",v.ctx.shadowOffsetX=0,v.ctx.shadowOffsetY=0,v.ctx.shadowBlur=0),n.textDecorationLine.length&&(v.ctx.fillStyle=vs(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(j){switch(j){case 1:v.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+h),w.bounds.width,1);break;case 2:v.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:v.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+m),w.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&w.text.trim().length&&(v.ctx.strokeStyle=vs(n.webkitTextStrokeColor),v.ctx.lineWidth=n.webkitTextStrokeWidth,v.ctx.lineJoin=window.chrome?"miter":"round",v.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+h)),v.ctx.strokeStyle="",v.ctx.lineWidth=0,v.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(s,n,o){if(o&&s.intrinsicWidth>0&&s.intrinsicHeight>0){var i=hu(s),l=fu(n);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,s.intrinsicWidth,s.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(s){return _s(this,void 0,void 0,function(){var n,o,i,l,d,u,S,S,h,m,p,v,N,b,w,E,B,C,j,S,D,N,E;return Ds(this,function(k){switch(k.label){case 0:this.applyEffects(s.getEffects(4)),n=s.container,o=s.curves,i=n.styles,l=0,d=n.textNodes,k.label=1;case 1:return l<d.length?(u=d[l],[4,this.renderTextNode(u,i)]):[3,4];case 2:k.sent(),k.label=3;case 3:return l++,[3,1];case 4:if(!(n instanceof xj))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return S=k.sent(),this.renderReplacedElement(n,o,S),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof vj&&this.renderReplacedElement(n,o,n.canvas),!(n instanceof yj))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return S=k.sent(),this.renderReplacedElement(n,o,S),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Cj&&n.tree?(h=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,h.render(n.tree)]):[3,14];case 13:m=k.sent(),n.width&&n.height&&this.ctx.drawImage(m,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),k.label=14;case 14:if(n instanceof Tp&&(p=Math.min(n.bounds.width,n.bounds.height),n.type===iu?n.checked&&(this.ctx.save(),this.path([new ye(n.bounds.left+p*.39363,n.bounds.top+p*.79),new ye(n.bounds.left+p*.16,n.bounds.top+p*.5549),new ye(n.bounds.left+p*.27347,n.bounds.top+p*.44071),new ye(n.bounds.left+p*.39694,n.bounds.top+p*.5649),new ye(n.bounds.left+p*.72983,n.bounds.top+p*.23),new ye(n.bounds.left+p*.84,n.bounds.top+p*.34085),new ye(n.bounds.left+p*.39363,n.bounds.top+p*.79)]),this.ctx.fillStyle=vs(Zw),this.ctx.fill(),this.ctx.restore()):n.type===lu&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+p/2,n.bounds.top+p/2,p/4,0,Math.PI*2,!0),this.ctx.fillStyle=vs(Zw),this.ctx.fill(),this.ctx.restore())),HH(n)&&n.value.length){switch(v=this.createFontStyle(i),N=v[0],b=v[1],w=this.fontMetrics.getMetrics(N,b).baseline,this.ctx.font=N,this.ctx.fillStyle=vs(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=_H(n.styles.textAlign),E=hu(n),B=0,n.styles.textAlign){case 1:B+=E.width/2;break;case 2:B+=E.width;break}C=E.add(B,0,0,-E.height/2+1),this.ctx.save(),this.path([new ye(E.left,E.top),new ye(E.left+E.width,E.top),new ye(E.left+E.width,E.top+E.height),new ye(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ll(n.value,C),i.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!cs(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(j=n.styles.listStyleImage,j.type!==0)return[3,18];S=void 0,D=j.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(D)];case 16:return S=k.sent(),this.ctx.drawImage(S,n.bounds.left-(S.width+10),n.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+D),[3,18];case 18:return[3,20];case 19:s.listValue&&n.styles.listStyleType!==-1&&(N=this.createFontStyle(i)[0],this.ctx.font=N,this.ctx.fillStyle=vs(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new Ln(n.bounds.left,n.bounds.top+Qt(n.styles.paddingTop,n.bounds.width),n.bounds.width,Rw(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ll(s.listValue,E),i.letterSpacing,Rw(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(s){return _s(this,void 0,void 0,function(){var n,o,j,i,l,j,d,u,j,h,m,j,p,v,j,b,w,j,B,C,j;return Ds(this,function(S){switch(S.label){case 0:if(cs(s.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(s.element)];case 1:S.sent(),n=0,o=s.negativeZIndex,S.label=2;case 2:return n<o.length?(j=o[n],[4,this.renderStack(j)]):[3,5];case 3:S.sent(),S.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(s.element)];case 6:S.sent(),i=0,l=s.nonInlineLevel,S.label=7;case 7:return i<l.length?(j=l[i],[4,this.renderNode(j)]):[3,10];case 8:S.sent(),S.label=9;case 9:return i++,[3,7];case 10:d=0,u=s.nonPositionedFloats,S.label=11;case 11:return d<u.length?(j=u[d],[4,this.renderStack(j)]):[3,14];case 12:S.sent(),S.label=13;case 13:return d++,[3,11];case 14:h=0,m=s.nonPositionedInlineLevel,S.label=15;case 15:return h<m.length?(j=m[h],[4,this.renderStack(j)]):[3,18];case 16:S.sent(),S.label=17;case 17:return h++,[3,15];case 18:p=0,v=s.inlineLevel,S.label=19;case 19:return p<v.length?(j=v[p],[4,this.renderNode(j)]):[3,22];case 20:S.sent(),S.label=21;case 21:return p++,[3,19];case 22:b=0,w=s.zeroOrAutoZIndexOrTransformedOrOpacity,S.label=23;case 23:return b<w.length?(j=w[b],[4,this.renderStack(j)]):[3,26];case 24:S.sent(),S.label=25;case 25:return b++,[3,23];case 26:B=0,C=s.positiveZIndex,S.label=27;case 27:return B<C.length?(j=C[B],[4,this.renderStack(j)]):[3,30];case 28:S.sent(),S.label=29;case 29:return B++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(s){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(s.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(s){this.ctx.beginPath(),this.formatPath(s),this.ctx.closePath()},e.prototype.formatPath=function(s){var n=this;s.forEach(function(o,i){var l=br(o)?o.start:o;i===0?n.ctx.moveTo(l.x,l.y):n.ctx.lineTo(l.x,l.y),br(o)&&n.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},e.prototype.renderRepeat=function(s,n,o,i){this.path(s),this.ctx.fillStyle=n,this.ctx.translate(o,i),this.ctx.fill(),this.ctx.translate(-o,-i)},e.prototype.resizeImage=function(s,n,o){var i;if(s.width===n&&s.height===o)return s;var l=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,d=l.createElement("canvas");d.width=Math.max(1,n),d.height=Math.max(1,o);var u=d.getContext("2d");return u.drawImage(s,0,0,s.width,s.height,0,0,n,o),d},e.prototype.renderBackgroundImage=function(s){return _s(this,void 0,void 0,function(){var n,o,i,l,d,u;return Ds(this,function(h){switch(h.label){case 0:n=s.styles.backgroundImage.length-1,o=function(m){var p,v,b,Z,K,J,W,ne,_,w,Z,K,J,W,ne,B,C,j,S,D,N,E,k,T,_,M,Z,P,H,W,ne,ie,K,J,z,oe,U,L,F,R,O,$;return Ds(this,function(re){switch(re.label){case 0:if(m.type!==0)return[3,5];p=void 0,v=m.url,re.label=1;case 1:return re.trys.push([1,3,,4]),[4,i.context.cache.match(v)];case 2:return p=re.sent(),[3,4];case 3:return re.sent(),i.context.logger.error("Error loading background-image "+v),[3,4];case 4:return p&&(b=_m(s,n,[p.width,p.height,p.width/p.height]),Z=b[0],K=b[1],J=b[2],W=b[3],ne=b[4],_=i.ctx.createPattern(i.resizeImage(p,W,ne),"repeat"),i.renderRepeat(Z,_,K,J)),[3,6];case 5:BT(m)?(w=_m(s,n,[null,null,null]),Z=w[0],K=w[1],J=w[2],W=w[3],ne=w[4],B=xT(m.angle,W,ne),C=B[0],j=B[1],S=B[2],D=B[3],N=B[4],E=document.createElement("canvas"),E.width=W,E.height=ne,k=E.getContext("2d"),T=k.createLinearGradient(j,D,S,N),Dw(m.stops,C).forEach(function(he){return T.addColorStop(he.stop,vs(he.color))}),k.fillStyle=T,k.fillRect(0,0,W,ne),W>0&&ne>0&&(_=i.ctx.createPattern(E,"repeat"),i.renderRepeat(Z,_,K,J))):CT(m)&&(M=_m(s,n,[null,null,null]),Z=M[0],P=M[1],H=M[2],W=M[3],ne=M[4],ie=m.position.length===0?[kp]:m.position,K=Qt(ie[0],W),J=Qt(ie[ie.length-1],ne),z=vT(m,K,J,W,ne),oe=z[0],U=z[1],oe>0&&U>0&&(L=i.ctx.createRadialGradient(P+K,H+J,0,P+K,H+J,oe),Dw(m.stops,oe*2).forEach(function(he){return L.addColorStop(he.stop,vs(he.color))}),i.path(Z),i.ctx.fillStyle=L,oe!==U?(F=s.bounds.left+.5*s.bounds.width,R=s.bounds.top+.5*s.bounds.height,O=U/oe,$=1/O,i.ctx.save(),i.ctx.translate(F,R),i.ctx.transform(1,0,0,O,0,0),i.ctx.translate(-F,-R),i.ctx.fillRect(P,$*(H-R)+R,W,ne*$),i.ctx.restore()):i.ctx.fill())),re.label=6;case 6:return n--,[2]}})},i=this,l=0,d=s.styles.backgroundImage.slice(0).reverse(),h.label=1;case 1:return l<d.length?(u=d[l],[5,o(u)]):[3,4];case 2:h.sent(),h.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(s,n,o){return _s(this,void 0,void 0,function(){return Ds(this,function(i){return this.path(cB(o,n)),this.ctx.fillStyle=vs(s),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(s,n,o,i){return _s(this,void 0,void 0,function(){var l,d;return Ds(this,function(u){switch(u.label){case 0:return n<3?[4,this.renderSolidBorder(s,o,i)]:[3,2];case 1:return u.sent(),[2];case 2:return l=SH(i,o),this.path(l),this.ctx.fillStyle=vs(s),this.ctx.fill(),d=QH(i,o),this.path(d),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(s){return _s(this,void 0,void 0,function(){var n,o,i,l,d,u,h,m,p=this;return Ds(this,function(v){switch(v.label){case 0:return this.applyEffects(s.getEffects(2)),n=s.container.styles,o=!Ua(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],l=LH(vA(n.backgroundClip,0),s.curves),o||n.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),Ua(n.backgroundColor)||(this.ctx.fillStyle=vs(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(s.container)]):[3,2];case 1:v.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(b){p.ctx.save();var w=uu(s.curves),B=b.inset?0:TH,C=jH(w,-B+(b.inset?1:-1)*b.spread.number,(b.inset?1:-1)*b.spread.number,b.spread.number*(b.inset?-2:2),b.spread.number*(b.inset?-2:2));b.inset?(p.path(w),p.ctx.clip(),p.mask(C)):(p.mask(w),p.ctx.clip(),p.path(C)),p.ctx.shadowOffsetX=b.offsetX.number+B,p.ctx.shadowOffsetY=b.offsetY.number,p.ctx.shadowColor=vs(b.color),p.ctx.shadowBlur=b.blur.number,p.ctx.fillStyle=b.inset?vs(b.color):"rgba(0,0,0,1)",p.ctx.fill(),p.ctx.restore()}),v.label=2;case 2:d=0,u=0,h=i,v.label=3;case 3:return u<h.length?(m=h[u],m.style!==0&&!Ua(m.color)&&m.width>0?m.style!==2?[3,5]:[4,this.renderDashedDottedBorder(m.color,m.width,d,s.curves,2)]:[3,11]):[3,13];case 4:return v.sent(),[3,11];case 5:return m.style!==3?[3,7]:[4,this.renderDashedDottedBorder(m.color,m.width,d,s.curves,3)];case 6:return v.sent(),[3,11];case 7:return m.style!==4?[3,9]:[4,this.renderDoubleBorder(m.color,m.width,d,s.curves)];case 8:return v.sent(),[3,11];case 9:return[4,this.renderSolidBorder(m.color,d,s.curves)];case 10:v.sent(),v.label=11;case 11:d++,v.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(s,n,o,i,l){return _s(this,void 0,void 0,function(){var d,u,h,m,p,v,b,w,B,C,j,S,D,N,E,k,E,k;return Ds(this,function(T){return this.ctx.save(),d=EH(i,o),u=cB(i,o),l===2&&(this.path(u),this.ctx.clip()),br(u[0])?(h=u[0].start.x,m=u[0].start.y):(h=u[0].x,m=u[0].y),br(u[1])?(p=u[1].end.x,v=u[1].end.y):(p=u[1].x,v=u[1].y),o===0||o===2?b=Math.abs(h-p):b=Math.abs(m-v),this.ctx.beginPath(),l===3?this.formatPath(d):this.formatPath(u.slice(0,2)),w=n<3?n*3:n*2,B=n<3?n*2:n,l===3&&(w=n,B=n),C=!0,b<=w*2?C=!1:b<=w*2+B?(j=b/(2*w+B),w*=j,B*=j):(S=Math.floor((b+B)/(w+B)),D=(b-S*w)/(S-1),N=(b-(S+1)*w)/S,B=N<=0||Math.abs(B-D)<Math.abs(B-N)?D:N),C&&(l===3?this.ctx.setLineDash([0,w+B]):this.ctx.setLineDash([w,B])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=vs(s),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(br(u[0])&&(E=u[3],k=u[0],this.ctx.beginPath(),this.formatPath([new ye(E.end.x,E.end.y),new ye(k.start.x,k.start.y)]),this.ctx.stroke()),br(u[1])&&(E=u[1],k=u[2],this.ctx.beginPath(),this.formatPath([new ye(E.end.x,E.end.y),new ye(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(s){return _s(this,void 0,void 0,function(){var n;return Ds(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=vs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=NH(s),[4,this.renderStack(n)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(_j),HH=function(t){return t instanceof Bj||t instanceof wj?!0:t instanceof Tp&&t.type!==lu&&t.type!==iu},LH=function(t,e){switch(t){case 0:return uu(e);case 2:return yH(e);case 1:default:return fu(e)}},_H=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},OH=["-apple-system","system-ui"],PH=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return OH.indexOf(e)===-1}):t},KH=(function(t){Or(e,t);function e(s,n){var o=t.call(this,s,n)||this;return o.canvas=n.canvas?n.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=n,o.canvas.width=Math.floor(n.width*n.scale),o.canvas.height=Math.floor(n.height*n.scale),o.canvas.style.width=n.width+"px",o.canvas.style.height=n.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-n.x,-n.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),o}return e.prototype.render=function(s){return _s(this,void 0,void 0,function(){var n,o;return Ds(this,function(i){switch(i.label){case 0:return n=_g(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,s),[4,zH(n)];case 1:return o=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=vs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(_j),zH=function(t){return new Promise(function(e,s){var n=new Image;n.onload=function(){e(n)},n.onerror=s,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},VH=(function(){function t(e){var s=e.id,n=e.enabled;this.id=s,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,dd([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,dd([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,dd([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,dd([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),GH=(function(){function t(e,s){var n;this.windowBounds=s,this.instanceName="#"+t.instanceCount++,this.logger=new VH({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new uH(this,e)}return t.instanceCount=1,t})(),YH=function(t,e){return e===void 0&&(e={}),XH(t,e)};typeof window<"u"&&Ij.setContext(window);var XH=function(t,e){return _s(void 0,void 0,void 0,function(){var s,n,o,i,l,d,u,h,m,p,v,b,w,B,C,j,S,D,N,E,T,k,T,_,M,Z,P,H,W,ne,ie,K,J,z,oe,U,L,F,R,O;return Ds(this,function($){switch($.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(s=t.ownerDocument,!s)throw new Error("Element is not attached to a Document");if(n=s.defaultView,!n)throw new Error("Document is not attached to a Window");return o={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(M=e.imageTimeout)!==null&&M!==void 0?M:15e3,proxy:e.proxy,useCORS:(Z=e.useCORS)!==null&&Z!==void 0?Z:!1},i=jg({logging:(P=e.logging)!==null&&P!==void 0?P:!0,cache:e.cache},o),l={windowWidth:(H=e.windowWidth)!==null&&H!==void 0?H:n.innerWidth,windowHeight:(W=e.windowHeight)!==null&&W!==void 0?W:n.innerHeight,scrollX:(ne=e.scrollX)!==null&&ne!==void 0?ne:n.pageXOffset,scrollY:(ie=e.scrollY)!==null&&ie!==void 0?ie:n.pageYOffset},d=new Ln(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),u=new GH(i,d),h=(K=e.foreignObjectRendering)!==null&&K!==void 0?K:!1,m={allowTaint:(J=e.allowTaint)!==null&&J!==void 0?J:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:h,copyStyles:h},u.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),p=new AB(u,t,m),v=p.clonedReferenceElement,v?[4,p.toIFrame(s,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return b=$.sent(),w=Mp(v)||$M(v)?jI(v.ownerDocument):Fu(u,v),B=w.width,C=w.height,j=w.left,S=w.top,D=$H(u,v,e.backgroundColor),N={canvas:e.canvas,backgroundColor:D,scale:(oe=(z=e.scale)!==null&&z!==void 0?z:n.devicePixelRatio)!==null&&oe!==void 0?oe:1,x:((U=e.x)!==null&&U!==void 0?U:0)+j,y:((L=e.y)!==null&&L!==void 0?L:0)+S,width:(F=e.width)!==null&&F!==void 0?F:Math.ceil(B),height:(R=e.height)!==null&&R!==void 0?R:Math.ceil(C)},h?(u.logger.debug("Document cloned, using foreign object rendering"),T=new KH(u,N),[4,T.render(v)]):[3,3];case 2:return E=$.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+j+","+S+" with size "+B+"x"+C+" using computed rendering"),u.logger.debug("Starting DOM parsing"),k=Nj(u,v),D===k.styles.backgroundColor&&(k.styles.backgroundColor=Tn.TRANSPARENT),u.logger.debug("Starting renderer for element at "+N.x+","+N.y+" with size "+N.width+"x"+N.height),T=new MH(u,N),[4,T.render(k)];case 4:E=$.sent(),$.label=5;case 5:return(!((O=e.removeContainer)!==null&&O!==void 0)||O)&&(AB.destroy(b)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,E]}})})},$H=function(t,e,s){var n=e.ownerDocument,o=n.documentElement?Al(t,getComputedStyle(n.documentElement).backgroundColor):Tn.TRANSPARENT,i=n.body?Al(t,getComputedStyle(n.body).backgroundColor):Tn.TRANSPARENT,l=typeof s=="string"?Al(t,s):s===null?Tn.TRANSPARENT:4294967295;return e===n.documentElement?Ua(o)?Ua(i)?l:i:o:l};const WH=()=>({id:"",number:"",customerId:void 0,customerName:"",customerEmail:"",customerAddress:"",customerPhone:"",issueDate:new Date().toISOString().split("T")[0],dueDate:"",status:"draft",invoiceType:"invoice",currency:"USD",subtotal:0,tax:0,discount:0,total:0,paidAmount:0,balance:0,items:[],notes:"",terms:"",saleId:void 0,saleNumber:void 0});function qH(){const t=vt(),e=en(),{formatCurrency:s,formatDate:n,companySettings:o}=it();console.log("InvoiceDetailPage rendered with params:",e),console.log("Current URL:",typeof window<"u"?window.location.href:"SSR");const[i,l]=x.useState(WH()),[d,u]=x.useState(!0),[h,m]=x.useState(null),[p,v]=x.useState(null),[b,w]=x.useState("invoice"),[B,C]=x.useState("pro-corporate"),[j,S]=x.useState(null),[D,N]=x.useState([]),[E,k]=x.useState(45),T=x.useRef(null),_=x.useRef(null),[M,Z]=x.useState(!1),[P,H]=x.useState(!1),[W,ne]=x.useState("/images/topnotch-logo-dark.png"),[ie,K]=x.useState(["/logo/Apple-Logo.png","/logo/samsung-Logo.png","/logo/Dell Logo.png","/logo/playstation-logo.png","/logo/Google-logo.png","/logo/HP-Logо.png","/logo/lenovo-logo.png","/logo/microsoft-logo.png","/logo/Asus-Logo.png","/logo/Tplink-logo.png"]),J=(o.address||"").split(",").map(xe=>xe.trim()),z={name:o.companyName||"TopNotch Electronics",address:J[0]||"123 Business St",city:J[1]||"San Francisco",state:J[2]?.split(" ")[0]||"CA",zip:J[2]?.split(" ")[1]||"94105",phone:o.phone||"+1 (555) 123-4567",email:o.email||"info@topnotch.com",website:"www.topnotch.com",logo:"/images/topnotch-logo-dark.png"},[oe,U]=x.useState({thankYouMessage:"Thank you for your business!",termsAndConditions:"Payment due within 30 days of invoice date.",socialMedia:{twitter:"@topnotch",linkedin:"linkedin.com/company/topnotch"}}),[L,F]=x.useState("invoice"),[R,O]=x.useState("USD"),[$,re]=x.useState(""),[he,V]=x.useState(!1),[X,G]=x.useState(0),[q,ce]=x.useState(!1),[pe,Ne]=x.useState(""),[at,Nt]=x.useState(0),[ke,Ie]=x.useState({bankName:"Sierra Leone Commercial Bank LTD",accountName:"TopNotch Electronics SL Ltd",accountNumber:"0030103166411125",routingNumber:"0366551",swiftCode:""}),Rt=xe=>{const ve={height:"20px",width:"20px"};switch(xe){case"paid":return r.jsx(Gt,{style:{...ve,color:"#22c55e"}});case"pending":return r.jsx(Xs,{style:{...ve,color:"#eab308"}});case"overdue":return r.jsx(Hn,{style:{...ve,color:"#ef4444"}});case"draft":return r.jsx(Sr,{style:{...ve,color:"#6b7280"}});default:return r.jsx(Xs,{style:{...ve,color:"#6b7280"}})}},hs=async()=>{try{const xe=T.current;if(!xe){v({message:"Invoice preview not found",type:"error"});return}const ve=xe.cloneNode(!0),De=xe.querySelectorAll(".print-invoice"),Ke=ve.querySelectorAll(".print-invoice");Ke.forEach((Xe,Le)=>{const rt=Xe,Re=De[Le],Ze=window.getComputedStyle(Re),Te=["width","height","backgroundColor","color","fontFamily","border","borderWidth","borderStyle","borderColor","borderRadius","boxShadow","boxSizing","position","overflow","display","flexDirection"].map(bt=>{const Wt=bt.replace(/([A-Z])/g,"-$1").toLowerCase(),Fs=Ze.getPropertyValue(Wt);return Fs?`${Wt}: ${Fs} !important;`:""}).filter(Boolean).join(`
            `),$e=`
          padding: ${Ze.getPropertyValue("padding-top")||"10mm"} !important;
        `;rt.setAttribute("style",Te+`
            `+$e)});const $t=Array.from(document.styleSheets).map(Xe=>{try{return Array.from(Xe.cssRules).map(Le=>{if(Le instanceof CSSMediaRule&&Le.media.mediaText.includes("print")){const rt=Array.from(Le.cssRules).filter(Re=>!Re.cssText.includes("border: none")).map(Re=>Re.cssText).join(`
`);return rt?`@media print { ${rt} }`:""}return Le.cssText}).filter(Boolean).join(`
`)}catch{return""}}).join(`
`);let yt="",Ht="";Ke.forEach((Xe,Le)=>{const rt=De[Le],Re=window.getComputedStyle(rt),Ze=Re.getPropertyValue("border-width"),Kt=Re.getPropertyValue("border-style"),Te=Re.getPropertyValue("border-color"),Je=Re.getPropertyValue("border-radius"),$e=Re.getPropertyValue("box-shadow");if(Ze&&Ze!=="0px"&&Ze!=="none"){const bt=`html body .print-invoice:nth-of-type(${Le+1})`,Wt=`html body div[class*="print-invoice"]:nth-of-type(${Le+1})`,Fs=`[style*="${Ze}"][style*="${Te}"]`,Ft=`
              border-width: ${Ze} !important;
              border-style: ${Kt} !important;
              border-color: ${Te} !important;
              border-radius: ${Je} !important;
              box-shadow: ${$e} !important;
            `;yt+=`${bt} { ${Ft} }
`,yt+=`${Wt} { ${Ft} }
`,yt+=`.print-invoice:nth-of-type(${Le+1})${Fs} { ${Ft} }
`,Ht+=`${bt} { ${Ft} }
`,Ht+=`${Wt} { ${Ft} }
`,Ht+=`.print-invoice:nth-of-type(${Le+1})${Fs} { ${Ft} }
`;const Pr=`
              border-width: ${Ze} !important;
              border-style: ${Kt} !important;
              border-color: ${Te} !important;
              border-radius: ${Je} !important;
              box-shadow: ${$e} !important;
            `;Xe.setAttribute("style",Xe.getAttribute("style")+`
            `+Pr)}});const st=`
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Invoice ${i.number}</title>
            <script src="https://cdn.tailwindcss.com"><\/script>
            <style>
              ${$t}
              
              body {
                margin: 0;
                padding: 0;
                background: white;
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
              }
              
              .print-invoice:last-child {
                page-break-after: avoid !important;
              }
              
              /* Ensure colors and borders are preserved in print */
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              
              /* Force border styles - general (loaded BEFORE @media print) */
              ${yt}
              
              @media print {
                html, body {
                  margin: 0 !important;
                  padding: 0 !important;
                  display: block !important;
                  justify-content: initial !important;
                  align-items: initial !important;
                  min-height: 100vh;
                }
                @page {
                  size: A4;
                  margin: 0; /* Completely zero - no margins at all */
                }
                
                /* Remove custom margins - let @page handle it */
                .print-invoice {
                  margin: 0 !important;
                }
              }
              
              /* Force borders to appear in print - LOADED LAST to override everything */
              @media print {
                ${Ht}

                /* Additional border enforcement - maximum specificity */
                html body .print-invoice {
                  border: inherit !important;
                  border-width: inherit !important;
                  border-style: inherit !important;
                  border-color: inherit !important;
                  border-radius: inherit !important;
                  box-shadow: inherit !important;
                }

                /* Final override - target specific elements */
                .print-invoice[style*="border-width"] {
                  border-width: inherit !important;
                  border-style: inherit !important;
                  border-color: inherit !important;
                }
              }
            </style>
          </head>
          <body>
            ${ve.innerHTML}
            <script>
              window.onload = function() {
    window.print();
                window.onafterprint = function() {
                  window.close();
                };
              };
            <\/script>
          </body>
        </html>
      `,Lt=window.open("","_blank");Lt?(Lt.document.write(st),Lt.document.close()):v({message:"Please allow popups for printing",type:"error"})}catch(xe){console.error("Error printing invoice:",xe),v({message:"Failed to print invoice",type:"error"})}},Es=async()=>{try{if(v({message:"Generating PDF...",type:"success"}),typeof window<"u"&&window.electron?.ipcRenderer){const xe=T.current;if(!xe)throw new Error("Invoice preview not found");const ve=xe.cloneNode(!0),De=xe.querySelectorAll(".print-invoice"),Ke=ve.querySelectorAll(".print-invoice");Ke.forEach((Xe,Le)=>{const rt=De[Le],Re=window.getComputedStyle(rt),Kt=["width","height","backgroundColor","color","fontFamily","border","borderWidth","borderStyle","borderColor","borderRadius","boxShadow","boxSizing","position","overflow","display","flexDirection"].map($e=>{const bt=$e.replace(/([A-Z])/g,"-$1").toLowerCase(),Wt=Re.getPropertyValue(bt);return Wt?`${bt}: ${Wt} !important;`:""}).filter(Boolean).join(`
            `),Je=`
            padding: ${Re.getPropertyValue("padding-top")||"10mm"} !important;
          `;Xe.setAttribute("style",Kt+`
            `+Je)});const $t=Array.from(document.styleSheets).map(Xe=>{try{return Array.from(Xe.cssRules).map(Le=>{if(Le instanceof CSSMediaRule&&Le.media.mediaText.includes("print")){const rt=Array.from(Le.cssRules).filter(Re=>!Re.cssText.includes("border: none")).map(Re=>Re.cssText).join(`
`);return rt?`@media print { ${rt} }`:""}return Le.cssText}).filter(Boolean).join(`
`)}catch{return""}}).join(`
`);let yt="",Ht="";Ke.forEach((Xe,Le)=>{const rt=De[Le],Re=window.getComputedStyle(rt),Ze=Re.getPropertyValue("border-width"),Kt=Re.getPropertyValue("border-style"),Te=Re.getPropertyValue("border-color"),Je=Re.getPropertyValue("border-radius"),$e=Re.getPropertyValue("box-shadow");if(Ze&&Ze!=="0px"&&Ze!=="none"){const bt=`html body .print-invoice:nth-of-type(${Le+1})`,Wt=`html body div[class*="print-invoice"]:nth-of-type(${Le+1})`,Fs=`[style*="${Ze}"][style*="${Te}"]`,Ft=`
              border-width: ${Ze} !important;
              border-style: ${Kt} !important;
              border-color: ${Te} !important;
              border-radius: ${Je} !important;
              box-shadow: ${$e} !important;
            `;yt+=`${bt} { ${Ft} }
`,yt+=`${Wt} { ${Ft} }
`,yt+=`.print-invoice:nth-of-type(${Le+1})${Fs} { ${Ft} }
`,Ht+=`${bt} { ${Ft} }
`,Ht+=`${Wt} { ${Ft} }
`,Ht+=`.print-invoice:nth-of-type(${Le+1})${Fs} { ${Ft} }
`}});const st=`
          <!DOCTYPE html>
          <html lang="en">
            <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <title>Invoice ${i.number}</title>
              <script src="https://cdn.tailwindcss.com"><\/script>
              <style>
                ${$t}
                
                body {
                  margin: 0;
                  padding: 0;
                  background: transparent;
                  display: flex;
                  justify-content: center;
                  align-items: flex-start;
                  min-height: 100vh;
                }
                
                .print-invoice:last-child {
                  page-break-after: avoid !important;
                }
                
                /* Ensure colors and borders are preserved in PDF */
                * {
                  -webkit-print-color-adjust: exact !important;
                  color-adjust: exact !important;
                  print-color-adjust: exact !important;
                }
                
                /* Force border styles - general (loaded BEFORE @media print) */
                ${yt}
                
                @media print {
                html, body {
                  margin: 0 !important;
                  padding: 0 !important;
                  display: block !important;
                  justify-content: initial !important;
                  align-items: initial !important;
                  min-height: 100vh;
                }
                  @page {
                    size: A4;
                    margin: 0; /* Completely zero - no margins at all */
                  }
                  
                  /* Remove custom margins - let @page handle it */
                  .print-invoice {
                    margin: 0 !important;
                  }
                }
                
                /* Force borders to appear in PDF - LOADED LAST to override everything */
                @media print {
                  ${Ht}

                  /* Additional border enforcement - maximum specificity */
                  html body .print-invoice {
                    border: inherit !important;
                    border-width: inherit !important;
                    border-style: inherit !important;
                    border-color: inherit !important;
                    border-radius: inherit !important;
                    box-shadow: inherit !important;
                  }

                  /* Final override - target specific elements */
                  .print-invoice[style*="border-width"] {
                    border-width: inherit !important;
                    border-style: inherit !important;
                    border-color: inherit !important;
                  }
                }
              </style>
            </head>
            <body>
              ${ve.innerHTML}
            </body>
          </html>
        `,Lt=await window.electron.ipcRenderer.invoke("generate-invoice-pdf-from-html",{htmlContent:st});if(!Lt)throw new Error("No PDF data received from Electron");if(window.electronAPI&&window.electronAPI.downloadPdfFile){const Xe=await window.electronAPI.downloadPdfFile(Lt,`Invoice-${i.number}.pdf`);if(!Xe.success)throw new Error(Xe.error||"Failed to save PDF file")}else{const Xe=atob(Lt),Le=new Array(Xe.length);for(let Te=0;Te<Xe.length;Te++)Le[Te]=Xe.charCodeAt(Te);const rt=new Uint8Array(Le),Re=new Blob([rt],{type:"application/pdf"}),Ze=window.URL.createObjectURL(Re),Kt=document.createElement("a");Kt.href=Ze,Kt.download=`Invoice-${i.number}.pdf`,document.body.appendChild(Kt),Kt.click(),document.body.removeChild(Kt),window.URL.revokeObjectURL(Ze)}}v({message:"Invoice downloaded successfully!",type:"success"})}catch(xe){console.error("Error generating PDF:",xe),v({message:"Failed to generate PDF",type:"error"})}},rn=async()=>{try{const xe=_.current;if(!xe){v({message:"Receipt element not found",type:"error"});return}v({message:"Generating receipt PDF...",type:"success"});const De=(await YH(xe,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),Ke=document.createElement("a");Ke.download=`Receipt-${i.number}.png`,Ke.href=De,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),v({message:"Receipt downloaded successfully!",type:"success"})}catch(xe){console.error("Error generating receipt:",xe),v({message:"Failed to generate receipt",type:"error"})}},Pn=async()=>{try{let xe=function(){const Ke=encodeURIComponent(`Invoice ${i.number}`),$t=encodeURIComponent(`Dear ${i.customerName},

Please find attached invoice ${i.number} for ${s(i.total)}.

Due Date: ${n(i.dueDate)}

NOTE: Please download the invoice PDF separately and attach it to this email.

Thank you for your business!

Best regards,
${z.name}`),yt=`mailto:${i.customerEmail}?subject=${Ke}&body=${$t}`;window.location.href=yt,v({message:"Email opened - Please manually attach the PDF",type:"success"}),setTimeout(()=>{const Ht=window.URL.createObjectURL(De),st=document.createElement("a");st.href=Ht,st.download=`Invoice-${i.number}.pdf`,document.body.appendChild(st),st.click(),document.body.removeChild(st),window.URL.revokeObjectURL(Ht)},500)};if(!i.customerEmail){v({message:"No customer email address",type:"error"});return}if(v({message:"Generating PDF for email...",type:"success"}),!window.electron?.ipcRenderer)throw new Error("Electron not available");const ve=await window.electron.ipcRenderer.invoke("generate-invoice-pdf",{invoiceId:i.id,templateId:B});if(!ve.success)throw new Error(ve.error||"Failed to generate PDF");const De=ve.data;if(typeof window<"u"&&window.electron){const Ke=new FileReader;Ke.onloadend=async()=>{const yt=Ke.result.split(",")[1];try{const Ht=await window.electron?.ipcRenderer.invoke("email-invoice",{to:i.customerEmail,subject:`Invoice ${i.number}`,body:`Dear ${i.customerName},

Please find attached invoice ${i.number} for ${s(i.total)}.

Due Date: ${n(i.dueDate)}

Thank you for your business!

Best regards,
${z.name}`,pdfBase64:yt,fileName:`Invoice-${i.number}.pdf`});if(Ht?.success)v({message:"Email client opened with invoice attached!",type:"success"});else throw new Error(Ht?.error||"Unknown error")}catch(Ht){console.error("Error sending email via Electron:",Ht),xe()}},Ke.readAsDataURL(De)}else xe()}catch(xe){console.error("Error preparing email:",xe),v({message:"Failed to prepare email",type:"error"})}},ht=async()=>{try{navigator.share?(await navigator.share({title:`Invoice ${i.number}`,text:`Invoice for ${i.customerName} - ${s(i.total)}`,url:window.location.href}),v({message:"Invoice shared successfully!",type:"success"})):(await navigator.clipboard.writeText(window.location.href),v({message:"Invoice link copied to clipboard!",type:"success"}))}catch(xe){console.error("Error sharing:",xe),v({message:"Failed to share invoice",type:"error"})}},Ms=xe=>{const ve=xe.target.files?.[0];if(ve){const De=new FileReader;De.onload=Ke=>{const $t=Ke.target?.result;ne($t),v({message:"Company logo uploaded successfully!",type:"success"})},De.readAsDataURL(ve)}},Hs=xe=>{const ve=xe.target.files?.[0];if(ve){const De=new FileReader;De.onload=Ke=>{const $t=Ke.target?.result;K(yt=>[...yt,$t]),v({message:"Brand logo added successfully!",type:"success"})},De.readAsDataURL(ve)}},qe=async()=>{if(!$||parseFloat($)<=0){v({message:"Please enter a valid payment amount",type:"error"});return}try{const xe=parseFloat($),De=(i.paidAmount||0)+xe;if(De>i.total){v({message:"Payment amount exceeds invoice total",type:"error"});return}if(typeof window<"u"&&window.electron?.ipcRenderer){let Ke=i.status;De>=i.total?Ke="paid":De>0&&(Ke="sent");const $t=await window.electron.ipcRenderer.invoke("update-invoice",{id:i.id,body:{paidAmount:De,status:Ke}});if(!$t.success)throw new Error($t.error||"Failed to update payment");l(yt=>({...yt,paidAmount:De,status:Ke})),re(""),v({message:`Payment of ${s(xe)} recorded successfully`,type:"success"})}else throw new Error("Electron IPC not available")}catch(xe){console.error("Failed to update payment:",xe),v({message:"Failed to record payment",type:"error"})}},Tt=async()=>{if(!pe||parseFloat(pe)<=0){v({message:"Please enter a valid credit amount",type:"error"});return}try{const xe=parseFloat(pe);if(xe>at){v({message:`Only ${s(at)} credit available`,type:"error"});return}if(typeof window<"u"&&window.electron?.ipcRenderer){const ve=await window.electron.ipcRenderer.invoke("apply-customer-credit",{invoiceId:i.id,customerId:i.customerId,creditAmount:xe});if(!ve.success)throw new Error(ve.error||"Failed to apply credit");v({message:`${s(xe)} credit applied successfully!`,type:"success"}),ce(!1),Ne(""),Nt(ve.data?.remainingCredit||0),window.location.reload()}else throw new Error("Electron IPC not available")}catch(xe){console.error("Failed to apply credit:",xe),v({message:"Failed to apply credit",type:"error"})}},Mt=async xe=>{try{if(typeof window<"u"&&window.electron?.ipcRenderer){const ve=await window.electron.ipcRenderer.invoke("handle-invoice-overpayment",{invoiceId:i.id,action:xe,overpaymentAmount:X,customerId:i.customerId});if(!ve.success)throw new Error(ve.error||"Failed to handle overpayment");v({message:ve.message||"Overpayment handled successfully",type:"success"}),V(!1),G(0),window.location.reload()}else throw new Error("Electron IPC not available")}catch(ve){console.error("Failed to handle overpayment:",ve),v({message:"Failed to handle overpayment",type:"error"})}},Bo=xe=>{K(ve=>ve.filter((De,Ke)=>Ke!==xe)),v({message:"Brand logo removed",type:"success"})},Ar=()=>{Z(!1),v({message:"Header information saved successfully!",type:"success"})},Co=()=>{H(!1),v({message:"Footer information saved successfully!",type:"success"})},nn=xe=>Ba.find(De=>De.id===xe)||Ba[0],Kn=async()=>{try{const xe=ke.bankName&&ke.accountNumber?{bankName:ke.bankName,accountName:ke.accountName||"",accountNumber:ke.accountNumber,routingNumber:ke.routingNumber||"",swiftCode:ke.swiftCode||""}:void 0;if(typeof window<"u"&&window.electron?.ipcRenderer){const ve=await window.electron.ipcRenderer.invoke("update-invoice",{id:i.id,body:{invoiceType:L,currency:R,bankDetails:xe,status:i.status}});if(!ve.success)throw new Error(ve.error||"Failed to update invoice");v({message:"Invoice saved successfully!",type:"success"})}}catch(xe){console.error("Error saving invoice:",xe),v({message:"Failed to save invoice",type:"error"})}};return Yt.useEffect(()=>{(async()=>{try{let ve=[];if(typeof window<"u"&&window.electron?.ipcRenderer){const De=await window.electron.ipcRenderer.invoke("get-invoice-templates");if(De.success)ve=De.data||[];else throw new Error(De.error||"Failed to fetch templates")}else throw new Error("Electron IPC not available");if(ve&&ve.length>0){N(ve);const De=ve.find(Ke=>Ke.id===B)||ve[0];S(De)}else N(Ba),S(nn(B))}catch(ve){console.error("Error loading templates:",ve),N(Ba),S(nn(B))}})()},[B]),Yt.useEffect(()=>{if(D.length>0){const xe=D.find(ve=>ve.id===B);xe&&S(xe)}},[B,D]),Yt.useEffect(()=>{(async()=>{if(e.id)try{let ve;if(!window.electron?.ipcRenderer)throw new Error("Electron not available");const De=await window.electron.ipcRenderer.invoke("get-invoice-by-id",e.id);if(De.success&&De.data){ve=De.data,l(ve),F(ve.invoiceType),O(ve.currency),Ie(ve.bankDetails?{bankName:ve.bankDetails.bankName,accountName:ve.bankDetails.accountName||"",accountNumber:ve.bankDetails.accountNumber,routingNumber:ve.bankDetails.routingNumber||"",swiftCode:ve.bankDetails.swiftCode||""}:ke);const Ke=ve.paidAmount||0,$t=ve.total||0;if(Ke>$t&&(G(Ke-$t),new URLSearchParams(window.location.search).get("overpayment")==="true"&&V(!0)),ve.customerId&&typeof window<"u"&&window.electron?.ipcRenderer){const yt=await window.electron.ipcRenderer.invoke("get-customer-by-id",ve.customerId);yt.success&&yt.data&&Nt(yt.data.storeCredit||0)}}else{m(De.error||"Invoice not found"),v({message:De.error||"Invoice not found",type:"error"});return}}catch(ve){console.error("Error loading invoice:",ve),m("Failed to load invoice"),v({message:"Failed to load invoice",type:"error"})}finally{u(!1)}})()},[e.id]),d?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading invoice details..."})]})}):h?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Hn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Invoice Not Found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:h}),r.jsxs("div",{className:"space-x-4",children:[r.jsxs(te,{onClick:()=>t("/invoices"),className:"inline-flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4"}),"Back to Invoices"]}),r.jsx(te,{variant:"outline",onClick:()=>{m(null),u(!0),window.location.reload()},className:"inline-flex items-center gap-2",children:"Try Again"})]})]})}):r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t("/invoices"),className:"p-2",children:r.jsx(Bs,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"Invoice Details"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"View and manage invoice information"}),i.saleId&&r.jsx("div",{className:"mt-2",children:r.jsxs("button",{onClick:()=>t(`/sales/${i.saleId}`),className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium hover:opacity-80 transition-opacity cursor-pointer",style:{backgroundColor:"var(--accent)10",color:"var(--accent)",border:"1px solid var(--accent)30"},children:[r.jsx(et,{className:"h-3 w-3"}),"Created from Sale #",i.saleNumber||i.saleId.substring(0,8)]})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(te,{onClick:Kn,className:"flex items-center gap-2",children:[r.jsx(Br,{className:"h-4 w-4"}),"Save Changes"]}),r.jsxs(te,{variant:"outline",onClick:()=>t(`/invoices/${i.id}/edit`),className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-4 w-4"}),"Edit Invoice"]}),r.jsxs(te,{variant:"outline",onClick:()=>t("/invoices/templates"),className:"flex items-center gap-2",children:[r.jsx(lC,{className:"h-4 w-4"}),"Templates"]}),r.jsxs(te,{variant:"outline",onClick:hs,className:"flex items-center gap-2",children:[r.jsx(jA,{className:"h-4 w-4"}),"Print"]}),r.jsxs(te,{variant:"outline",onClick:Es,className:"flex items-center gap-2",children:[r.jsx(mo,{className:"h-4 w-4"}),"Download"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(je,{title:"Invoice Total",value:s(i.total),icon:r.jsx(et,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:X>0?"Overpayment":"Balance Due",value:s(Math.abs((i.total||0)-(i.paidAmount||0))),icon:X>0?r.jsx(et,{style:{height:"24px",width:"24px",color:"#22c55e"}}):r.jsx(Xs,{style:{height:"24px",width:"24px",color:"#f97316"}})}),X>0&&r.jsx("button",{onClick:()=>V(!0),className:"col-span-1 p-4 bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-300 dark:border-yellow-700 rounded-lg hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-all",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(et,{style:{height:"20px",width:"20px",color:"#ca8a04"}}),r.jsx("span",{className:"text-sm font-semibold",style:{color:"#92400e"},children:"Handle Overpayment"})]})}),r.jsx(je,{title:"Status",value:i.status.charAt(0).toUpperCase()+i.status.slice(1),icon:Rt(i.status)}),r.jsx(je,{title:"Due Date",value:n(i.dueDate||i.issueDate||new Date),icon:r.jsx(ka,{className:"h-6 w-6",style:{color:"var(--accent)"}})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Invoice Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Invoice Type"}),r.jsxs("select",{value:L,onChange:xe=>F(xe.target.value),className:"w-full px-3 py-2 border rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm",children:[r.jsx("option",{value:"invoice",children:"Invoice"}),r.jsx("option",{value:"proforma",children:"Proforma Invoice"}),r.jsx("option",{value:"quote",children:"Quotation"}),r.jsx("option",{value:"credit_note",children:"Credit Note"}),r.jsx("option",{value:"debit_note",children:"Debit Note"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Currency"}),r.jsxs("select",{value:R,onChange:xe=>O(xe.target.value),className:"w-full px-3 py-2 border rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm",children:[r.jsx("option",{value:"USD",children:"USD - US Dollar ($)"}),r.jsx("option",{value:"SLL",children:"SLL - Sierra Leone Leone"}),r.jsx("option",{value:"EUR",children:"EUR - Euro (€)"}),r.jsx("option",{value:"GBP",children:"GBP - British Pound (£)"}),r.jsx("option",{value:"NGN",children:"NGN - Nigerian Naira (₦)"})]})]})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Payment Tracking"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Total Amount:"}),r.jsx("div",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(i.total)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Paid Amount:"}),r.jsx("div",{className:"font-semibold",style:{color:"#16a34a"},children:s(i.paidAmount||0)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Balance Due:"}),r.jsx("div",{className:"font-semibold",style:{color:"#dc2626"},children:s((i.total||0)-(i.paidAmount||0))})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Payment Status:"}),r.jsx("div",{className:"font-semibold",style:{color:(i.paidAmount||0)>=(i.total||0)?"#16a34a":(i.paidAmount||0)>0?"#ca8a04":"#dc2626"},children:(i.paidAmount||0)>=(i.total||0)?"Fully Paid":(i.paidAmount||0)>0?"Partially Paid":"Unpaid"})]})]}),r.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border)"},children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Record Payment"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(fe,{type:"number",min:"0",max:i.total,step:"0.01",placeholder:"Enter payment amount",value:$,onChange:xe=>re(xe.target.value),className:"flex-1"}),r.jsxs(te,{onClick:qe,disabled:!$||parseFloat($)<=0,className:"flex items-center gap-2",children:[r.jsx(Br,{className:"h-4 w-4"}),"Record"]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the amount received from the customer"}),i.customerId&&at>0&&i.total-(i.paidAmount||0)>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t",style:{borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium",style:{color:"var(--foreground)"},children:"Available Store Credit"}),r.jsx("span",{className:"text-sm font-semibold",style:{color:"#16a34a"},children:s(at)})]}),r.jsxs(te,{variant:"outline",onClick:()=>ce(!0),className:"w-full flex items-center justify-center gap-2",children:[r.jsx(et,{className:"h-4 w-4"}),"Apply Store Credit"]})]})]})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Company Header"}),r.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>Z(!M),className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-4 w-4"}),M?"Cancel":"Edit"]})]}),M?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Company Logo"}),r.jsxs("div",{className:"flex items-center gap-4",children:[W&&r.jsx("img",{src:W,alt:"Company Logo",className:"h-12 w-12 object-contain rounded"}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:Ms,className:"hidden"}),r.jsxs(te,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(go,{className:"h-4 w-4"}),W?"Change Logo":"Upload Logo"]})]})]})]}),r.jsxs("div",{className:"p-4 rounded-lg border mb-4",style:{borderColor:"var(--border)",backgroundColor:"var(--muted)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Company information is loaded from Settings. To update, go to Settings → Company Info."}),r.jsx(te,{variant:"outline",size:"sm",onClick:()=>t("/settings"),className:"mt-2",children:"Go to Settings"})]}),r.jsx(fe,{label:"Company Name",value:z.name,disabled:!0}),r.jsx(fe,{label:"Address",value:z.address,disabled:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(fe,{label:"City",value:z.city,disabled:!0}),r.jsx(fe,{label:"State",value:z.state,disabled:!0})]}),r.jsx(fe,{label:"ZIP Code",value:z.zip,disabled:!0}),r.jsx(fe,{label:"Phone",value:z.phone,disabled:!0}),r.jsx(fe,{label:"Email",value:z.email,disabled:!0}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsxs(te,{onClick:Ar,className:"flex items-center gap-2",children:[r.jsx(Br,{className:"h-4 w-4"}),"Save Changes"]}),r.jsx(te,{variant:"outline",onClick:()=>Z(!1),children:"Cancel"})]})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[W&&r.jsx("img",{src:W,alt:"Company Logo",className:"h-10 w-10 object-contain rounded"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",style:{color:"var(--foreground)"},children:z.name}),r.jsxs("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:[z.address,", ",z.city,", ",z.state," ",z.zip]})]})]}),r.jsxs("div",{className:"space-y-1 text-sm",style:{color:"var(--muted-foreground)"},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(AC,{className:"h-4 w-4"}),z.phone]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ml,{className:"h-4 w-4"}),z.email]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(aC,{className:"h-4 w-4"}),z.website]})]})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Footer Content"}),r.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>H(!P),className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-4 w-4"}),P?"Cancel":"Edit"]})]}),P?r.jsxs("div",{className:"space-y-4",children:[r.jsx(as,{label:"Thank You Message",value:oe.thankYouMessage,onChange:xe=>U(ve=>({...ve,thankYouMessage:xe.target.value})),rows:2}),r.jsx(as,{label:"Terms & Conditions",value:oe.termsAndConditions,onChange:xe=>U(ve=>({...ve,termsAndConditions:xe.target.value})),rows:2}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Brand Logos"}),r.jsxs("div",{className:"space-y-3",children:[ie.map((xe,ve)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded",style:{borderColor:"var(--border)"},children:[r.jsx("img",{src:xe,alt:`Brand ${ve+1}`,className:"h-8 w-8 object-contain"}),r.jsxs("span",{className:"flex-1 text-sm",style:{color:"var(--muted-foreground)"},children:["Brand Logo ",ve+1]}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>Bo(ve),className:"text-red-600 hover:text-red-700",children:r.jsx(Rn,{className:"h-4 w-4"})})]},ve)),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:Hs,className:"hidden"}),r.jsxs(te,{variant:"outline",size:"sm",className:"flex items-center gap-2 w-full",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Add Brand Logo"]})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsxs(te,{onClick:Co,className:"flex items-center gap-2",children:[r.jsx(Br,{className:"h-4 w-4"}),"Save Changes"]}),r.jsx(te,{variant:"outline",onClick:()=>H(!1),children:"Cancel"})]})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"var(--foreground)"},children:"Thank You Message"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:oe.thankYouMessage})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"var(--foreground)"},children:"Terms & Conditions"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:oe.termsAndConditions})]}),ie.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Partner Brands"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map((xe,ve)=>r.jsx("img",{src:xe,alt:`Brand ${ve+1}`,className:"h-6 w-6 object-contain"},ve))})]})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Payment Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(fe,{label:"Bank Name",value:ke.bankName,onChange:xe=>Ie(ve=>({...ve,bankName:xe.target.value})),placeholder:"Enter bank name"}),r.jsx(fe,{label:"Account Name (Optional)",value:ke.accountName||"",onChange:xe=>Ie(ve=>({...ve,accountName:xe.target.value})),placeholder:"Enter account name"}),r.jsx(fe,{label:"Account Number",value:ke.accountNumber,onChange:xe=>Ie(ve=>({...ve,accountNumber:xe.target.value})),placeholder:"Enter account number"}),r.jsx(fe,{label:"Routing/Sort Code (Optional)",value:ke.routingNumber||"",onChange:xe=>Ie(ve=>({...ve,routingNumber:xe.target.value})),placeholder:"Enter routing or sort code"}),r.jsx(fe,{label:"SWIFT/BIC Code (Optional)",value:ke.swiftCode||"",onChange:xe=>Ie(ve=>({...ve,swiftCode:xe.target.value})),placeholder:"Enter SWIFT or BIC code"})]})]})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"p-4 border-b flex items-center justify-between flex-wrap gap-3",style:{borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-800 rounded-lg p-0.5",children:[r.jsx(te,{variant:b==="invoice"?"default":"ghost",size:"sm",onClick:()=>w("invoice"),className:"px-2.5 py-1 h-7 text-xs",children:"Invoice"}),r.jsx(te,{variant:b==="receipt"?"default":"ghost",size:"sm",onClick:()=>w("receipt"),className:"px-2.5 py-1 h-7 text-xs",children:"Receipt"})]}),b==="invoice"&&r.jsxs("select",{value:B,onChange:xe=>C(xe.target.value),className:"px-2 py-1 border rounded text-xs h-7",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--foreground)"},children:[r.jsx("option",{value:"pro-corporate",children:"Pro Corporate"}),r.jsx("option",{value:"modern-stripe",children:"Modern Stripe"}),r.jsx("option",{value:"minimal-outline",children:"Minimal Outline"}),r.jsx("option",{value:"elegant-dark",children:"Elegant Dark"}),r.jsx("option",{value:"classic-column",children:"Classic Column"})]}),r.jsxs("div",{className:"flex items-center gap-0.5 px-2 py-1 rounded border text-xs",style:{borderColor:"var(--border)"},children:[r.jsx("button",{onClick:()=>k(Math.max(30,E-5)),className:"w-5 h-5 flex items-center justify-center rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx("span",{className:"font-bold",children:"−"})}),r.jsxs("button",{onClick:()=>k(45),className:"font-mono w-10 text-center hover:underline",children:[E,"%"]}),r.jsx("button",{onClick:()=>k(Math.min(100,E+5)),className:"w-5 h-5 flex items-center justify-center rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx("span",{className:"font-bold",children:"+"})})]})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(te,{onClick:hs,variant:"outline",size:"sm",className:"h-7 px-2 text-xs",title:"Print",children:r.jsx(jA,{className:"h-3.5 w-3.5"})}),r.jsx(te,{onClick:b==="invoice"?Es:rn,variant:"outline",size:"sm",className:"h-7 px-2 text-xs",title:"Download PDF",children:r.jsx(mo,{className:"h-3.5 w-3.5"})}),b==="invoice"&&r.jsxs(r.Fragment,{children:[r.jsx(te,{onClick:Pn,variant:"outline",size:"sm",className:"h-7 px-2 text-xs",title:"Email",children:r.jsx(ml,{className:"h-3.5 w-3.5"})}),r.jsx(te,{onClick:ht,variant:"outline",size:"sm",className:"h-7 px-2 text-xs",title:"Share",children:r.jsx(cp,{className:"h-3.5 w-3.5"})})]})]})]}),r.jsx("div",{className:"relative w-full overflow-auto bg-gray-50 dark:bg-gray-950",style:{minHeight:"600px",maxHeight:"calc(100vh - 250px)"},children:r.jsx("div",{className:"flex justify-center items-start p-4",style:{minWidth:"fit-content"},children:b==="invoice"?j?r.jsx("div",{ref:T,"data-invoice-preview":!0,className:"shadow-xl rounded-lg border transition-transform duration-300 overflow-hidden bg-white",style:{transform:`scale(${E/100})`,transformOrigin:"top center",borderColor:"var(--border)",marginBottom:`${(100-E)*3}px`},children:r.jsx(T1,{data:{invoiceNumber:i.number,date:i.issueDate,dueDate:i.dueDate,invoiceType:L,currency:R,status:i.status,paidAmount:i.paidAmount,balance:i.balance,company:{name:z.name,address:z.address,city:z.city,state:z.state,zip:z.zip,phone:z.phone,email:z.email,logo:W},customer:{name:i.customerName,address:i.customerAddress,city:"",state:"",zip:"",phone:i.customerPhone||"",email:i.customerEmail},items:i.items,notes:i.notes||oe.thankYouMessage,terms:i.terms||oe.termsAndConditions,taxRate:i.subtotal>0?i.tax/(i.subtotal-i.discount)*100:0,discount:i.subtotal>0?i.discount/i.subtotal*100:0,bankDetails:ke},template:j,brandLogos:ie,className:""})}):r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading template..."})]})}):r.jsx("div",{ref:_,children:r.jsx(D1,{data:{receiptNumber:i.number,date:i.issueDate,time:new Date().toLocaleTimeString(),company:{name:z.name,address:`${z.address}, ${z.city}, ${z.state} ${z.zip}`,city:z.city,state:z.state,zip:z.zip,phone:z.phone,email:z.email,logo:W},customer:{name:i.customerName,email:i.customerEmail,phone:i.customerPhone||""},items:i.items,paymentMethod:i.paidAmount>=i.total?"Cash":"Pending",taxRate:i.subtotal>0?i.tax/(i.subtotal-i.discount)*100:0,discount:i.subtotal>0?i.discount/i.subtotal*100:0}})})})})]})})]}),q&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Apply Store Credit"}),r.jsx("button",{onClick:()=>{ce(!1),Ne("")},className:"text-muted-foreground hover:text-foreground",children:r.jsx(Rn,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm",style:{color:"#166534"},children:"Available Credit:"}),r.jsx("span",{className:"text-lg font-bold",style:{color:"#16a34a"},children:s(at)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding Balance:"}),r.jsx("span",{className:"text-lg font-bold text-foreground",children:s((i.total||0)-(i.paidAmount||0))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",children:"Credit Amount to Apply"}),r.jsx(fe,{type:"number",min:"0",max:Math.min(at,(i.total||0)-(i.paidAmount||0)),step:"0.01",placeholder:"Enter amount",value:pe,onChange:xe=>Ne(xe.target.value)}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum: ",s(Math.min(at,(i.total||0)-(i.paidAmount||0)))]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(te,{variant:"outline",onClick:()=>{const xe=Math.min(at,(i.total||0)-(i.paidAmount||0));Ne(xe.toString())},className:"flex-1",children:"Use Maximum"}),r.jsx(te,{onClick:Tt,disabled:!pe||parseFloat(pe)<=0,className:"flex-1",children:"Apply Credit"})]})]})]})}),he&&X>0&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Overpayment Detected"}),r.jsx("button",{onClick:()=>V(!1),className:"text-muted-foreground hover:text-foreground",children:r.jsx(Rn,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("p",{className:"text-muted-foreground mb-4",children:["Customer has overpaid by ",r.jsx("span",{className:"font-bold text-accent",children:s(X)}),". How would you like to handle this overpayment?"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>Mt("store-credit"),className:"w-full p-4 text-left rounded-lg border-2 border-border hover:border-accent hover:bg-accent/5 transition-all",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(et,{className:"h-6 w-6 text-accent flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-foreground",children:"Convert to Store Credit"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Add ",s(X)," to customer's store credit balance"]})]})]})}),r.jsx("button",{onClick:()=>Mt("refunded"),className:"w-full p-4 text-left rounded-lg border-2 border-border hover:border-accent hover:bg-accent/5 transition-all",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Gt,{style:{height:"24px",width:"24px",color:"#22c55e"},className:"flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-foreground",children:"Mark as Refunded"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Customer has been refunded ",s(X)]})]})]})}),r.jsx("button",{onClick:()=>Mt("keep"),className:"w-full p-4 text-left rounded-lg border-2 border-border hover:border-accent hover:bg-accent/5 transition-all",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Xs,{className:"h-6 w-6 text-blue-500 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-foreground",children:"Keep on Account"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Leave overpayment on account for future invoices"})]})]})})]})]})]})}),p&&r.jsx(It,{title:p.message,variant:p.type,onClose:()=>v(null),children:p.message})]})}var Om={},Pm={},uB;function wo(){if(uB)return Pm;uB=1;function t(e){return e&&e.__esModule?e:{default:e}}return Pm._=t,Pm}var Km={},zm={},fB;function Hp(){return fB||(fB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return e}});let e=s=>{}})(zm)),zm}var Vm={},hB;function ZH(){return hB||(hB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return e}});function e(s){let{widthInt:n,heightInt:o,blurWidth:i,blurHeight:l,blurDataURL:d,objectFit:u}=s;const h=20,m=i?i*40:n,p=l?l*40:o,v=m&&p?"viewBox='0 0 "+m+" "+p+"'":"",b=v?"none":u==="contain"?"xMidYMid":u==="cover"?"xMidYMid slice":"none";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+v+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='"+h+"'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='"+h+"'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+b+"' style='filter: url(%23b);' href='"+d+"'/%3E%3C/svg%3E"}})(Vm)),Vm}var Gm={},mB;function Lp(){return mB||(mB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(o,i){for(var l in i)Object.defineProperty(o,l,{enumerable:!0,get:i[l]})}e(t,{VALID_LOADERS:function(){return s},imageConfigDefault:function(){return n}});const s=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}})(Gm)),Gm}var gB;function Oj(){return gB||(gB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return m}}),Hp();const e=ZH(),s=Lp(),n=["-moz-initial","fill","none","scale-down",void 0];function o(p){return p.default!==void 0}function i(p){return p.src!==void 0}function l(p){return!!p&&typeof p=="object"&&(o(p)||i(p))}function d(p){return typeof p>"u"?p:typeof p=="number"?Number.isFinite(p)?p:NaN:typeof p=="string"&&/^[0-9]+$/.test(p)?parseInt(p,10):NaN}function u(p,v,b){let{deviceSizes:w,allSizes:B}=p;if(b){const j=/(^|\s)(1?\d?\d)vw/g,S=[];for(let D;D=j.exec(b);D)S.push(parseInt(D[2]));if(S.length){const D=Math.min(...S)*.01;return{widths:B.filter(N=>N>=w[0]*D),kind:"w"}}return{widths:B,kind:"w"}}return typeof v!="number"?{widths:w,kind:"w"}:{widths:[...new Set([v,v*2].map(j=>B.find(S=>S>=j)||B[B.length-1]))],kind:"x"}}function h(p){let{config:v,src:b,unoptimized:w,width:B,quality:C,sizes:j,loader:S}=p;if(w)return{src:b,srcSet:void 0,sizes:void 0};const{widths:D,kind:N}=u(v,B,j),E=D.length-1;return{sizes:!j&&N==="w"?"100vw":j,srcSet:D.map((k,T)=>S({config:v,src:b,quality:C,width:k})+" "+(N==="w"?k:T+1)+N).join(", "),src:S({config:v,src:b,quality:C,width:D[E]})}}function m(p,v){let{src:b,sizes:w,unoptimized:B=!1,priority:C=!1,loading:j,className:S,quality:D,width:N,height:E,fill:k=!1,style:T,overrideSrc:_,onLoad:M,onLoadingComplete:Z,placeholder:P="empty",blurDataURL:H,fetchPriority:W,decoding:ne="async",layout:ie,objectFit:K,objectPosition:J,lazyBoundary:z,lazyRoot:oe,...U}=p;const{imgConf:L,showAltText:F,blurComplete:R,defaultLoader:O}=v;let $,re=L||s.imageConfigDefault;if("allSizes"in re)$=re;else{var he;const ht=[...re.deviceSizes,...re.imageSizes].sort((qe,Tt)=>qe-Tt),Ms=re.deviceSizes.sort((qe,Tt)=>qe-Tt),Hs=(he=re.qualities)==null?void 0:he.sort((qe,Tt)=>qe-Tt);$={...re,allSizes:ht,deviceSizes:Ms,qualities:Hs}}if(typeof O>"u")throw Object.defineProperty(new Error(`images.loaderFile detected but the file is missing default export.
Read more: https://nextjs.org/docs/messages/invalid-images-config`),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let V=U.loader||O;delete U.loader,delete U.srcSet;const X="__next_img_default"in V;if(X){if($.loader==="custom")throw Object.defineProperty(new Error('Image with src "'+b+`" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{const ht=V;V=Ms=>{const{config:Hs,...qe}=Ms;return ht(qe)}}if(ie){ie==="fill"&&(k=!0);const ht={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}},Ms={responsive:"100vw",fill:"100vw"},Hs=ht[ie];Hs&&(T={...T,...Hs});const qe=Ms[ie];qe&&!w&&(w=qe)}let G="",q=d(N),ce=d(E),pe,Ne;if(l(b)){const ht=o(b)?b.default:b;if(!ht.src)throw Object.defineProperty(new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(ht)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!ht.height||!ht.width)throw Object.defineProperty(new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(ht)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(pe=ht.blurWidth,Ne=ht.blurHeight,H=H||ht.blurDataURL,G=ht.src,!k){if(!q&&!ce)q=ht.width,ce=ht.height;else if(q&&!ce){const Ms=q/ht.width;ce=Math.round(ht.height*Ms)}else if(!q&&ce){const Ms=ce/ht.height;q=Math.round(ht.width*Ms)}}}b=typeof b=="string"?b:G;let at=!C&&(j==="lazy"||typeof j>"u");(!b||b.startsWith("data:")||b.startsWith("blob:"))&&(B=!0,at=!1),$.unoptimized&&(B=!0),X&&!$.dangerouslyAllowSVG&&b.split("?",1)[0].endsWith(".svg")&&(B=!0);const Nt=d(D),ke=Object.assign(k?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:K,objectPosition:J}:{},F?{}:{color:"transparent"},T),Ie=!R&&P!=="empty"?P==="blur"?'url("data:image/svg+xml;charset=utf-8,'+(0,e.getImageBlurSvg)({widthInt:q,heightInt:ce,blurWidth:pe,blurHeight:Ne,blurDataURL:H||"",objectFit:ke.objectFit})+'")':'url("'+P+'")':null,Rt=n.includes(ke.objectFit)?ke.objectFit==="fill"?"100% 100%":"cover":ke.objectFit;let hs=Ie?{backgroundSize:Rt,backgroundPosition:ke.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Ie}:{};const Es=h({config:$,src:b,unoptimized:B,width:q,quality:Nt,sizes:w,loader:V});return{props:{...U,loading:at?"lazy":j,fetchPriority:W,width:q,height:ce,decoding:ne,className:S,style:{...ke,...hs},sizes:Es.sizes,srcSet:Es.srcSet,src:_||Es.src},meta:{unoptimized:B,priority:C,placeholder:P,fill:k}}}})(Km)),Km}var Id={exports:{}},Ym={},pB;function Pj(){if(pB)return Ym;pB=1;function t(s){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(t=function(i){return i?o:n})(s)}function e(s,n){if(!n&&s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var o=t(n);if(o&&o.has(s))return o.get(s);var i={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in s)if(d!=="default"&&Object.prototype.hasOwnProperty.call(s,d)){var u=l?Object.getOwnPropertyDescriptor(s,d):null;u&&(u.get||u.set)?Object.defineProperty(i,d,u):i[d]=s[d]}return i.default=s,o&&o.set(s,i),i}return Ym._=e,Ym}var Rd={exports:{}},Xm={},xB;function JH(){return xB||(xB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=Lr(),s=typeof window>"u",n=s?()=>{}:e.useLayoutEffect,o=s?()=>{}:e.useEffect;function i(l){const{headManager:d,reduceComponentsToState:u}=l;function h(){if(d&&d.mountedInstances){const p=e.Children.toArray(Array.from(d.mountedInstances).filter(Boolean));d.updateHead(u(p,l))}}if(s){var m;d==null||(m=d.mountedInstances)==null||m.add(l.children),h()}return n(()=>{var p;return d==null||(p=d.mountedInstances)==null||p.add(l.children),()=>{var v;d==null||(v=d.mountedInstances)==null||v.delete(l.children)}}),n(()=>(d&&(d._pendingUpdate=h),()=>{d&&(d._pendingUpdate=h)})),o(()=>(d&&d._pendingUpdate&&(d._pendingUpdate(),d._pendingUpdate=null),()=>{d&&d._pendingUpdate&&(d._pendingUpdate(),d._pendingUpdate=null)})),null}})(Xm)),Xm}var $m={},vB;function eL(){return vB||(vB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return n}});const n=wo()._(Lr()).default.createContext({})})($m)),$m}var Wm={},yB;function tL(){return yB||(yB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HeadManagerContext",{enumerable:!0,get:function(){return n}});const n=wo()._(Lr()).default.createContext({})})(Wm)),Wm}var qm={},bB;function sL(){return bB||(bB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return e}});function e(s){let{ampFirst:n=!1,hybrid:o=!1,hasQuery:i=!1}=s===void 0?{}:s;return n||o&&i}})(qm)),qm}var wB;function rL(){return wB||(wB=1,(function(t,e){"use client";Object.defineProperty(e,"__esModule",{value:!0});function s(S,D){for(var N in D)Object.defineProperty(S,N,{enumerable:!0,get:D[N]})}s(e,{default:function(){return j},defaultHead:function(){return p}});const n=wo(),o=Pj(),i=ep(),l=o._(Lr()),d=n._(JH()),u=eL(),h=tL(),m=sL();Hp();function p(S){S===void 0&&(S=!1);const D=[(0,i.jsx)("meta",{charSet:"utf-8"},"charset")];return S||D.push((0,i.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),D}function v(S,D){return typeof D=="string"||typeof D=="number"?S:D.type===l.default.Fragment?S.concat(l.default.Children.toArray(D.props.children).reduce((N,E)=>typeof E=="string"||typeof E=="number"?N:N.concat(E),[])):S.concat(D)}const b=["name","httpEquiv","charSet","itemProp"];function w(){const S=new Set,D=new Set,N=new Set,E={};return k=>{let T=!0,_=!1;if(k.key&&typeof k.key!="number"&&k.key.indexOf("$")>0){_=!0;const M=k.key.slice(k.key.indexOf("$")+1);S.has(M)?T=!1:S.add(M)}switch(k.type){case"title":case"base":D.has(k.type)?T=!1:D.add(k.type);break;case"meta":for(let M=0,Z=b.length;M<Z;M++){const P=b[M];if(k.props.hasOwnProperty(P))if(P==="charSet")N.has(P)?T=!1:N.add(P);else{const H=k.props[P],W=E[P]||new Set;(P!=="name"||!_)&&W.has(H)?T=!1:(W.add(H),E[P]=W)}}break}return T}}function B(S,D){const{inAmpMode:N}=D;return S.reduce(v,[]).reverse().concat(p(N).reverse()).filter(w()).reverse().map((E,k)=>{const T=E.key||k;return l.default.cloneElement(E,{key:T})})}function C(S){let{children:D}=S;const N=(0,l.useContext)(u.AmpStateContext),E=(0,l.useContext)(h.HeadManagerContext);return(0,i.jsx)(d.default,{reduceComponentsToState:B,headManager:E,inAmpMode:(0,m.isInAmpMode)(N),children:D})}const j=C;(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)})(Rd,Rd.exports)),Rd.exports}var Zm={},BB;function nL(){return BB||(BB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageConfigContext",{enumerable:!0,get:function(){return o}});const s=wo()._(Lr()),n=Lp(),o=s.default.createContext(n.imageConfigDefault)})(Zm)),Zm}var Jm={},CB;function aL(){return CB||(CB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});const n=wo()._(Lr()).default.createContext(null)})(Jm)),Jm}var eg={},jB;function Kj(){return jB||(jB=1,(function(t){var e={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});const s=75;function n(i){let{config:l,src:d,width:u,quality:h}=i;var m;const p=h||((m=l.qualities)==null?void 0:m.reduce((v,b)=>Math.abs(b-s)<Math.abs(v-s)?b:v))||s;return l.path+"?url="+encodeURIComponent(d)+"&w="+u+"&q="+p+(d.startsWith("/_next/static/media/")&&e.NEXT_DEPLOYMENT_ID?"&dpl="+e.NEXT_DEPLOYMENT_ID:"")}n.__next_img_default=!0;const o=n})(eg)),eg}var Td={exports:{}},NB;function oL(){return NB||(NB=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useMergedRef",{enumerable:!0,get:function(){return n}});const s=Lr();function n(i,l){const d=(0,s.useRef)(null),u=(0,s.useRef)(null);return(0,s.useCallback)(h=>{if(h===null){const m=d.current;m&&(d.current=null,m());const p=u.current;p&&(u.current=null,p())}else i&&(d.current=o(i,h)),l&&(u.current=o(l,h))},[i,l])}function o(i,l){if(typeof i=="function"){const d=i(l);return typeof d=="function"?d:()=>i(null)}else return i.current=l,()=>{i.current=null}}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)})(Td,Td.exports)),Td.exports}var SB;function AL(){return SB||(SB=1,(function(t,e){"use client";var s={};Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return N}});const n=wo(),o=Pj(),i=ep(),l=o._(Lr()),d=n._(tp()),u=n._(rL()),h=Oj(),m=Lp(),p=nL();Hp();const v=aL(),b=n._(Kj()),w=oL(),B=s.__NEXT_IMAGE_OPTS;typeof window>"u"&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);function C(E,k,T,_,M,Z,P){const H=E?.src;if(!E||E["data-loaded-src"]===H)return;E["data-loaded-src"]=H,("decode"in E?E.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(!(!E.parentElement||!E.isConnected)){if(k!=="empty"&&M(!0),T?.current){const ne=new Event("load");Object.defineProperty(ne,"target",{writable:!1,value:E});let ie=!1,K=!1;T.current({...ne,nativeEvent:ne,currentTarget:E,target:E,isDefaultPrevented:()=>ie,isPropagationStopped:()=>K,persist:()=>{},preventDefault:()=>{ie=!0,ne.preventDefault()},stopPropagation:()=>{K=!0,ne.stopPropagation()}})}_?.current&&_.current(E)}})}function j(E){return l.use?{fetchPriority:E}:{fetchpriority:E}}const S=(0,l.forwardRef)((E,k)=>{let{src:T,srcSet:_,sizes:M,height:Z,width:P,decoding:H,className:W,style:ne,fetchPriority:ie,placeholder:K,loading:J,unoptimized:z,fill:oe,onLoadRef:U,onLoadingCompleteRef:L,setBlurComplete:F,setShowAltText:R,sizesInput:O,onLoad:$,onError:re,...he}=E;const V=(0,l.useCallback)(G=>{G&&(re&&(G.src=G.src),G.complete&&C(G,K,U,L,F))},[T,K,U,L,F,re,z,O]),X=(0,w.useMergedRef)(k,V);return(0,i.jsx)("img",{...he,...j(ie),loading:J,width:P,height:Z,decoding:H,"data-nimg":oe?"fill":"1",className:W,style:ne,sizes:M,srcSet:_,src:T,ref:X,onLoad:G=>{const q=G.currentTarget;C(q,K,U,L,F)},onError:G=>{R(!0),K!=="empty"&&F(!0),re&&re(G)}})});function D(E){let{isAppRouter:k,imgAttributes:T}=E;const _={as:"image",imageSrcSet:T.srcSet,imageSizes:T.sizes,crossOrigin:T.crossOrigin,referrerPolicy:T.referrerPolicy,...j(T.fetchPriority)};return k&&d.default.preload?(d.default.preload(T.src,_),null):(0,i.jsx)(u.default,{children:(0,i.jsx)("link",{rel:"preload",href:T.srcSet?void 0:T.src,..._},"__nimg-"+T.src+T.srcSet+T.sizes)})}const N=(0,l.forwardRef)((E,k)=>{const _=!(0,l.useContext)(v.RouterContext),M=(0,l.useContext)(p.ImageConfigContext),Z=(0,l.useMemo)(()=>{var L;const F=B||M||m.imageConfigDefault,R=[...F.deviceSizes,...F.imageSizes].sort((re,he)=>re-he),O=F.deviceSizes.sort((re,he)=>re-he),$=(L=F.qualities)==null?void 0:L.sort((re,he)=>re-he);return{...F,allSizes:R,deviceSizes:O,qualities:$}},[M]),{onLoad:P,onLoadingComplete:H}=E,W=(0,l.useRef)(P);(0,l.useEffect)(()=>{W.current=P},[P]);const ne=(0,l.useRef)(H);(0,l.useEffect)(()=>{ne.current=H},[H]);const[ie,K]=(0,l.useState)(!1),[J,z]=(0,l.useState)(!1),{props:oe,meta:U}=(0,h.getImgProps)(E,{defaultLoader:b.default,imgConf:Z,blurComplete:ie,showAltText:J});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S,{...oe,unoptimized:U.unoptimized,placeholder:U.placeholder,fill:U.fill,onLoadRef:W,onLoadingCompleteRef:ne,setBlurComplete:K,setShowAltText:z,sizesInput:E.sizes,ref:k}),U.priority?(0,i.jsx)(D,{isAppRouter:_,imgAttributes:oe}):null]})});(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)})(Id,Id.exports)),Id.exports}var QB;function iL(){return QB||(QB=1,(function(t){var e={};Object.defineProperty(t,"__esModule",{value:!0});function s(h,m){for(var p in m)Object.defineProperty(h,p,{enumerable:!0,get:m[p]})}s(t,{default:function(){return u},getImageProps:function(){return d}});const n=wo(),o=Oj(),i=AL(),l=n._(Kj());function d(h){const{props:m}=(0,o.getImgProps)(h,{defaultLoader:l.default,imgConf:e.__NEXT_IMAGE_OPTS});for(const[p,v]of Object.entries(m))v===void 0&&delete m[p];return{props:m}}const u=i.Image})(Om)),Om}var tg,EB;function lL(){return EB||(EB=1,tg=iL()),tg}var cL=lL();const _p=Jg(cL);function Op({initialData:t,onSave:e,onPreview:s,className:n=""}){const{companySettings:o,formatCurrency:i,generateInvoiceNumber:l}=it(),{isOpen:d,options:u,confirm:h,handleConfirm:m,handleClose:p}=yo(),[v,b]=x.useState([]),[w,B]=x.useState([]),[C,j]=x.useState(""),[S,D]=x.useState(!0),[N,E]=x.useState(!0),[k,T]=x.useState({invoiceNumber:t?.invoiceNumber||l(),date:t?.date||new Date().toISOString().split("T")[0],dueDate:t?.dueDate||new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],company:{name:t?.company?.name||o.companyName||"TopNotch Electronics",address:t?.company?.address||o.address||"123 Business St",city:t?.company?.city||"San Francisco",state:t?.company?.state||"CA",zip:t?.company?.zip||"94105",phone:t?.company?.phone||o.phone||"+1 (555) 123-4567",email:t?.company?.email||o.email||"info@topnotch.com",...t?.company},customer:{name:t?.customer?.name||"",address:t?.customer?.address||"",city:t?.customer?.city||"",state:t?.customer?.state||"",zip:t?.customer?.zip||"",phone:t?.customer?.phone||"",email:t?.customer?.email||"",...t?.customer},items:t?.items||[{id:"1",description:"Website Development",quantity:1,rate:5e3,amount:5e3}],notes:t?.notes||"",terms:t?.terms||"Payment due within 30 days",taxRate:t?.taxRate||8.5,discount:t?.discount||0});x.useEffect(()=>{(async()=>{try{const X=await bs.getAllCustomers();X.success&&X.data&&b(X.data),D(!1);const G=await ds.getAllProducts();G.success&&G.data&&B(G.data),E(!1)}catch(X){console.error("Failed to load customers/products:",X),D(!1),E(!1)}})()},[]);const[_,M]=Yt.useState(!1);x.useEffect(()=>{t&&t.items&&t.items.length>0&&!_&&(T({invoiceNumber:t?.invoiceNumber||l(),date:t?.date||new Date().toISOString().split("T")[0],dueDate:t?.dueDate||new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],company:{name:t?.company?.name||o.companyName||"TopNotch Electronics",address:t?.company?.address||o.address||"123 Business St",city:t?.company?.city||"San Francisco",state:t?.company?.state||"CA",zip:t?.company?.zip||"94105",phone:t?.company?.phone||o.phone||"+1 (555) 123-4567",email:t?.company?.email||o.email||"info@topnotch.com",...t?.company},customer:{id:t?.customer?.id,name:t?.customer?.name||"",address:t?.customer?.address||"",city:t?.customer?.city||"",state:t?.customer?.state||"",zip:t?.customer?.zip||"",phone:t?.customer?.phone||"",email:t?.customer?.email||"",...t?.customer},items:t?.items||[],notes:t?.notes||"",terms:t?.terms||"Payment due within 30 days",taxRate:t?.taxRate||8.5,discount:t?.discount||0}),t?.customer?.id&&j(t.customer.id),M(!0))},[t,_,o,l]);const Z=(V,X)=>{T(G=>({...G,[V]:X}))},P=(V,X)=>{T(G=>({...G,company:{...G.company,[V]:X}}))},H=V=>{const X=V.target.files?.[0];if(X){const G=new FileReader;G.onload=q=>{const ce=q.target?.result;P("logo",ce)},G.readAsDataURL(X)}},W=()=>{P("logo","")},ne=V=>{if(j(V),V===""){T(G=>({...G,customer:{id:void 0,name:"",address:"",city:"",state:"",zip:"",phone:"",email:""}}));return}const X=v.find(G=>G.id===V);X&&T(G=>({...G,customer:{id:X.id,name:X.name,address:X.address||"",city:"",state:"",zip:"",phone:X.phone||"",email:X.email||""}}))},ie=(V,X)=>{T(G=>({...G,customer:{...G.customer,[V]:X}}))},K=()=>{const V={id:Date.now().toString(),description:"",itemDescription:"",quantity:1,rate:0,amount:0};T(X=>({...X,items:[...X.items,V]}))},J=(V,X,G)=>{T(q=>({...q,items:q.items.map(ce=>{if(ce.id===V){const pe={...ce,[X]:G};return(X==="quantity"||X==="rate")&&(pe.amount=pe.quantity*pe.rate),pe}return ce})}))},z=V=>{h({title:"Delete Item",message:"Are you sure you want to delete this item? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger"},()=>{T(X=>({...X,items:X.items.filter(q=>q.id!==V)}))})},oe=k.items.reduce((V,X)=>V+X.amount,0),U=oe*k.discount/100,L=oe-U,F=L*k.taxRate/100,R=L+F,O=k.invoiceNumber&&k.date&&k.dueDate,$=k.company.name&&k.company.address,re=k.customer.name,he=k.items.length>0&&k.items.every(V=>V.description&&V.quantity>0&&V.rate>0);return r.jsxs("div",{className:He("space-y-6",n),children:[r.jsxs(Qu,{title:"Invoice Builder",description:"Create and customize your invoice",children:[r.jsx(S1,{tabs:[{id:"basic",label:"Basic Info",content:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Invoice Details"}),O&&r.jsx(Br,{className:"h-5 w-5 text-green-500"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(fe,{label:"Invoice Number",value:k.invoiceNumber,onChange:V=>Z("invoiceNumber",V.target.value),placeholder:"INV-001",required:!0}),r.jsx(fe,{label:"Date",type:"date",value:k.date,onChange:V=>Z("date",V.target.value),required:!0}),r.jsx(fe,{label:"Due Date",type:"date",value:k.dueDate,onChange:V=>Z("dueDate",V.target.value),required:!0})]})]})},{id:"company",label:"Company",content:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Company Information"}),$&&r.jsx(Br,{className:"h-5 w-5 text-green-500"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--foreground)"},children:"Company Logo"}),r.jsxs("div",{className:"flex items-center gap-4",children:[k.company.logo?r.jsxs("div",{className:"relative",children:[r.jsx(_p,{src:k.company.logo,alt:"Company Logo",width:80,height:80,className:"object-contain rounded-lg border",style:{borderColor:"var(--border)"}}),r.jsx("button",{onClick:W,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx(Rn,{className:"h-4 w-4"})})]}):r.jsx("div",{className:"w-20 h-20 border-2 border-dashed rounded-lg flex items-center justify-center",style:{borderColor:"var(--border)"},children:r.jsx(go,{className:"h-8 w-8",style:{color:"var(--muted-foreground)"}})}),r.jsxs("div",{children:[r.jsx("input",{type:"file",accept:"image/*",onChange:H,className:"hidden",id:"logo-upload"}),r.jsx("label",{htmlFor:"logo-upload",className:"cursor-pointer",children:r.jsxs(te,{variant:"outline",size:"sm",children:[r.jsx(go,{className:"h-4 w-4 mr-2"}),k.company.logo?"Change Logo":"Upload Logo"]})}),r.jsx("p",{className:"text-xs mt-1",style:{color:"var(--muted-foreground)"},children:"PNG, JPG up to 2MB"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(fe,{label:"Company Name",value:k.company.name,onChange:V=>P("name",V.target.value),placeholder:"TopNotch Electronics",required:!0}),r.jsx(fe,{label:"Phone",value:k.company.phone,onChange:V=>P("phone",V.target.value),placeholder:"+1 (555) 123-4567"}),r.jsx(fe,{label:"Address",value:k.company.address,onChange:V=>P("address",V.target.value),placeholder:"123 Business St",required:!0}),r.jsx(fe,{label:"Email",type:"email",value:k.company.email,onChange:V=>P("email",V.target.value),placeholder:"info@topnotch.com"}),r.jsx(fe,{label:"City",value:k.company.city,onChange:V=>P("city",V.target.value),placeholder:"San Francisco"}),r.jsx(fe,{label:"State",value:k.company.state,onChange:V=>P("state",V.target.value),placeholder:"CA"}),r.jsx(fe,{label:"ZIP Code",value:k.company.zip,onChange:V=>P("zip",V.target.value),placeholder:"94105"})]})]})},{id:"customer",label:"Customer",content:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Customer Information"}),re&&r.jsx(Br,{className:"h-5 w-5 text-green-500"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Select Customer (or enter manually below)"}),r.jsxs("select",{value:C,onChange:V=>ne(V.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--input-background)",borderColor:"var(--border)",color:"var(--foreground)"},disabled:S,children:[r.jsx("option",{value:"",children:"-- New Customer (Manual Entry) --"}),v.map(V=>r.jsxs("option",{value:V.id,children:[V.name," ",V.email?`(${V.email})`:""]},V.id))]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(fe,{label:"Customer Name",value:k.customer.name,onChange:V=>ie("name",V.target.value),placeholder:"John Smith",required:!0}),r.jsx(fe,{label:"Phone",value:k.customer.phone,onChange:V=>ie("phone",V.target.value),placeholder:"+1 (555) 987-6543"}),r.jsx(fe,{label:"Address",value:k.customer.address,onChange:V=>ie("address",V.target.value),placeholder:"456 Customer Ave"}),r.jsx(fe,{label:"Email",type:"email",value:k.customer.email,onChange:V=>ie("email",V.target.value),placeholder:"customer@example.com"}),r.jsx(fe,{label:"City",value:k.customer.city,onChange:V=>ie("city",V.target.value),placeholder:"New York"}),r.jsx(fe,{label:"State",value:k.customer.state,onChange:V=>ie("state",V.target.value),placeholder:"NY"}),r.jsx(fe,{label:"ZIP Code",value:k.customer.zip,onChange:V=>ie("zip",V.target.value),placeholder:"10001"})]})]})},{id:"items",label:"Items",content:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Invoice Items"}),he&&r.jsx(Br,{className:"h-5 w-5 text-green-500"})]}),r.jsxs("div",{className:"p-4 rounded-lg border mb-4",style:{borderColor:"var(--border)",backgroundColor:"var(--card-background)"},children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Quick Add from Products"}),r.jsxs("select",{onChange:V=>{const X=V.target.value;if(X){const G=w.find(q=>q.id===X);if(G){const q={id:Date.now().toString(),description:G.name,quantity:1,rate:G.price,amount:G.price};T(ce=>({...ce,items:[...ce.items,q]})),V.target.value=""}}},className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--input-background)",borderColor:"var(--border)",color:"var(--foreground)"},disabled:N,children:[r.jsx("option",{value:"",children:"-- Select a product to add --"}),w.map(V=>r.jsxs("option",{value:V.id,children:[V.name," - ",i(V.price)," ",V.stock!==void 0?`(Stock: ${V.stock})`:""]},V.id))]})]}),r.jsxs("div",{className:"space-y-4",children:[k.items.map(V=>r.jsx("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end",children:[r.jsxs("div",{className:"md:col-span-5",children:[r.jsx(fe,{label:"Description",value:V.description,onChange:X=>J(V.id,"description",X.target.value),placeholder:"Item description",required:!0}),r.jsx("div",{className:"mt-2",children:r.jsx(fe,{label:"Additional Details (Optional)",value:V.itemDescription||"",onChange:X=>J(V.id,"itemDescription",X.target.value),placeholder:"Additional item details, specifications, etc."})})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(fe,{label:"Quantity",type:"number",value:V.quantity,onChange:X=>J(V.id,"quantity",Number(X.target.value)),min:"0",step:"0.01",required:!0})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(fe,{label:"Rate",type:"number",value:V.rate,onChange:X=>J(V.id,"rate",Number(X.target.value)),min:"0",step:"0.01",required:!0})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(fe,{label:"Amount",type:"number",value:V.amount,readOnly:!0,className:"bg-gray-50"})}),r.jsx("div",{className:"md:col-span-1",children:k.items.length>1&&r.jsx(te,{variant:"ghost",size:"icon",onClick:()=>z(V.id),className:"text-red-500 hover:text-red-700",children:r.jsx(fs,{className:"h-4 w-4"})})})]})},V.id)),r.jsxs(te,{variant:"outline",onClick:K,className:"w-full",children:[r.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]})},{id:"pricing",label:"Pricing & Terms",content:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Pricing & Terms"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(fe,{label:"Discount (%)",type:"number",value:k.discount,onChange:V=>Z("discount",Number(V.target.value)),min:"0",max:"100",step:"0.01",placeholder:"0"}),r.jsx(fe,{label:"Tax Rate (%)",type:"number",value:k.taxRate,onChange:V=>Z("taxRate",Number(V.target.value)),min:"0",step:"0.01",placeholder:"8.5"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:"Invoice Summary"}),r.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--muted)"},children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{style:{color:"var(--foreground)"},children:i(oe)})]}),k.discount>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Discount:"}),r.jsxs("span",{style:{color:"var(--foreground)"},children:["-",i(U)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax:"}),r.jsx("span",{style:{color:"var(--foreground)"},children:i(F)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-semibold pt-2 border-t",style:{borderColor:"var(--border)",color:"var(--accent)"},children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:i(R)})]})]})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(as,{label:"Notes",value:k.notes,onChange:V=>Z("notes",V.target.value),placeholder:"Additional notes or comments",rows:3}),r.jsx(as,{label:"Terms & Conditions",value:k.terms,onChange:V=>Z("terms",V.target.value),placeholder:"Payment terms and conditions",rows:3})]})]})}],variant:"pills"}),r.jsxs(Eu,{children:[r.jsx(te,{variant:"outline",onClick:()=>{s?.(k)},children:"Preview"}),r.jsx(te,{variant:"default",onClick:()=>{e?.(k)},children:"Save Invoice"})]})]}),r.jsx(bo,{isOpen:d,onClose:p,onConfirm:m,title:u.title,message:u.message,confirmText:u.confirmText,cancelText:u.cancelText,variant:u.variant})]})}function dL({data:t,onEdit:e,onPrint:s,onDownload:n,onShare:o,className:i=""}){const[l,d]=x.useState(1),u=8,h=t.items.reduce((N,E)=>N+E.amount,0),m=h*t.discount/100,p=h-m,v=p*t.taxRate/100,b=p+v,w=Math.ceil(t.items.length/u),B=(l-1)*u,C=B+u,j=t.items.slice(B,C),S=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N),D=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return r.jsxs("div",{className:He("w-full max-w-4xl mx-auto",i),children:[r.jsxs("div",{className:"flex justify-end gap-3 mb-6 print:hidden",children:[e&&r.jsx(te,{variant:"outline",onClick:e,children:"Edit Invoice"}),s&&r.jsxs(te,{variant:"outline",onClick:s,children:[r.jsx(jA,{className:"h-4 w-4 mr-2"}),"Print"]}),n&&r.jsxs(te,{variant:"outline",onClick:n,children:[r.jsx(mo,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),o&&r.jsxs(te,{variant:"outline",onClick:o,children:[r.jsx(cp,{className:"h-4 w-4 mr-2"}),"Share"]})]}),r.jsxs("div",{className:"bg-white shadow-lg print:shadow-none flex flex-col",style:{background:"var(--card)",border:"1px solid var(--border)",width:"210mm",minHeight:"297mm",maxWidth:"100%",margin:"0 auto",padding:"20mm",boxSizing:"border-box"},children:[r.jsxs("div",{className:"flex-shrink-0",children:[r.jsxs("div",{className:"flex justify-between items-start mb-12",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.company.logo?r.jsx(_p,{src:t.company.logo,alt:"Company Logo",width:64,height:64,className:"object-contain border",style:{borderColor:"var(--border)"}}):r.jsx("div",{className:"w-16 h-16 flex items-center justify-center",style:{backgroundColor:"var(--accent)"},children:r.jsx("span",{className:"text-white font-bold text-xl",children:"TN"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-1",style:{color:"var(--foreground)"},children:t.company.name}),r.jsx("p",{className:"text-base",style:{color:"var(--muted-foreground)"},children:"Professional Electronics & Services"})]})]}),r.jsxs("div",{className:"text-sm space-y-1 leading-relaxed",style:{color:"var(--muted-foreground)"},children:[r.jsx("p",{children:t.company.address}),r.jsxs("p",{children:[t.company.city,", ",t.company.state," ",t.company.zip]}),r.jsx("p",{children:t.company.phone}),r.jsx("p",{children:t.company.email})]})]}),r.jsxs("div",{className:"text-right ml-8",children:[r.jsx("h2",{className:"text-4xl font-bold mb-4",style:{color:"var(--accent)"},children:"INVOICE"}),r.jsxs("div",{className:"text-sm space-y-2",style:{color:"var(--muted-foreground)"},children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Invoice #:"})," ",t.invoiceNumber]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date:"})," ",D(t.date)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Due Date:"})," ",D(t.dueDate)]})]})]})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Bill To:"}),r.jsxs("div",{className:"text-sm space-y-1 leading-relaxed",style:{color:"var(--muted-foreground)"},children:[r.jsx("p",{className:"font-medium text-base",style:{color:"var(--foreground)"},children:t.customer.name}),r.jsx("p",{children:t.customer.address}),r.jsxs("p",{children:[t.customer.city,", ",t.customer.state," ",t.customer.zip]}),t.customer.phone&&r.jsx("p",{children:t.customer.phone}),t.customer.email&&r.jsx("p",{children:t.customer.email})]})]})]}),r.jsxs("div",{className:"mb-12 flex-grow",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:["Items (",t.items.length,")"]}),t.items.length>u&&r.jsxs("div",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:["Showing ",B+1,"-",Math.min(C,t.items.length)," of ",t.items.length]})]}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b-2",style:{borderColor:"var(--border)"},children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",style:{color:"var(--foreground)"},children:"Description"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-sm",style:{color:"var(--foreground)"},children:"Qty"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-sm",style:{color:"var(--foreground)"},children:"Rate"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-sm",style:{color:"var(--foreground)"},children:"Amount"})]})}),r.jsx("tbody",{children:j.map(N=>r.jsxs("tr",{className:"border-b",style:{borderColor:"var(--border)"},children:[r.jsx("td",{className:"py-3 px-4 text-sm",style:{color:"var(--foreground)"},children:N.description}),r.jsx("td",{className:"py-3 px-4 text-right text-sm",style:{color:"var(--muted-foreground)"},children:N.quantity}),r.jsx("td",{className:"py-3 px-4 text-right text-sm",style:{color:"var(--muted-foreground)"},children:S(N.rate)}),r.jsx("td",{className:"py-3 px-4 text-right font-semibold text-sm",style:{color:"var(--foreground)"},children:S(N.amount)})]},N.id))})]}),t.items.length>u&&r.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6 print:hidden",children:[r.jsx(te,{variant:"outline",size:"sm",onClick:()=>d(Math.max(1,l-1)),disabled:l===1,children:r.jsx(lp,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex gap-1",children:Array.from({length:w},(N,E)=>E+1).map(N=>r.jsx(te,{variant:l===N?"default":"outline",size:"sm",onClick:()=>d(N),className:"w-8 h-8 p-0",children:N},N))}),r.jsx(te,{variant:"outline",size:"sm",onClick:()=>d(Math.min(w,l+1)),disabled:l===w,children:r.jsx(wu,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex justify-end mb-12 flex-shrink-0",children:r.jsx("div",{className:"w-80",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{style:{color:"var(--foreground)"},children:S(h)})]}),t.discount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{style:{color:"var(--muted-foreground)"},children:["Discount (",t.discount,"%):"]}),r.jsxs("span",{style:{color:"var(--foreground)"},children:["-",S(m)]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{style:{color:"var(--muted-foreground)"},children:["Tax (",t.taxRate,"%):"]}),r.jsx("span",{style:{color:"var(--foreground)"},children:S(v)})]}),r.jsxs("div",{className:"flex justify-between text-xl font-bold pt-3 border-t-2",style:{borderColor:"var(--border)",color:"var(--accent)"},children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:S(b)})]})]})})}),(t.notes||t.terms)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 mb-12 flex-shrink-0",children:[t.notes&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold mb-4",style:{color:"var(--foreground)"},children:"Notes:"}),r.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",style:{color:"var(--muted-foreground)"},children:t.notes})]}),t.terms&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold mb-4",style:{color:"var(--foreground)"},children:"Terms & Conditions:"}),r.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",style:{color:"var(--muted-foreground)"},children:t.terms})]})]}),r.jsxs("div",{className:"mt-auto pt-8 border-t text-center text-sm flex-shrink-0",style:{borderColor:"var(--border)",color:"var(--muted-foreground)"},children:[r.jsx("p",{className:"mb-2",children:"Thank you for your business!"}),r.jsxs("p",{children:["For questions about this invoice, please contact us at ",t.company.email]})]})]})]})}const _u=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TA(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Pp(t){return"nodeType"in t}function qs(t){var e,s;return t?TA(t)?t:Pp(t)&&(e=(s=t.ownerDocument)==null?void 0:s.defaultView)!=null?e:window:window}function Kp(t){const{Document:e}=qs(t);return t instanceof e}function Tl(t){return TA(t)?!1:t instanceof qs(t).HTMLElement}function zj(t){return t instanceof qs(t).SVGElement}function MA(t){return t?TA(t)?t.document:Pp(t)?Kp(t)?t:Tl(t)||zj(t)?t.ownerDocument:document:document:document}const Ta=_u?x.useLayoutEffect:x.useEffect;function zp(t){const e=x.useRef(t);return Ta(()=>{e.current=t}),x.useCallback(function(){for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return e.current==null?void 0:e.current(...n)},[])}function uL(){const t=x.useRef(null),e=x.useCallback((n,o)=>{t.current=setInterval(n,o)},[]),s=x.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,s]}function Nl(t,e){e===void 0&&(e=[t]);const s=x.useRef(t);return Ta(()=>{s.current!==t&&(s.current=t)},e),s}function Ml(t,e){const s=x.useRef();return x.useMemo(()=>{const n=t(s.current);return s.current=n,n},[...e])}function mu(t){const e=zp(t),s=x.useRef(null),n=x.useCallback(o=>{o!==s.current&&e?.(o,s.current),s.current=o},[]);return[s,n]}function Yg(t){const e=x.useRef();return x.useEffect(()=>{e.current=t},[t]),e.current}let sg={};function Ou(t,e){return x.useMemo(()=>{if(e)return e;const s=sg[t]==null?0:sg[t]+1;return sg[t]=s,t+"-"+s},[t,e])}function Vj(t){return function(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];return n.reduce((i,l)=>{const d=Object.entries(l);for(const[u,h]of d){const m=i[u];m!=null&&(i[u]=m+t*h)}return i},{...e})}}const CA=Vj(1),gu=Vj(-1);function fL(t){return"clientX"in t&&"clientY"in t}function Gj(t){if(!t)return!1;const{KeyboardEvent:e}=qs(t.target);return e&&t instanceof e}function hL(t){if(!t)return!1;const{TouchEvent:e}=qs(t.target);return e&&t instanceof e}function Xg(t){if(hL(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:s}=t.touches[0];return{x:e,y:s}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:s}=t.changedTouches[0];return{x:e,y:s}}}return fL(t)?{x:t.clientX,y:t.clientY}:null}const $g=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:s}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:s}=t;return"scaleX("+e+") scaleY("+s+")"}},Transform:{toString(t){if(t)return[$g.Translate.toString(t),$g.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:s,easing:n}=t;return e+" "+s+"ms "+n}}}),FB="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function mL(t){return t.matches(FB)?t:t.querySelector(FB)}const gL={display:"none"};function pL(t){let{id:e,value:s}=t;return Yt.createElement("div",{id:e,style:gL},s)}function xL(t){let{id:e,announcement:s,ariaLiveType:n="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Yt.createElement("div",{id:e,style:o,role:"status","aria-live":n,"aria-atomic":!0},s)}function vL(){const[t,e]=x.useState("");return{announce:x.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const Yj=x.createContext(null);function yL(t){const e=x.useContext(Yj);x.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function bL(){const[t]=x.useState(()=>new Set),e=x.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[x.useCallback(n=>{let{type:o,event:i}=n;t.forEach(l=>{var d;return(d=l[o])==null?void 0:d.call(l,i)})},[t]),e]}const wL={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},BL={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:s}=t;return s?"Draggable item "+e.id+" was moved over droppable area "+s.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:s}=t;return s?"Draggable item "+e.id+" was dropped over droppable area "+s.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function CL(t){let{announcements:e=BL,container:s,hiddenTextDescribedById:n,screenReaderInstructions:o=wL}=t;const{announce:i,announcement:l}=vL(),d=Ou("DndLiveRegion"),[u,h]=x.useState(!1);if(x.useEffect(()=>{h(!0)},[]),yL(x.useMemo(()=>({onDragStart(p){let{active:v}=p;i(e.onDragStart({active:v}))},onDragMove(p){let{active:v,over:b}=p;e.onDragMove&&i(e.onDragMove({active:v,over:b}))},onDragOver(p){let{active:v,over:b}=p;i(e.onDragOver({active:v,over:b}))},onDragEnd(p){let{active:v,over:b}=p;i(e.onDragEnd({active:v,over:b}))},onDragCancel(p){let{active:v,over:b}=p;i(e.onDragCancel({active:v,over:b}))}}),[i,e])),!u)return null;const m=Yt.createElement(Yt.Fragment,null,Yt.createElement(pL,{id:n,value:o.draggable}),Yt.createElement(xL,{id:d,announcement:l}));return s?Vi.createPortal(m,s):m}var ls;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ls||(ls={}));function pu(){}const Hr=Object.freeze({x:0,y:0});function jL(t,e){let{data:{value:s}}=t,{data:{value:n}}=e;return n-s}function NL(t,e){if(!t||t.length===0)return null;const[s]=t;return s[e]}function SL(t,e){const s=Math.max(e.top,t.top),n=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),l=o-n,d=i-s;if(n<o&&s<i){const u=e.width*e.height,h=t.width*t.height,m=l*d,p=m/(u+h-m);return Number(p.toFixed(4))}return 0}const QL=t=>{let{collisionRect:e,droppableRects:s,droppableContainers:n}=t;const o=[];for(const i of n){const{id:l}=i,d=s.get(l);if(d){const u=SL(d,e);u>0&&o.push({id:l,data:{droppableContainer:i,value:u}})}}return o.sort(jL)};function EL(t,e,s){return{...t,scaleX:e&&s?e.width/s.width:1,scaleY:e&&s?e.height/s.height:1}}function Xj(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Hr}function FL(t){return function(s){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.reduce((l,d)=>({...l,top:l.top+t*d.y,bottom:l.bottom+t*d.y,left:l.left+t*d.x,right:l.right+t*d.x}),{...s})}}const UL=FL(1);function kL(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function DL(t,e,s){const n=kL(e);if(!n)return t;const{scaleX:o,scaleY:i,x:l,y:d}=n,u=t.left-l-(1-o)*parseFloat(s),h=t.top-d-(1-i)*parseFloat(s.slice(s.indexOf(" ")+1)),m=o?t.width/o:t.width,p=i?t.height/i:t.height;return{width:m,height:p,top:h,right:u+m,bottom:h+p,left:u}}const IL={ignoreTransform:!1};function Hl(t,e){e===void 0&&(e=IL);let s=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:m}=qs(t).getComputedStyle(t);h&&(s=DL(s,h,m))}const{top:n,left:o,width:i,height:l,bottom:d,right:u}=s;return{top:n,left:o,width:i,height:l,bottom:d,right:u}}function UB(t){return Hl(t,{ignoreTransform:!0})}function RL(t){const e=t.innerWidth,s=t.innerHeight;return{top:0,left:0,right:e,bottom:s,width:e,height:s}}function TL(t,e){return e===void 0&&(e=qs(t).getComputedStyle(t)),e.position==="fixed"}function ML(t,e){e===void 0&&(e=qs(t).getComputedStyle(t));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=e[o];return typeof i=="string"?s.test(i):!1})}function Vp(t,e){const s=[];function n(o){if(e!=null&&s.length>=e||!o)return s;if(Kp(o)&&o.scrollingElement!=null&&!s.includes(o.scrollingElement))return s.push(o.scrollingElement),s;if(!Tl(o)||zj(o)||s.includes(o))return s;const i=qs(t).getComputedStyle(o);return o!==t&&ML(o,i)&&s.push(o),TL(o,i)?s:n(o.parentNode)}return t?n(t):s}function $j(t){const[e]=Vp(t,1);return e??null}function rg(t){return!_u||!t?null:TA(t)?t:Pp(t)?Kp(t)||t===MA(t).scrollingElement?window:Tl(t)?t:null:null}function Wj(t){return TA(t)?t.scrollX:t.scrollLeft}function qj(t){return TA(t)?t.scrollY:t.scrollTop}function Wg(t){return{x:Wj(t),y:qj(t)}}var ys;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ys||(ys={}));function Zj(t){return!_u||!t?!1:t===document.scrollingElement}function Jj(t){const e={x:0,y:0},s=Zj(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-s.width,y:t.scrollHeight-s.height},o=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,l=t.scrollTop>=n.y,d=t.scrollLeft>=n.x;return{isTop:o,isLeft:i,isBottom:l,isRight:d,maxScroll:n,minScroll:e}}const HL={x:.2,y:.2};function LL(t,e,s,n,o){let{top:i,left:l,right:d,bottom:u}=s;n===void 0&&(n=10),o===void 0&&(o=HL);const{isTop:h,isBottom:m,isLeft:p,isRight:v}=Jj(t),b={x:0,y:0},w={x:0,y:0},B={height:e.height*o.y,width:e.width*o.x};return!h&&i<=e.top+B.height?(b.y=ys.Backward,w.y=n*Math.abs((e.top+B.height-i)/B.height)):!m&&u>=e.bottom-B.height&&(b.y=ys.Forward,w.y=n*Math.abs((e.bottom-B.height-u)/B.height)),!v&&d>=e.right-B.width?(b.x=ys.Forward,w.x=n*Math.abs((e.right-B.width-d)/B.width)):!p&&l<=e.left+B.width&&(b.x=ys.Backward,w.x=n*Math.abs((e.left+B.width-l)/B.width)),{direction:b,speed:w}}function _L(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}const{top:e,left:s,right:n,bottom:o}=t.getBoundingClientRect();return{top:e,left:s,right:n,bottom:o,width:t.clientWidth,height:t.clientHeight}}function e2(t){return t.reduce((e,s)=>CA(e,Wg(s)),Hr)}function OL(t){return t.reduce((e,s)=>e+Wj(s),0)}function PL(t){return t.reduce((e,s)=>e+qj(s),0)}function KL(t,e){if(e===void 0&&(e=Hl),!t)return;const{top:s,left:n,bottom:o,right:i}=e(t);$j(t)&&(o<=0||i<=0||s>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const zL=[["x",["left","right"],OL],["y",["top","bottom"],PL]];class Gp{constructor(e,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Vp(s),o=e2(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,l,d]of zL)for(const u of l)Object.defineProperty(this,u,{get:()=>{const h=d(n),m=o[i]-h;return this.rect[u]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class dl{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...s)})},this.target=e}add(e,s,n){var o;(o=this.target)==null||o.addEventListener(e,s,n),this.listeners.push([e,s,n])}}function VL(t){const{EventTarget:e}=qs(t);return t instanceof e?t:MA(t)}function ng(t,e){const s=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(s**2+n**2)>e:"x"in e&&"y"in e?s>e.x&&n>e.y:"x"in e?s>e.x:"y"in e?n>e.y:!1}var yr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(yr||(yr={}));function kB(t){t.preventDefault()}function GL(t){t.stopPropagation()}var Ct;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ct||(Ct={}));const t2={start:[Ct.Space,Ct.Enter],cancel:[Ct.Esc],end:[Ct.Space,Ct.Enter,Ct.Tab]},YL=(t,e)=>{let{currentCoordinates:s}=e;switch(t.code){case Ct.Right:return{...s,x:s.x+25};case Ct.Left:return{...s,x:s.x-25};case Ct.Down:return{...s,y:s.y+25};case Ct.Up:return{...s,y:s.y-25}}};class s2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:s}}=e;this.props=e,this.listeners=new dl(MA(s)),this.windowListeners=new dl(qs(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(yr.Resize,this.handleCancel),this.windowListeners.add(yr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(yr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:s}=this.props,n=e.node.current;n&&KL(n),s(Hr)}handleKeyDown(e){if(Gj(e)){const{active:s,context:n,options:o}=this.props,{keyboardCodes:i=t2,coordinateGetter:l=YL,scrollBehavior:d="smooth"}=o,{code:u}=e;if(i.end.includes(u)){this.handleEnd(e);return}if(i.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:h}=n.current,m=h?{x:h.left,y:h.top}:Hr;this.referenceCoordinates||(this.referenceCoordinates=m);const p=l(e,{active:s,context:n.current,currentCoordinates:m});if(p){const v=gu(p,m),b={x:0,y:0},{scrollableAncestors:w}=n.current;for(const B of w){const C=e.code,{isTop:j,isRight:S,isLeft:D,isBottom:N,maxScroll:E,minScroll:k}=Jj(B),T=_L(B),_={x:Math.min(C===Ct.Right?T.right-T.width/2:T.right,Math.max(C===Ct.Right?T.left:T.left+T.width/2,p.x)),y:Math.min(C===Ct.Down?T.bottom-T.height/2:T.bottom,Math.max(C===Ct.Down?T.top:T.top+T.height/2,p.y))},M=C===Ct.Right&&!S||C===Ct.Left&&!D,Z=C===Ct.Down&&!N||C===Ct.Up&&!j;if(M&&_.x!==p.x){const P=B.scrollLeft+v.x,H=C===Ct.Right&&P<=E.x||C===Ct.Left&&P>=k.x;if(H&&!v.y){B.scrollTo({left:P,behavior:d});return}H?b.x=B.scrollLeft-P:b.x=C===Ct.Right?B.scrollLeft-E.x:B.scrollLeft-k.x,b.x&&B.scrollBy({left:-b.x,behavior:d});break}else if(Z&&_.y!==p.y){const P=B.scrollTop+v.y,H=C===Ct.Down&&P<=E.y||C===Ct.Up&&P>=k.y;if(H&&!v.x){B.scrollTo({top:P,behavior:d});return}H?b.y=B.scrollTop-P:b.y=C===Ct.Down?B.scrollTop-E.y:B.scrollTop-k.y,b.y&&B.scrollBy({top:-b.y,behavior:d});break}}this.handleMove(e,CA(gu(p,this.referenceCoordinates),b))}}}handleMove(e,s){const{onMove:n}=this.props;e.preventDefault(),n(s)}handleEnd(e){const{onEnd:s}=this.props;e.preventDefault(),this.detach(),s()}handleCancel(e){const{onCancel:s}=this.props;e.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}s2.activators=[{eventName:"onKeyDown",handler:(t,e,s)=>{let{keyboardCodes:n=t2,onActivation:o}=e,{active:i}=s;const{code:l}=t.nativeEvent;if(n.start.includes(l)){const d=i.activatorNode.current;return d&&t.target!==d?!1:(t.preventDefault(),o?.({event:t.nativeEvent}),!0)}return!1}}];function DB(t){return!!(t&&"distance"in t)}function IB(t){return!!(t&&"delay"in t)}class Yp{constructor(e,s,n){var o;n===void 0&&(n=VL(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=s;const{event:i}=e,{target:l}=i;this.props=e,this.events=s,this.document=MA(l),this.documentListeners=new dl(this.document),this.listeners=new dl(n),this.windowListeners=new dl(qs(l)),this.initialCoordinates=(o=Xg(i))!=null?o:Hr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:s,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(yr.Resize,this.handleCancel),this.windowListeners.add(yr.DragStart,kB),this.windowListeners.add(yr.VisibilityChange,this.handleCancel),this.windowListeners.add(yr.ContextMenu,kB),this.documentListeners.add(yr.Keydown,this.handleKeydown),s){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(IB(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(DB(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,s){const{active:n,onPending:o}=this.props;o(n,e,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:e}=this,{onStart:s}=this.props;e&&(this.activated=!0,this.documentListeners.add(yr.Click,GL,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(yr.SelectionChange,this.removeTextSelection),s(e))}handleMove(e){var s;const{activated:n,initialCoordinates:o,props:i}=this,{onMove:l,options:{activationConstraint:d}}=i;if(!o)return;const u=(s=Xg(e))!=null?s:Hr,h=gu(o,u);if(!n&&d){if(DB(d)){if(d.tolerance!=null&&ng(h,d.tolerance))return this.handleCancel();if(ng(h,d.distance))return this.handleStart()}if(IB(d)&&ng(h,d.tolerance))return this.handleCancel();this.handlePending(d,h);return}e.cancelable&&e.preventDefault(),l(u)}handleEnd(){const{onAbort:e,onEnd:s}=this.props;this.detach(),this.activated||e(this.props.active),s()}handleCancel(){const{onAbort:e,onCancel:s}=this.props;this.detach(),this.activated||e(this.props.active),s()}handleKeydown(e){e.code===Ct.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const XL={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class r2 extends Yp{constructor(e){const{event:s}=e,n=MA(s.target);super(e,XL,n)}}r2.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:s}=t,{onActivation:n}=e;return!s.isPrimary||s.button!==0?!1:(n?.({event:s}),!0)}}];const $L={move:{name:"mousemove"},end:{name:"mouseup"}};var qg;(function(t){t[t.RightClick=2]="RightClick"})(qg||(qg={}));class WL extends Yp{constructor(e){super(e,$L,MA(e.event.target))}}WL.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:s}=t,{onActivation:n}=e;return s.button===qg.RightClick?!1:(n?.({event:s}),!0)}}];const ag={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class qL extends Yp{constructor(e){super(e,ag)}static setup(){return window.addEventListener(ag.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ag.move.name,e)};function e(){}}}qL.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:s}=t,{onActivation:n}=e;const{touches:o}=s;return o.length>1?!1:(n?.({event:s}),!0)}}];var ul;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ul||(ul={}));var xu;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(xu||(xu={}));function ZL(t){let{acceleration:e,activator:s=ul.Pointer,canScroll:n,draggingRect:o,enabled:i,interval:l=5,order:d=xu.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:m,delta:p,threshold:v}=t;const b=e_({delta:p,disabled:!i}),[w,B]=uL(),C=x.useRef({x:0,y:0}),j=x.useRef({x:0,y:0}),S=x.useMemo(()=>{switch(s){case ul.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case ul.DraggableRect:return o}},[s,o,u]),D=x.useRef(null),N=x.useCallback(()=>{const k=D.current;if(!k)return;const T=C.current.x*j.current.x,_=C.current.y*j.current.y;k.scrollBy(T,_)},[]),E=x.useMemo(()=>d===xu.TreeOrder?[...h].reverse():h,[d,h]);x.useEffect(()=>{if(!i||!h.length||!S){B();return}for(const k of E){if(n?.(k)===!1)continue;const T=h.indexOf(k),_=m[T];if(!_)continue;const{direction:M,speed:Z}=LL(k,_,S,e,v);for(const P of["x","y"])b[P][M[P]]||(Z[P]=0,M[P]=0);if(Z.x>0||Z.y>0){B(),D.current=k,w(N,l),C.current=Z,j.current=M;return}}C.current={x:0,y:0},j.current={x:0,y:0},B()},[e,N,n,B,i,l,JSON.stringify(S),JSON.stringify(b),w,h,E,m,JSON.stringify(v)])}const JL={x:{[ys.Backward]:!1,[ys.Forward]:!1},y:{[ys.Backward]:!1,[ys.Forward]:!1}};function e_(t){let{delta:e,disabled:s}=t;const n=Yg(e);return Ml(o=>{if(s||!n||!o)return JL;const i={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[ys.Backward]:o.x[ys.Backward]||i.x===-1,[ys.Forward]:o.x[ys.Forward]||i.x===1},y:{[ys.Backward]:o.y[ys.Backward]||i.y===-1,[ys.Forward]:o.y[ys.Forward]||i.y===1}}},[s,e,n])}function t_(t,e){const s=e!=null?t.get(e):void 0,n=s?s.node.current:null;return Ml(o=>{var i;return e==null?null:(i=n??o)!=null?i:null},[n,e])}function s_(t,e){return x.useMemo(()=>t.reduce((s,n)=>{const{sensor:o}=n,i=o.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,n)}));return[...s,...i]},[]),[t,e])}var Sl;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Sl||(Sl={}));var Zg;(function(t){t.Optimized="optimized"})(Zg||(Zg={}));const RB=new Map;function r_(t,e){let{dragging:s,dependencies:n,config:o}=e;const[i,l]=x.useState(null),{frequency:d,measure:u,strategy:h}=o,m=x.useRef(t),p=C(),v=Nl(p),b=x.useCallback(function(j){j===void 0&&(j=[]),!v.current&&l(S=>S===null?j:S.concat(j.filter(D=>!S.includes(D))))},[v]),w=x.useRef(null),B=Ml(j=>{if(p&&!s)return RB;if(!j||j===RB||m.current!==t||i!=null){const S=new Map;for(let D of t){if(!D)continue;if(i&&i.length>0&&!i.includes(D.id)&&D.rect.current){S.set(D.id,D.rect.current);continue}const N=D.node.current,E=N?new Gp(u(N),N):null;D.rect.current=E,E&&S.set(D.id,E)}return S}return j},[t,i,s,p,u]);return x.useEffect(()=>{m.current=t},[t]),x.useEffect(()=>{p||b()},[s,p]),x.useEffect(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),x.useEffect(()=>{p||typeof d!="number"||w.current!==null||(w.current=setTimeout(()=>{b(),w.current=null},d))},[d,p,b,...n]),{droppableRects:B,measureDroppableContainers:b,measuringScheduled:i!=null};function C(){switch(h){case Sl.Always:return!1;case Sl.BeforeDragging:return s;default:return!s}}}function n2(t,e){return Ml(s=>t?s||(typeof e=="function"?e(t):t):null,[e,t])}function n_(t,e){return n2(t,e)}function a_(t){let{callback:e,disabled:s}=t;const n=zp(e),o=x.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,s]);return x.useEffect(()=>()=>o?.disconnect(),[o]),o}function Pu(t){let{callback:e,disabled:s}=t;const n=zp(e),o=x.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[s]);return x.useEffect(()=>()=>o?.disconnect(),[o]),o}function o_(t){return new Gp(Hl(t),t)}function TB(t,e,s){e===void 0&&(e=o_);const[n,o]=x.useState(null);function i(){o(u=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=u??s)!=null?h:null}const m=e(t);return JSON.stringify(u)===JSON.stringify(m)?u:m})}const l=a_({callback(u){if(t)for(const h of u){const{type:m,target:p}=h;if(m==="childList"&&p instanceof HTMLElement&&p.contains(t)){i();break}}}}),d=Pu({callback:i});return Ta(()=>{i(),t?(d?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),l?.disconnect())},[t]),n}function A_(t){const e=n2(t);return Xj(t,e)}const MB=[];function i_(t){const e=x.useRef(t),s=Ml(n=>t?n&&n!==MB&&t&&e.current&&t.parentNode===e.current.parentNode?n:Vp(t):MB,[t]);return x.useEffect(()=>{e.current=t},[t]),s}function l_(t){const[e,s]=x.useState(null),n=x.useRef(t),o=x.useCallback(i=>{const l=rg(i.target);l&&s(d=>d?(d.set(l,Wg(l)),new Map(d)):null)},[]);return x.useEffect(()=>{const i=n.current;if(t!==i){l(i);const d=t.map(u=>{const h=rg(u);return h?(h.addEventListener("scroll",o,{passive:!0}),[h,Wg(h)]):null}).filter(u=>u!=null);s(d.length?new Map(d):null),n.current=t}return()=>{l(t),l(i)};function l(d){d.forEach(u=>{const h=rg(u);h?.removeEventListener("scroll",o)})}},[o,t]),x.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,l)=>CA(i,l),Hr):e2(t):Hr,[t,e])}function HB(t,e){e===void 0&&(e=[]);const s=x.useRef(null);return x.useEffect(()=>{s.current=null},e),x.useEffect(()=>{const n=t!==Hr;n&&!s.current&&(s.current=t),!n&&s.current&&(s.current=null)},[t]),s.current?gu(t,s.current):Hr}function c_(t){x.useEffect(()=>{if(!_u)return;const e=t.map(s=>{let{sensor:n}=s;return n.setup==null?void 0:n.setup()});return()=>{for(const s of e)s?.()}},t.map(e=>{let{sensor:s}=e;return s}))}function d_(t,e){return x.useMemo(()=>t.reduce((s,n)=>{let{eventName:o,handler:i}=n;return s[o]=l=>{i(l,e)},s},{}),[t,e])}function a2(t){return x.useMemo(()=>t?RL(t):null,[t])}const LB=[];function u_(t,e){e===void 0&&(e=Hl);const[s]=t,n=a2(s?qs(s):null),[o,i]=x.useState(LB);function l(){i(()=>t.length?t.map(u=>Zj(u)?n:new Gp(e(u),u)):LB)}const d=Pu({callback:l});return Ta(()=>{d?.disconnect(),l(),t.forEach(u=>d?.observe(u))},[t]),o}function f_(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Tl(e)?e:t}function h_(t){let{measure:e}=t;const[s,n]=x.useState(null),o=x.useCallback(h=>{for(const{target:m}of h)if(Tl(m)){n(p=>{const v=e(m);return p?{...p,width:v.width,height:v.height}:v});break}},[e]),i=Pu({callback:o}),l=x.useCallback(h=>{const m=f_(h);i?.disconnect(),m&&i?.observe(m),n(m?e(m):null)},[e,i]),[d,u]=mu(l);return x.useMemo(()=>({nodeRef:d,rect:s,setRef:u}),[s,d,u])}const m_=[{sensor:r2,options:{}},{sensor:s2,options:{}}],g_={current:{}},Gd={draggable:{measure:UB},droppable:{measure:UB,strategy:Sl.WhileDragging,frequency:Zg.Optimized},dragOverlay:{measure:Hl}};class fl extends Map{get(e){var s;return e!=null&&(s=super.get(e))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:s}=e;return!s})}getNodeFor(e){var s,n;return(s=(n=this.get(e))==null?void 0:n.node.current)!=null?s:void 0}}const p_={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new fl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Gd,measureDroppableContainers:pu,windowRect:null,measuringScheduled:!1},x_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pu,draggableNodes:new Map,over:null,measureDroppableContainers:pu},Ku=x.createContext(x_),v_=x.createContext(p_);function y_(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new fl}}}function b_(t,e){switch(e.type){case ls.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ls.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case ls.DragEnd:case ls.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ls.RegisterDroppable:{const{element:s}=e,{id:n}=s,o=new fl(t.droppable.containers);return o.set(n,s),{...t,droppable:{...t.droppable,containers:o}}}case ls.SetDroppableDisabled:{const{id:s,key:n,disabled:o}=e,i=t.droppable.containers.get(s);if(!i||n!==i.key)return t;const l=new fl(t.droppable.containers);return l.set(s,{...i,disabled:o}),{...t,droppable:{...t.droppable,containers:l}}}case ls.UnregisterDroppable:{const{id:s,key:n}=e,o=t.droppable.containers.get(s);if(!o||n!==o.key)return t;const i=new fl(t.droppable.containers);return i.delete(s),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function w_(t){let{disabled:e}=t;const{active:s,activatorEvent:n,draggableNodes:o}=x.useContext(Ku),i=Yg(n),l=Yg(s?.id);return x.useEffect(()=>{if(!e&&!n&&i&&l!=null){if(!Gj(i)||document.activeElement===i.target)return;const d=o.get(l);if(!d)return;const{activatorNode:u,node:h}=d;if(!u.current&&!h.current)return;requestAnimationFrame(()=>{for(const m of[u.current,h.current]){if(!m)continue;const p=mL(m);if(p){p.focus();break}}})}},[n,e,o,l,i]),null}function B_(t,e){let{transform:s,...n}=e;return t!=null&&t.length?t.reduce((o,i)=>i({transform:o,...n}),s):s}function C_(t){return x.useMemo(()=>({draggable:{...Gd.draggable,...t?.draggable},droppable:{...Gd.droppable,...t?.droppable},dragOverlay:{...Gd.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function j_(t){let{activeNode:e,measure:s,initialRect:n,config:o=!0}=t;const i=x.useRef(!1),{x:l,y:d}=typeof o=="boolean"?{x:o,y:o}:o;Ta(()=>{if(!l&&!d||!e){i.current=!1;return}if(i.current||!n)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const m=s(h),p=Xj(m,n);if(l||(p.x=0),d||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const v=$j(h);v&&v.scrollBy({top:p.y,left:p.x})}},[e,l,d,n,s])}const o2=x.createContext({...Hr,scaleX:1,scaleY:1});var pa;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(pa||(pa={}));const N_=x.memo(function(e){var s,n,o,i;let{id:l,accessibility:d,autoScroll:u=!0,children:h,sensors:m=m_,collisionDetection:p=QL,measuring:v,modifiers:b,...w}=e;const B=x.useReducer(b_,void 0,y_),[C,j]=B,[S,D]=bL(),[N,E]=x.useState(pa.Uninitialized),k=N===pa.Initialized,{draggable:{active:T,nodes:_,translate:M},droppable:{containers:Z}}=C,P=T!=null?_.get(T):null,H=x.useRef({initial:null,translated:null}),W=x.useMemo(()=>{var st;return T!=null?{id:T,data:(st=P?.data)!=null?st:g_,rect:H}:null},[T,P]),ne=x.useRef(null),[ie,K]=x.useState(null),[J,z]=x.useState(null),oe=Nl(w,Object.values(w)),U=Ou("DndDescribedBy",l),L=x.useMemo(()=>Z.getEnabled(),[Z]),F=C_(v),{droppableRects:R,measureDroppableContainers:O,measuringScheduled:$}=r_(L,{dragging:k,dependencies:[M.x,M.y],config:F.droppable}),re=t_(_,T),he=x.useMemo(()=>J?Xg(J):null,[J]),V=Ht(),X=n_(re,F.draggable.measure);j_({activeNode:T!=null?_.get(T):null,config:V.layoutShiftCompensation,initialRect:X,measure:F.draggable.measure});const G=TB(re,F.draggable.measure,X),q=TB(re?re.parentElement:null),ce=x.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:R,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pe=Z.getNodeFor((s=ce.current.over)==null?void 0:s.id),Ne=h_({measure:F.dragOverlay.measure}),at=(n=Ne.nodeRef.current)!=null?n:re,Nt=k?(o=Ne.rect)!=null?o:G:null,ke=!!(Ne.nodeRef.current&&Ne.rect),Ie=A_(ke?null:G),Rt=a2(at?qs(at):null),hs=i_(k?pe??re:null),Es=u_(hs),rn=B_(b,{transform:{x:M.x-Ie.x,y:M.y-Ie.y,scaleX:1,scaleY:1},activatorEvent:J,active:W,activeNodeRect:G,containerNodeRect:q,draggingNodeRect:Nt,over:ce.current.over,overlayNodeRect:Ne.rect,scrollableAncestors:hs,scrollableAncestorRects:Es,windowRect:Rt}),Pn=he?CA(he,M):null,ht=l_(hs),Ms=HB(ht),Hs=HB(ht,[G]),qe=CA(rn,Ms),Tt=Nt?UL(Nt,rn):null,Mt=W&&Tt?p({active:W,collisionRect:Tt,droppableRects:R,droppableContainers:L,pointerCoordinates:Pn}):null,Bo=NL(Mt,"id"),[Ar,Co]=x.useState(null),nn=ke?rn:CA(rn,Hs),Kn=EL(nn,(i=Ar?.rect)!=null?i:null,G),xe=x.useRef(null),ve=x.useCallback((st,Lt)=>{let{sensor:Xe,options:Le}=Lt;if(ne.current==null)return;const rt=_.get(ne.current);if(!rt)return;const Re=st.nativeEvent,Ze=new Xe({active:ne.current,activeNode:rt,event:Re,options:Le,context:ce,onAbort(Te){if(!_.get(Te))return;const{onDragAbort:$e}=oe.current,bt={id:Te};$e?.(bt),S({type:"onDragAbort",event:bt})},onPending(Te,Je,$e,bt){if(!_.get(Te))return;const{onDragPending:Fs}=oe.current,Ft={id:Te,constraint:Je,initialCoordinates:$e,offset:bt};Fs?.(Ft),S({type:"onDragPending",event:Ft})},onStart(Te){const Je=ne.current;if(Je==null)return;const $e=_.get(Je);if(!$e)return;const{onDragStart:bt}=oe.current,Wt={activatorEvent:Re,active:{id:Je,data:$e.data,rect:H}};Vi.unstable_batchedUpdates(()=>{bt?.(Wt),E(pa.Initializing),j({type:ls.DragStart,initialCoordinates:Te,active:Je}),S({type:"onDragStart",event:Wt}),K(xe.current),z(Re)})},onMove(Te){j({type:ls.DragMove,coordinates:Te})},onEnd:Kt(ls.DragEnd),onCancel:Kt(ls.DragCancel)});xe.current=Ze;function Kt(Te){return async function(){const{active:$e,collisions:bt,over:Wt,scrollAdjustedTranslate:Fs}=ce.current;let Ft=null;if($e&&Fs){const{cancelDrop:Pr}=oe.current;Ft={activatorEvent:Re,active:$e,collisions:bt,delta:Fs,over:Wt},Te===ls.DragEnd&&typeof Pr=="function"&&await Promise.resolve(Pr(Ft))&&(Te=ls.DragCancel)}ne.current=null,Vi.unstable_batchedUpdates(()=>{j({type:Te}),E(pa.Uninitialized),Co(null),K(null),z(null),xe.current=null;const Pr=Te===ls.DragEnd?"onDragEnd":"onDragCancel";if(Ft){const an=oe.current[Pr];an?.(Ft),S({type:Pr,event:Ft})}})}}},[_]),De=x.useCallback((st,Lt)=>(Xe,Le)=>{const rt=Xe.nativeEvent,Re=_.get(Le);if(ne.current!==null||!Re||rt.dndKit||rt.defaultPrevented)return;const Ze={active:Re};st(Xe,Lt.options,Ze)===!0&&(rt.dndKit={capturedBy:Lt.sensor},ne.current=Le,ve(Xe,Lt))},[_,ve]),Ke=s_(m,De);c_(m),Ta(()=>{G&&N===pa.Initializing&&E(pa.Initialized)},[G,N]),x.useEffect(()=>{const{onDragMove:st}=oe.current,{active:Lt,activatorEvent:Xe,collisions:Le,over:rt}=ce.current;if(!Lt||!Xe)return;const Re={active:Lt,activatorEvent:Xe,collisions:Le,delta:{x:qe.x,y:qe.y},over:rt};Vi.unstable_batchedUpdates(()=>{st?.(Re),S({type:"onDragMove",event:Re})})},[qe.x,qe.y]),x.useEffect(()=>{const{active:st,activatorEvent:Lt,collisions:Xe,droppableContainers:Le,scrollAdjustedTranslate:rt}=ce.current;if(!st||ne.current==null||!Lt||!rt)return;const{onDragOver:Re}=oe.current,Ze=Le.get(Bo),Kt=Ze&&Ze.rect.current?{id:Ze.id,rect:Ze.rect.current,data:Ze.data,disabled:Ze.disabled}:null,Te={active:st,activatorEvent:Lt,collisions:Xe,delta:{x:rt.x,y:rt.y},over:Kt};Vi.unstable_batchedUpdates(()=>{Co(Kt),Re?.(Te),S({type:"onDragOver",event:Te})})},[Bo]),Ta(()=>{ce.current={activatorEvent:J,active:W,activeNode:re,collisionRect:Tt,collisions:Mt,droppableRects:R,draggableNodes:_,draggingNode:at,draggingNodeRect:Nt,droppableContainers:Z,over:Ar,scrollableAncestors:hs,scrollAdjustedTranslate:qe},H.current={initial:Nt,translated:Tt}},[W,re,Mt,Tt,_,at,Nt,R,Z,Ar,hs,qe]),ZL({...V,delta:M,draggingRect:Tt,pointerCoordinates:Pn,scrollableAncestors:hs,scrollableAncestorRects:Es});const $t=x.useMemo(()=>({active:W,activeNode:re,activeNodeRect:G,activatorEvent:J,collisions:Mt,containerNodeRect:q,dragOverlay:Ne,draggableNodes:_,droppableContainers:Z,droppableRects:R,over:Ar,measureDroppableContainers:O,scrollableAncestors:hs,scrollableAncestorRects:Es,measuringConfiguration:F,measuringScheduled:$,windowRect:Rt}),[W,re,G,J,Mt,q,Ne,_,Z,R,Ar,O,hs,Es,F,$,Rt]),yt=x.useMemo(()=>({activatorEvent:J,activators:Ke,active:W,activeNodeRect:G,ariaDescribedById:{draggable:U},dispatch:j,draggableNodes:_,over:Ar,measureDroppableContainers:O}),[J,Ke,W,G,j,U,_,Ar,O]);return Yt.createElement(Yj.Provider,{value:D},Yt.createElement(Ku.Provider,{value:yt},Yt.createElement(v_.Provider,{value:$t},Yt.createElement(o2.Provider,{value:Kn},h)),Yt.createElement(w_,{disabled:d?.restoreFocus===!1})),Yt.createElement(CL,{...d,hiddenTextDescribedById:U}));function Ht(){const st=ie?.autoScrollEnabled===!1,Lt=typeof u=="object"?u.enabled===!1:u===!1,Xe=k&&!st&&!Lt;return typeof u=="object"?{...u,enabled:Xe}:{enabled:Xe}}}),S_=x.createContext(null),_B="button",Q_="Draggable";function E_(t){let{id:e,data:s,disabled:n=!1,attributes:o}=t;const i=Ou(Q_),{activators:l,activatorEvent:d,active:u,activeNodeRect:h,ariaDescribedById:m,draggableNodes:p,over:v}=x.useContext(Ku),{role:b=_B,roleDescription:w="draggable",tabIndex:B=0}=o??{},C=u?.id===e,j=x.useContext(C?o2:S_),[S,D]=mu(),[N,E]=mu(),k=d_(l,e),T=Nl(s);Ta(()=>(p.set(e,{id:e,key:i,node:S,activatorNode:N,data:T}),()=>{const M=p.get(e);M&&M.key===i&&p.delete(e)}),[p,e]);const _=x.useMemo(()=>({role:b,tabIndex:B,"aria-disabled":n,"aria-pressed":C&&b===_B?!0:void 0,"aria-roledescription":w,"aria-describedby":m.draggable}),[n,b,B,C,w,m.draggable]);return{active:u,activatorEvent:d,activeNodeRect:h,attributes:_,isDragging:C,listeners:n?void 0:k,node:S,over:v,setNodeRef:D,setActivatorNodeRef:E,transform:j}}const F_="Droppable",U_={timeout:25};function k_(t){let{data:e,disabled:s=!1,id:n,resizeObserverConfig:o}=t;const i=Ou(F_),{active:l,dispatch:d,over:u,measureDroppableContainers:h}=x.useContext(Ku),m=x.useRef({disabled:s}),p=x.useRef(!1),v=x.useRef(null),b=x.useRef(null),{disabled:w,updateMeasurementsFor:B,timeout:C}={...U_,...o},j=Nl(B??n),S=x.useCallback(()=>{if(!p.current){p.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{h(Array.isArray(j.current)?j.current:[j.current]),b.current=null},C)},[C]),D=Pu({callback:S,disabled:w||!l}),N=x.useCallback((_,M)=>{D&&(M&&(D.unobserve(M),p.current=!1),_&&D.observe(_))},[D]),[E,k]=mu(N),T=Nl(e);return x.useEffect(()=>{!D||!E.current||(D.disconnect(),p.current=!1,D.observe(E.current))},[E,D]),x.useEffect(()=>(d({type:ls.RegisterDroppable,element:{id:n,key:i,disabled:s,node:E,rect:v,data:T}}),()=>d({type:ls.UnregisterDroppable,key:i,id:n})),[n]),x.useEffect(()=>{s!==m.current.disabled&&(d({type:ls.SetDroppableDisabled,id:n,key:i,disabled:s}),m.current.disabled=s)},[n,i,s,d]),{active:l,rect:v,isOver:u?.id===n,node:E,over:u,setNodeRef:k}}const D_=Ba,fa=t=>t&&t.length>0?t:D_,I_={"pro-corporate":M1,"modern-stripe":xI,"minimal-outline":yI,"elegant-dark":wI,"classic-column":CI},R_=t=>I_[t]||M1;function T_({selectedTemplate:t,templates:e,onTemplateSelect:s,onCustomize:n,onTemplateUpdate:o,className:i=""}){const[l,d]=x.useState(!1),[u,h]=x.useState(!1),[m,p]=x.useState({nodes:[]}),[v,b]=x.useState(null),[w,B]=x.useState({backgroundColor:"#ffffff",padding:40}),[C,j]=x.useState(fa(e)[0]),[S,D]=x.useState(15),N={invoiceNumber:"INV-2024-001",date:"2024-01-15",dueDate:"2024-02-15",company:{name:"Your Company",address:"123 Business St",city:"San Francisco",state:"CA",zip:"94105",phone:"+1 (555) 123-4567",email:"info@yourcompany.com",logo:"https://via.placeholder.com/150"},customer:{name:"Client Name Inc.",address:"456 Client Ave",city:"Los Angeles",state:"CA",zip:"90210"},items:[{id:"1",description:"Website Development",quantity:1,rate:2e3,amount:2e3},{id:"2",description:"SEO Optimization",quantity:1,rate:500,amount:500}],notes:"Thank you for your business!",terms:"Payment due within 30 days.",taxRate:8.5,discount:0},E=F=>{s?.(F);const R=fa(e).find(O=>O.id===F)||fa(e)[0];j(R),o&&o(R)},k=()=>{d(!0)},T=()=>{const F={id:`custom-${Date.now()}`,name:"Untitled Custom Template",description:"A new design created from scratch",preview:"",colors:{primary:"#0f172a",secondary:"#475569",accent:"#0ea5e9",background:"#ffffff",text:"#0f172a"},fonts:{primary:"Inter",secondary:"Inter",size:"medium"},layout:{headerStyle:"modern",showLogo:!0,showBorder:!1,itemTableStyle:"modern",footerStyle:"minimal"},customSchema:{nodes:[]}};j(F),p({nodes:[]}),h(!0)},_=F=>{const{over:R,active:O}=F;if(R&&R.id==="canvas"){const $={id:`${O.id}-${Date.now()}`,type:O.id,children:[],style:{}};p(re=>({...re,nodes:[...re.nodes,$]}))}},M=m.nodes.find(F=>F.id===v)||null,Z=()=>{n?.(C),o&&o(C),d(!1)},P=()=>{d(!1)},H=(F,R)=>{j(O=>{const $={...O,colors:{...O.colors,[F]:R}};return o&&o($),$})},W=(F,R)=>{j(O=>{const $={...O,layout:{...O.layout,[F]:R}};return o&&o($),$})},ne=(F,R)=>{j(O=>{const $={...O,fonts:{...O.fonts,[F]:R}};return o&&o($),$})},ie=(F,R)=>{B(O=>({...O,[F]:R}))},K=(F,R)=>{p(O=>({...O,nodes:O.nodes.map($=>$.id===F?{...$,style:{...$.style,...R}}:$)}))},J=(F,R)=>{p(O=>({...O,nodes:O.nodes.map($=>$.id===F?{...$,props:{...$.props||{},...R}}:$)}))},z=F=>{p(R=>({...R,nodes:R.nodes.filter(O=>O.id!==F)})),b(null)},oe=F=>{p(R=>{const O=R.nodes.findIndex($=>$.id===F);if(O>0){const $=[...R.nodes];return[$[O-1],$[O]]=[$[O],$[O-1]],{...R,nodes:$}}return R})},U=F=>{p(R=>{const O=R.nodes.findIndex($=>$.id===F);if(O<R.nodes.length-1){const $=[...R.nodes];return[$[O],$[O+1]]=[$[O+1],$[O]],{...R,nodes:$}}return R})},L=()=>{const F={...C,customSchema:m,id:`custom-${Date.now()}`,name:C.name||"Custom Template"},R=JSON.parse(localStorage.getItem("customTemplates")||"[]");localStorage.setItem("customTemplates",JSON.stringify([...R,F])),n?.(F),h(!1)};return r.jsxs("div",{className:He("space-y-6",i),children:[r.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",style:{borderColor:"var(--border)"},children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold mb-1",style:{color:"var(--foreground)"},children:"Invoice Templates"}),r.jsxs("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:["Choose from ",fa(e).length," professional templates or create your own"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)"},children:[r.jsx("span",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:"Zoom:"}),r.jsx("button",{onClick:()=>D(Math.max(10,S-2)),className:"w-6 h-6 flex items-center justify-center rounded hover:bg-gray-100 dark:hover:bg-gray-800",title:"Zoom Out",children:r.jsx("span",{className:"text-lg font-bold",style:{color:"var(--foreground)"},children:"−"})}),r.jsxs("span",{className:"text-xs font-mono w-10 text-center",style:{color:"var(--foreground)"},children:[S,"%"]}),r.jsx("button",{onClick:()=>D(Math.min(25,S+2)),className:"w-6 h-6 flex items-center justify-center rounded hover:bg-gray-100 dark:hover:bg-gray-800",title:"Zoom In",children:r.jsx("span",{className:"text-lg font-bold",style:{color:"var(--foreground)"},children:"+"})})]}),r.jsxs(te,{onClick:T,variant:"default",size:"default",className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-5 w-5"}),r.jsx("span",{children:"Create Custom"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:fa(e).map(F=>r.jsxs("div",{className:He("group relative rounded-lg overflow-hidden cursor-pointer transition-all duration-200",t===F.id?"shadow-md":"hover:shadow-sm"),style:{backgroundColor:"var(--card)",border:t===F.id?"2px solid var(--accent)":"1px solid var(--border)"},onClick:()=>E(F.id),children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 border-b overflow-hidden",style:{height:"180px",borderColor:"var(--border)"},children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-3",children:(()=>{const R=R_(F.id),O=S/100;return r.jsx("div",{className:"transform origin-top",style:{transform:`scale(${O})`,marginTop:"-10px"},children:r.jsx("div",{style:{width:"210mm",height:"297mm"},children:r.jsx(R,{})})})})()}),t===F.id&&r.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full flex items-center justify-center shadow-md",style:{backgroundColor:"var(--accent)"},children:r.jsx(Br,{className:"h-4 w-4 text-white"})})]}),r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1.5",children:[r.jsx("h4",{className:"text-sm font-semibold",style:{color:"var(--foreground)"},children:F.name}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded shrink-0",style:{backgroundColor:"var(--muted)",color:"var(--muted-foreground)"},children:F.layout.headerStyle})]}),r.jsx("p",{className:"text-xs mb-2 line-clamp-1",style:{color:"var(--muted-foreground)"},children:F.description}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:F.colors.primary,borderColor:"var(--border)"},title:"Primary"}),r.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:F.colors.secondary,borderColor:"var(--border)"},title:"Secondary"}),r.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:F.colors.accent,borderColor:"var(--border)"},title:"Accent"})]})]})]},F.id))}),t&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 p-3 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--accent)"},children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx(Br,{className:"h-4 w-4 shrink-0",style:{color:"var(--accent)"}}),r.jsx("div",{className:"min-w-0",children:r.jsx("span",{className:"text-xs font-medium truncate block",style:{color:"var(--foreground)"},children:fa(e).find(F=>F.id===t)?.name})})]}),r.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[r.jsxs(te,{onClick:k,variant:"outline",size:"sm",className:"flex items-center gap-1.5 flex-1 sm:flex-initial text-xs",children:[r.jsx(lC,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:"Customize"})]}),r.jsx(te,{onClick:()=>{n?.(fa(e).find(F=>F.id===t)||fa(e)[0])},variant:"default",size:"sm",className:"flex-1 sm:flex-initial text-xs",children:r.jsx("span",{children:"Use Template"})})]})]}),l&&r.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/20 dark:bg-black/20 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",style:{backgroundColor:"var(--card)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--foreground)"},children:"Customize Template"}),r.jsx(te,{variant:"ghost",onClick:P,className:"p-2",children:r.jsx(Rn,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"p-6 space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Brand Colors"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Primary Color"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"color",value:C.colors.primary,onChange:F=>H("primary",F.target.value),className:"w-full h-12 border rounded-lg cursor-pointer"}),r.jsx("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:"Headers, titles, main elements"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Secondary Color"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"color",value:C.colors.secondary,onChange:F=>H("secondary",F.target.value),className:"w-full h-12 border rounded-lg cursor-pointer"}),r.jsx("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:"Subtitles, borders, supporting text"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Accent Color"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"color",value:C.colors.accent,onChange:F=>H("accent",F.target.value),className:"w-full h-12 border rounded-lg cursor-pointer"}),r.jsx("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:"Totals, highlights, call-to-actions"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Background"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"color",value:C.colors.background,onChange:F=>H("background",F.target.value),className:"w-full h-12 border rounded-lg cursor-pointer"}),r.jsx("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:"Document background color"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Layout & Structure"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Header Style"}),r.jsx(Fe,{value:C.layout.headerStyle,onChange:F=>W("headerStyle",F.target.value),options:[{value:"minimal",label:"Minimal - Clean and simple"},{value:"classic",label:"Classic - Traditional business"},{value:"modern",label:"Modern - Contemporary design"}]}),r.jsx("p",{className:"text-xs mt-1",style:{color:"var(--muted-foreground)"},children:"Controls header layout and styling"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Item Table Style"}),r.jsx(Fe,{value:C.layout.itemTableStyle,onChange:F=>W("itemTableStyle",F.target.value),options:[{value:"simple",label:"Simple - Basic table"},{value:"detailed",label:"Detailed - Full borders"},{value:"modern",label:"Modern - Rounded corners"}]}),r.jsx("p",{className:"text-xs mt-1",style:{color:"var(--muted-foreground)"},children:"Controls invoice items table design"})]})]}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsx("h4",{className:"text-md font-medium",style:{color:"var(--foreground)"},children:"Display Options"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",style:{borderColor:"var(--border)"},children:[r.jsx(Ot,{checked:C.layout.showLogo,onChange:F=>W("showLogo",F.target.checked)}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:"Show Company Logo"}),r.jsx("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:"Display logo in header area"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",style:{borderColor:"var(--border)"},children:[r.jsx(Ot,{checked:C.layout.showBorder,onChange:F=>W("showBorder",F.target.checked)}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:"Show Borders"}),r.jsx("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:"Add decorative borders"})]})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Typography"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Font Size"}),r.jsx(Fe,{value:C.fonts.size,onChange:F=>ne("size",F.target.value),options:[{value:"small",label:"Small (12px) - Compact"},{value:"medium",label:"Medium (14px) - Standard"},{value:"large",label:"Large (16px) - Readable"}]}),r.jsx("p",{className:"text-xs mt-1",style:{color:"var(--muted-foreground)"},children:"Overall document font size"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--foreground)"},children:"Font Family"}),r.jsx(Fe,{value:C.fonts.primary,onChange:F=>ne("primary",F.target.value),options:[{value:"Inter",label:"Inter - Modern & Clean"},{value:"Helvetica",label:"Helvetica - Classic"},{value:"Georgia",label:"Georgia - Serif"},{value:"Monaco",label:"Monaco - Monospace"}]}),r.jsx("p",{className:"text-xs mt-1",style:{color:"var(--muted-foreground)"},children:"Primary font family for text"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Preview"}),r.jsx("div",{className:"p-6 border rounded-lg",style:{backgroundColor:C.colors.background,borderColor:C.colors.primary},children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:C.colors.primary},children:"INVOICE"}),r.jsx("p",{className:"text-sm",style:{color:C.colors.secondary},children:"#INV-2024-001"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsx("div",{children:r.jsxs("p",{style:{color:C.colors.text},children:[r.jsx("strong",{children:"From:"})," Your Company"]})}),r.jsx("div",{children:r.jsxs("p",{style:{color:C.colors.text},children:[r.jsx("strong",{children:"To:"})," Customer Name"]})})]}),r.jsx("div",{className:"border rounded",style:{borderColor:C.colors.primary},children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left",style:{backgroundColor:C.colors.primary,color:"white"},children:[r.jsx("th",{className:"p-2",children:"Item"}),r.jsx("th",{className:"p-2",children:"Amount"})]})}),r.jsx("tbody",{children:r.jsxs("tr",{children:[r.jsx("td",{className:"p-2",style:{color:C.colors.text},children:"Sample Item"}),r.jsx("td",{className:"p-2",style:{color:C.colors.accent},children:"$100.00"})]})})]})})]})})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",style:{borderColor:"var(--border)"},children:[r.jsx(te,{variant:"outline",onClick:P,children:"Cancel"}),r.jsxs(te,{onClick:Z,className:"flex items-center gap-2",children:[r.jsx(Br,{className:"h-4 w-4"}),"Apply Changes"]})]})]})}),u&&r.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-7xl h-[95vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Template Builder"}),r.jsx("input",{type:"text",value:C.name,onChange:F=>j(R=>({...R,name:F.target.value})),className:"px-2 py-1 text-sm border rounded bg-white dark:bg-gray-700",placeholder:"Template name"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(te,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),r.jsx(te,{variant:"outline",onClick:()=>L_(C,m),children:"Export"}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:F=>__(F,j,p)}),r.jsx("span",{children:r.jsx(te,{variant:"outline",children:"Import"})})]}),r.jsx(te,{onClick:L,children:"Save Template"})]})]}),r.jsx("div",{className:"flex-1 grid grid-cols-12 overflow-hidden",children:r.jsxs(N_,{onDragEnd:_,children:[r.jsxs("div",{className:"col-span-2 bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 p-3 overflow-y-auto",children:[r.jsx("div",{className:"font-medium text-sm mb-2",children:"Components"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Nn,{id:"container",children:"Container"}),r.jsx(Nn,{id:"text",children:"Text"}),r.jsx(Nn,{id:"logo",children:"Logo"}),r.jsx(Nn,{id:"company",children:"Company Info"}),r.jsx(Nn,{id:"customer",children:"Customer Info"}),r.jsx(Nn,{id:"items",children:"Items Table"}),r.jsx(Nn,{id:"totals",children:"Totals"}),r.jsx(Nn,{id:"divider",children:"Divider"}),r.jsx(Nn,{id:"spacer",children:"Spacer"})]})]}),r.jsx("div",{className:"col-span-7 bg-gray-100 dark:bg-gray-800/50 p-4 overflow-auto",children:r.jsx(M_,{id:"canvas",children:r.jsx("div",{className:"mx-auto bg-white shadow-lg",style:{width:"210mm",minHeight:"297mm",backgroundColor:w.backgroundColor,padding:`${w.padding}px`},onClick:()=>b(null),children:r.jsx(H_,{schema:m,data:N,template:C,brandLogos:[],selectedNodeId:v,setSelectedNodeId:b,onDelete:z,onMoveUp:oe,onMoveDown:U})})})}),r.jsxs("div",{className:"col-span-3 border-l border-gray-200 dark:border-gray-700 p-3",children:[r.jsx("div",{className:"font-medium text-sm mb-2",children:"Properties"}),r.jsx(O_,{selectedNode:M,onStyleChange:K,onPropsChange:J,onPageStyleChange:ie,pageStyles:w})]})]})})]})})]})}function Nn({id:t,children:e}){const{attributes:s,listeners:n,setNodeRef:o,transform:i}=E_({id:t}),l={transform:$g.Translate.toString(i)};return r.jsx("div",{ref:o,style:l,...n,...s,className:"p-2 border rounded bg-white dark:bg-gray-800 text-xs cursor-grab",children:e})}function M_({id:t,children:e}){const{isOver:s,setNodeRef:n}=k_({id:t});return r.jsx("div",{ref:n,className:s?"bg-blue-100/50":"",children:e})}function H_({schema:t,data:e,template:s,selectedNodeId:n,setSelectedNodeId:o,onDelete:i,onMoveUp:l,onMoveDown:d}){const u=e.items.reduce((v,b)=>v+b.amount,0),h=u*(e.taxRate/100),m=u+h-e.discount,p=v=>{const b={backgroundColor:v.style?.bgColor,color:v.style?.textColor,textAlign:v.style?.align,padding:v.style?.padding,border:v.style?.border,fontSize:v.style?.fontSize,fontWeight:v.style?.fontWeight,display:v.type==="container"?"flex":void 0,flexDirection:v.style?.direction,gap:v.style?.gap},w=(()=>{switch(v.type){case"container":return v.children?.map(B=>p(B));case"text":return v.props?.content||"Text Component";case"logo":return s.layout.showLogo&&e.company.logo?r.jsx(_p,{src:e.company.logo,alt:"Logo",width:150,height:48,unoptimized:!0}):r.jsx("div",{className:"p-2 bg-gray-200 text-xs",children:"Logo"});case"company":return r.jsxs("div",{children:[r.jsx("div",{className:"font-bold",style:{color:s.colors.primary},children:e.company.name}),r.jsx("div",{children:e.company.address}),r.jsxs("div",{children:[e.company.city,", ",e.company.state," ",e.company.zip]}),r.jsxs("div",{children:[e.company.phone," • ",e.company.email]})]});case"customer":return r.jsxs("div",{children:[r.jsx("div",{className:"font-bold",style:{color:s.colors.primary},children:"Bill To"}),r.jsx("div",{children:e.customer.name}),r.jsx("div",{children:e.customer.address}),r.jsxs("div",{children:[e.customer.city,", ",e.customer.state," ",e.customer.zip]})]});case"items":return r.jsxs("table",{className:"w-full border-collapse text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:s.colors.primary,color:"#fff"},children:[r.jsx("th",{className:"text-left p-2",children:"Description"}),r.jsx("th",{className:"text-right p-2",children:"Qty"}),r.jsx("th",{className:"text-right p-2",children:"Rate"}),r.jsx("th",{className:"text-right p-2",children:"Amount"})]})}),r.jsx("tbody",{children:e.items.map((B,C)=>r.jsxs("tr",{style:{backgroundColor:C%2?"#00000005":"transparent"},children:[r.jsx("td",{className:"p-2",style:{borderBottom:`1px solid ${s.colors.secondary}30`},children:B.description}),r.jsx("td",{className:"p-2 text-right",style:{borderBottom:`1px solid ${s.colors.secondary}30`},children:B.quantity}),r.jsxs("td",{className:"p-2 text-right",style:{borderBottom:`1px solid ${s.colors.secondary}30`},children:["$",B.rate.toFixed(2)]}),r.jsxs("td",{className:"p-2 text-right",style:{borderBottom:`1px solid ${s.colors.secondary}30`},children:["$",B.amount.toFixed(2)]})]},B.id))})]});case"totals":return r.jsxs("div",{style:{maxWidth:360,marginLeft:"auto"},children:[r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",u.toFixed(2)]})]}),e.taxRate>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsxs("span",{children:["Tax (",e.taxRate,"%)"]}),r.jsxs("span",{children:["$",h.toFixed(2)]})]}),e.discount>0&&r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["- $",e.discount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t-2",style:{borderColor:s.colors.primary},children:[r.jsx("div",{className:"text-lg font-bold",style:{color:s.colors.accent},children:"Total"}),r.jsxs("div",{className:"text-2xl font-extrabold",children:["$",m.toFixed(2)]})]})]});case"notes":return e.notes?r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1",style:{color:s.colors.primary},children:"Notes"}),r.jsx("div",{className:"text-sm",children:e.notes})]}):null;case"terms":return e.terms?r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1",style:{color:s.colors.primary},children:"Terms"}),r.jsx("div",{className:"text-sm",children:e.terms})]}):null;case"divider":return r.jsx("hr",{style:{borderColor:s.colors.secondary}});case"spacer":return r.jsx("div",{style:{height:v.props?.height||16}});default:return r.jsx("div",{className:"p-2 bg-gray-100 text-xs",children:v.type})}})();return r.jsxs("div",{onClick:B=>{B.stopPropagation(),o(v.id)},className:`relative border-2 ${n===v.id?"border-blue-500":"border-transparent"} hover:border-blue-300 transition-colors`,style:b,children:[w,n===v.id&&r.jsxs("div",{className:"absolute top-0 right-0 flex gap-1 p-1 bg-blue-500 rounded-bl",children:[r.jsx("button",{onClick:B=>{B.stopPropagation(),l(v.id)},className:"text-white hover:bg-blue-600 p-1 rounded",title:"Move Up",children:r.jsx(AE,{className:"h-3 w-3"})}),r.jsx("button",{onClick:B=>{B.stopPropagation(),d(v.id)},className:"text-white hover:bg-blue-600 p-1 rounded",title:"Move Down",children:r.jsx(eE,{className:"h-3 w-3"})}),r.jsx("button",{onClick:B=>{B.stopPropagation(),i(v.id)},className:"text-white hover:bg-red-600 p-1 rounded",title:"Delete",children:r.jsx(fs,{className:"h-3 w-3"})})]})]},v.id)};return r.jsx(r.Fragment,{children:t.nodes.map(v=>p(v))})}function L_(t,e){const s={...t,customSchema:e},n=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),o=URL.createObjectURL(n),i=document.createElement("a");i.href=o,i.download=`${t.name||"custom-template"}.json`,i.click(),URL.revokeObjectURL(o)}function __(t,e,s){const n=t.target.files?.[0];if(!n)return;const o=new FileReader;o.onload=i=>{try{const l=JSON.parse(String(i.target?.result||"{}"));l&&typeof l=="object"&&l.customSchema&&e&&s&&(e(l),s(l.customSchema))}catch{}},o.readAsText(n)}function O_({selectedNode:t,onStyleChange:e,onPropsChange:s,onPageStyleChange:n,pageStyles:o}){if(!t)return r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold mb-2",children:"Page Styles"}),r.jsx("label",{className:"block text-xs mb-1",children:"Background Color"}),r.jsx("input",{type:"color",value:o.backgroundColor,onChange:l=>n("backgroundColor",l.target.value),className:"w-full h-8 p-1 border rounded"}),r.jsx("label",{className:"block text-xs mb-1 mt-2",children:"Padding (px)"}),r.jsx("input",{type:"number",value:o.padding,onChange:l=>n("padding",parseInt(l.target.value)),className:"w-full p-1 border rounded"})]});const i=(l,d)=>{e(t.id,{[l]:d})};return r.jsxs("div",{children:[r.jsxs("h4",{className:"text-xs font-semibold mb-2",children:["Component: ",t.type]}),t.type==="text"&&r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-xs mb-1",children:"Text Content"}),r.jsx("textarea",{className:"w-full p-2 border rounded text-xs bg-white dark:bg-gray-700",rows:3,value:String(t.props?.content||""),onChange:l=>s(t.id,{content:l.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Background Color"}),r.jsx("input",{type:"color",value:t.style?.bgColor||"#ffffff",onChange:l=>i("bgColor",l.target.value),className:"w-full h-8 p-1 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Text Color"}),r.jsx("input",{type:"color",value:t.style?.textColor||"#000000",onChange:l=>i("textColor",l.target.value),className:"w-full h-8 p-1 border rounded"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Padding (px)"}),r.jsx("input",{type:"number",value:t.style?.padding||0,onChange:l=>i("padding",parseInt(l.target.value)),className:"w-full p-1 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Margin (px)"}),r.jsx("input",{type:"number",value:t.style?.margin||0,onChange:l=>i("margin",parseInt(l.target.value)),className:"w-full p-1 border rounded"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Font Size (px)"}),r.jsx("input",{type:"number",value:t.style?.fontSize||14,onChange:l=>i("fontSize",parseInt(l.target.value)),className:"w-full p-1 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Font Weight"}),r.jsxs("select",{value:t.style?.fontWeight||"normal",onChange:l=>i("fontWeight",l.target.value),className:"w-full p-1 border rounded bg-white dark:bg-gray-700",children:[r.jsx("option",{value:"normal",children:"Normal"}),r.jsx("option",{value:"semibold",children:"Semibold"}),r.jsx("option",{value:"bold",children:"Bold"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Align"}),r.jsxs("select",{value:t.style?.align||"left",onChange:l=>i("align",l.target.value),className:"w-full p-1 border rounded bg-white dark:bg-gray-700",children:[r.jsx("option",{value:"left",children:"Left"}),r.jsx("option",{value:"center",children:"Center"}),r.jsx("option",{value:"right",children:"Right"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Direction"}),r.jsxs("select",{value:t.style?.direction||"row",onChange:l=>i("direction",l.target.value),className:"w-full p-1 border rounded bg-white dark:bg-gray-700",children:[r.jsx("option",{value:"row",children:"Row"}),r.jsx("option",{value:"column",children:"Column"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Gap (px)"}),r.jsx("input",{type:"number",value:t.style?.gap||0,onChange:l=>i("gap",parseInt(l.target.value)),className:"w-full p-1 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Border (CSS)"}),r.jsx("input",{type:"text",value:t.style?.border||"",onChange:l=>i("border",l.target.value),placeholder:"e.g., 1px solid #e5e7eb",className:"w-full p-1 border rounded text-xs"})]})]})]})]})}const P_=()=>({invoiceNumber:"INV-2024-001",date:"2024-01-15",dueDate:"2024-02-15",company:{name:"TopNotch Electronics",address:"123 Business St",city:"San Francisco",state:"CA",zip:"94105",phone:"+1 (555) 123-4567",email:"info@topnotch.com",website:"",logo:""},customer:{name:"Acme Corporation",address:"123 Business Ave, Suite 100",city:"San Francisco",state:"CA",zip:"94105",phone:"+1 (555) 987-6543",email:"billing@acme.com"},items:[{id:"1",description:"Website Development",quantity:1,rate:2e3,amount:2e3},{id:"2",description:"SEO Optimization",quantity:1,rate:500,amount:500}],notes:"Thank you for your business!",terms:"Payment due within 30 days of invoice date.",taxRate:8.5,discount:0});function K_(){const t=en(),e=vt(),s=t.id,[n,o]=x.useState(P_()),[i,l]=x.useState(!1),[,d]=x.useState(!1),[u,h]=x.useState(null),m=x.useCallback(async()=>{try{if(l(!0),!window.electron?.ipcRenderer)throw new Error("Electron not available");const b=await window.electron.ipcRenderer.invoke("get-invoice-by-id",s);if(!b.success)throw new Error(b.error||"Failed to load invoice");const w=b.data,B=(w.customerAddress||"").split(",").map(C=>C.trim());o({invoiceNumber:w.number,date:w.createdAt.split("T")[0],dueDate:w.dueDate||"",company:{name:"TopNotch Electronics",address:"123 Business St",city:"Freetown",state:"Western Area Urban, BO etc",zip:"94105",phone:"+232 74 123-4567",email:"info@topnotch.com",website:"",logo:""},customer:{name:w.customerName||"",email:w.customerEmail||"",address:B[0]||"",city:B[1]||"",state:B[2]||"",zip:B[3]||"",phone:w.customerPhone||""},items:w.items||[],notes:w.notes||"",terms:w.terms||"",taxRate:w.tax&&w.subtotal?w.tax/(w.subtotal-(w.discount||0))*100:0,discount:w.discount&&w.subtotal?w.discount/w.subtotal*100:0})}catch(b){console.error("Failed to load invoice:",b),h({message:"Failed to load invoice data",type:"error"})}finally{l(!1)}},[s]);x.useEffect(()=>{m()},[m]);const p=async b=>{try{d(!0);const w=b.items||[],B=w.reduce((_,M)=>_+(M.amount||0),0),C=B*(b.discount||0)/100,j=B-C,S=j*(b.taxRate||0)/100,D=j+S,N=b.customer,E=N?`${N.address||""}${N.city?", "+N.city:""}${N.state?", "+N.state:""}${N.zip?" "+N.zip:""}`.trim():"",k={number:b.invoiceNumber,customerId:N?.id||void 0,customerName:N?.name||"",customerEmail:N?.email||"",customerAddress:E,customerPhone:N?.phone||"",items:w,subtotal:B,tax:S,discount:C,total:D,dueDate:b.dueDate||"",notes:b.notes||"",terms:b.terms||""};if(!window.electron?.ipcRenderer)throw new Error("Electron not available");const T=await window.electron.ipcRenderer.invoke("update-invoice",{id:s,body:k});if(!T.success)throw new Error(T.error||"Failed to update invoice");h({message:"Invoice updated successfully!",type:"success"}),setTimeout(()=>{e(`/invoices/${s}`)},1e3)}catch(w){console.error("Failed to update invoice:",w),h({message:"Failed to update invoice",type:"error"})}finally{d(!1)}},v=()=>{h({message:"Invoice preview updated",type:"success"})};return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading invoice..."})]})}):r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:["Edit Invoice ",n.invoiceNumber]}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Modify invoice details and items"})]}),r.jsxs(te,{variant:"outline",onClick:()=>e(`/invoices/${s}`),className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4"}),"Back to Invoice"]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border",style:{borderColor:"var(--border)"},children:r.jsx(Op,{initialData:n,onSave:p,onPreview:v,className:"p-6"})}),u&&r.jsx(It,{title:u.message,variant:u.type,onClose:()=>h(null),children:u.message})]})}function z_(){const t=vt(),[e]=Ap(),[s,n]=x.useState(null),[,o]=x.useState(!1),[i,l]=x.useState(void 0);x.useEffect(()=>{const h=e.get("data"),m=e.get("fromSale");if(h&&m)try{const v={...JSON.parse(decodeURIComponent(h)),saleId:m,saleNumber:m.substring(0,8)};l(v),n({message:`Invoice data pre-filled from Sale #${m.substring(0,8)}`,type:"success"})}catch(p){console.error("Failed to parse prefilled data:",p),n({message:"Failed to load prefilled data",type:"error"})}},[e]);const d=async h=>{try{const m=h.invoiceNumber||`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,p=h.items||[],v=p.reduce((N,E)=>N+(E.amount||0),0),b=v*(h.discount||0)/100,w=v-b,B=w*(h.taxRate||0)/100,C=w+B,j=h.customer,S=j?`${j.address}${j.city?", "+j.city:""}${j.state?", "+j.state:""}${j.zip?" "+j.zip:""}`.trim():"";console.log("Preparing invoice request body:",{saleId:i?.saleId,hasPrefilledData:!!i,invoiceNumber:m});const D={number:m,saleId:i?.saleId||void 0,customerId:j?.id||void 0,customerName:j?.name||"",customerEmail:j?.email||"",customerAddress:S,customerPhone:j?.phone||"",items:p,subtotal:v,tax:B,discount:b,total:C,status:"draft",invoiceType:"invoice",currency:"USD",dueDate:h.dueDate||"",notes:h.notes||"",terms:h.terms||"",bankDetails:void 0};if(console.log("Sending invoice to IPC:",{...D,itemsCount:D.items.length}),typeof window<"u"&&window.electron?.ipcRenderer){const N=await window.electron.ipcRenderer.invoke("create-invoice",D);if(!N.success)throw new Error(N.error||"Failed to create invoice");const E=N.data;N.warning?(n({message:N.warning,type:"error"}),setTimeout(()=>{t(`/invoices/${E?.id}?overpayment=true`)},2e3)):(n({message:`Invoice ${E?.number} created successfully!`,type:"success"}),setTimeout(()=>{t(`/invoices/${E?.id}`)},1e3))}else throw new Error("Electron IPC not available")}catch(m){console.error("Failed to save invoice:",m),n({message:"Failed to save invoice",type:"error"})}},u=()=>{o(!0)};return r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"Create New Invoice"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Build and customize your invoice"})]}),r.jsxs(te,{variant:"outline",onClick:()=>t("/invoices"),className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4"}),"Back to Invoices"]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border",style:{borderColor:"var(--border)"},children:r.jsx(Op,{onSave:d,onPreview:u,initialData:i,className:"p-6"})}),s&&r.jsx(It,{title:s.message,variant:s.type,onClose:()=>n(null),children:s.message})]})}function V_(){return r.jsx(x.Suspense,{fallback:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--accent)"}}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:"Loading..."})]})}),children:r.jsx(z_,{})})}function G_(){const t=vt(),[e,s]=x.useState(void 0),[n,o]=x.useState(null),[i,l]=x.useState([]),[d,u]=x.useState(null),[h,m]=x.useState(!0),[p,v]=x.useState(45);x.useEffect(()=>{(async()=>{try{if(typeof window<"u"&&window.electron?.ipcRenderer){console.log("Loading templates via IPC...");const T=await window.electron.ipcRenderer.invoke("get-invoice-templates");if(T.success&&T.data&&T.data.length>0)console.log("Templates loaded via IPC:",T.data.length),l(T.data),s(T.data[0].id),o(T.data[0]);else{console.warn("No templates in database, using fallback");const _=Ba.slice(0,2);l(_),s(_[0].id),o(_[0])}}else{console.warn("Electron IPC not available"),u({message:"Unable to connect to database",type:"error"});const T=Ba.slice(0,2);l(T),s(T[0].id),o(T[0])}}catch(T){console.error("Error loading templates:",T),u({message:"Failed to load templates",type:"error"});const _=Ba.slice(0,2);l(_),s(_[0].id),o(_[0])}})()},[]);const b=k=>{const T=i.find(_=>_.id===k);T&&(s(k),o(T),u({message:`Template "${T.name}" selected`,type:"success"}))},w=async k=>{try{if(typeof window<"u"&&window.electron?.ipcRenderer){const T=await window.electron.ipcRenderer.invoke("update-invoice-template",{id:k.id,data:k});if(!T.success)throw new Error(T.error||"Failed to update template");o(k),u({message:"Template customized successfully!",type:"success"})}else throw new Error("Electron IPC not available")}catch(T){console.error("Error saving template:",T),u({message:"Failed to save template",type:"error"})}},B=k=>{o(k)},C=async()=>{if(n)try{if(typeof window<"u"&&window.electron?.ipcRenderer){const k=await window.electron.ipcRenderer.invoke("update-invoice-template",{id:n.id,data:n});if(!k.success)throw new Error(k.error||"Failed to save template");u({message:"Template saved successfully!",type:"success"})}else throw new Error("Electron IPC not available")}catch(k){console.error("Error saving template:",k),u({message:"Failed to save template",type:"error"})}},j=()=>{m(!h)},S=()=>{v(Math.min(p+10,150))},D=()=>{v(Math.max(p-10,30))},N=()=>{v(45)},E={invoiceNumber:"INV-2024-001",date:"2024-01-15",dueDate:"2024-02-15",company:{name:"Your Company Name",address:"123 Business Street",city:"San Francisco",state:"CA",zip:"94105",phone:"+1 (555) 123-4567",email:"info@yourcompany.com"},customer:{name:"Customer Name",address:"456 Customer Avenue",city:"Los Angeles",state:"CA",zip:"90210",phone:"+1 (555) 987-6543",email:"customer@example.com"},items:[{id:"1",description:"Professional Web Design",quantity:1,rate:2500,amount:2500},{id:"2",description:"SEO Optimization",quantity:1,rate:800,amount:800},{id:"3",description:"Content Management System",quantity:1,rate:1200,amount:1200}],notes:"Thank you for your business! We appreciate the opportunity to work with you.",terms:"Payment is due within 30 days of invoice date. Late payments may incur additional fees.",taxRate:8.5,discount:0};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4 lg:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"Invoice Templates"}),r.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--muted-foreground)"},children:[n?.name||"Select a template"," • ",h?"Preview Visible":"Preview Hidden"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[h&&r.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded border",style:{borderColor:"var(--border)"},children:[r.jsx(te,{variant:"ghost",size:"sm",onClick:D,disabled:p<=30,className:"h-7 w-7 p-0",children:r.jsx(YE,{className:"h-3.5 w-3.5"})}),r.jsxs("button",{onClick:N,className:"text-xs font-mono min-w-[2.5rem] text-center hover:underline",style:{color:"var(--muted-foreground)"},children:[p,"%"]}),r.jsx(te,{variant:"ghost",size:"sm",onClick:S,disabled:p>=150,className:"h-7 w-7 p-0",children:r.jsx($E,{className:"h-3.5 w-3.5"})})]}),r.jsx(te,{variant:h?"default":"outline",size:"sm",onClick:j,children:h?r.jsx(Gb,{className:"h-4 w-4"}):r.jsx(Ul,{className:"h-4 w-4"})}),r.jsx(te,{size:"sm",onClick:C,children:"Save"}),r.jsx(te,{variant:"outline",size:"sm",onClick:()=>t("/invoices"),children:r.jsx(Bs,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:`grid gap-4 sm:gap-6 transition-all duration-300 ${h?"lg:grid-cols-2":"lg:grid-cols-1"}`,children:[r.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border)"},children:r.jsx("h2",{className:"text-base font-semibold",style:{color:"var(--foreground)"},children:"Customize Template"})}),r.jsx("div",{className:"p-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:r.jsx(T_,{selectedTemplate:e,templates:i,onTemplateSelect:b,onCustomize:w,onTemplateUpdate:B,currentInvoiceData:E})})]}),h&&r.jsxs("div",{className:"rounded-lg border overflow-hidden sticky top-4",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",height:"fit-content"},children:[r.jsxs("div",{className:"p-4 border-b flex items-center justify-between",style:{borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-base font-semibold",style:{color:"var(--foreground)"},children:"Preview"}),r.jsxs("div",{className:"flex items-center gap-1.5 text-xs px-2 py-0.5 rounded",style:{backgroundColor:"var(--accent)",color:"white"},children:[r.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-white animate-pulse"}),"Live"]})]}),n?r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"relative w-full overflow-auto bg-gray-50 dark:bg-gray-950 rounded",style:{maxHeight:"calc(100vh - 200px)"},children:r.jsx("div",{className:"flex justify-center items-start p-6",style:{minWidth:"fit-content"},children:r.jsx("div",{className:"shadow-lg rounded border bg-white",style:{transform:`scale(${p/100})`,transformOrigin:"top center",borderColor:"var(--border)",marginBottom:`${(100-p)*2}px`},children:r.jsx(T1,{data:E,template:n,brandLogos:[],className:""})})})})}):r.jsx("div",{className:"flex items-center justify-center h-96 p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Gb,{className:"h-12 w-12 mx-auto mb-2",style:{color:"var(--muted-foreground)"}}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Select a template to preview"})]})})]})]}),d&&r.jsx(It,{title:d.message,variant:d.type,onClose:()=>u(null),children:d.message})]})}function Y_(){const t=vt(),{formatCurrency:e,formatDate:s}=it(),{isOpen:n,options:o,confirm:i,handleConfirm:l,handleClose:d}=yo(),[u,h]=x.useState([]),[m,p]=x.useState([]),[v,b]=x.useState(!0),[w,B]=x.useState(null),[C,j]=x.useState(""),[S,D]=x.useState(""),[N,E]=x.useState(""),[k,T]=x.useState("createdAt"),[_,M]=x.useState("desc");x.useEffect(()=>{Z()},[]);const Z=async()=>{try{b(!0);const[z,oe]=await Promise.all([Er.getAllSales(),wr.getAllReturns()]);z.success&&z.data?h(z.data):B({message:"Failed to load sales",type:"error"}),oe.success&&oe.data&&p(oe.data)}catch(z){console.error("Failed to load sales:",z),B({message:"Failed to load sales",type:"error"})}finally{b(!1)}},P=z=>{i({title:"Delete Sale",message:"Are you sure you want to delete this sale? This action cannot be undone.",confirmText:"Delete",variant:"danger"},async()=>{try{const oe=await Er.deleteSale(z);oe.success?(B({message:"Sale deleted successfully",type:"success"}),Z()):B({message:oe.error||"Failed to delete sale",type:"error"})}catch(oe){console.error("Failed to delete sale:",oe),B({message:"Failed to delete sale",type:"error"})}})},H=z=>{t(`/sales/${z.id}`)},W=z=>{t(`/sales/${z.id}/edit`)},ne=x.useMemo(()=>{const oe=(u||[]).filter(U=>{const L=!C||U.id.toLowerCase().includes(C.toLowerCase())||U.customerName?.toLowerCase().includes(C.toLowerCase())||U.paymentMethod.toLowerCase().includes(C.toLowerCase()),F=!S||U.status===S,R=!N||U.paymentMethod===N;return L&&F&&R});return oe.sort((U,L)=>{let F=U[k]||"",R=L[k]||"";return k==="createdAt"&&(F=new Date(F),R=new Date(R)),typeof F=="string"&&typeof R=="string"&&(F=F.toLowerCase(),R=R.toLowerCase()),_==="asc"?F>R?1:-1:F<R?1:-1}),oe},[u,C,S,N,k,_]),ie=x.useMemo(()=>{const z=u||[],oe=m||[],U=z.reduce((V,X)=>V+X.total,0),F=oe.filter(V=>(V.status==="completed"||V.status==="approved")&&(V.refundMethod==="cash"||V.refundMethod==="original_payment")).reduce((V,X)=>V+X.refundAmount,0),R=U-F,O=z.length,$=z.filter(V=>V.status==="pending").length,re=z.filter(V=>V.status==="completed").length,he=oe.length;return{grossRevenue:U,returnAmount:F,netRevenue:R,totalSales:O,pendingSales:$,completedSales:re,totalReturns:he}},[u,m]),K=[{key:"id",label:"Sale ID",sortable:!0},{key:"customer",label:"Customer",sortable:!0},{key:"total",label:"Total",sortable:!0},{key:"status",label:"Status",sortable:!1},{key:"paymentMethod",label:"Payment",sortable:!1},{key:"createdAt",label:"Date",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],J=ne.map(z=>{const U=m.filter(L=>L.saleId===z.id).length>0;return{id:z.id.substring(0,8),customer:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:z.customerName||"Walk-in Customer"}),U&&r.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Returned"})]}),total:e(z.total),status:r.jsxs("div",{className:"flex items-center gap-2",children:[z.status==="completed"&&r.jsx(Gt,{className:"h-4 w-4 text-green-500"}),z.status==="pending"&&r.jsx(Xs,{className:"h-4 w-4 text-yellow-500"}),(z.status==="cancelled"||z.status==="refunded")&&r.jsx(Hn,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z.status==="completed"?"bg-green-100 text-green-800":z.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:z.status.charAt(0).toUpperCase()+z.status.slice(1)})]}),paymentMethod:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(et,{className:"h-4 w-4",style:{color:"var(--muted-foreground)"}}),r.jsx("span",{className:"capitalize",children:z.paymentMethod.replace("_"," ")})]}),createdAt:s(z.createdAt),actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>H(z),children:r.jsx(Ul,{className:"h-4 w-4"})}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>W(z),children:r.jsx(Qr,{className:"h-4 w-4"})}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>P(z.id),className:"text-red-600 hover:text-red-700",children:r.jsx(fs,{className:"h-4 w-4"})})]})}});return v?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading sales..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"Sales"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Manage your sales transactions and revenue"})]}),r.jsxs(te,{onClick:()=>t("/sales/new"),className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-4 w-4"}),"New Sale"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(je,{title:"Net Revenue",value:e(ie.netRevenue),icon:r.jsx(et,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Total Sales",value:ie.totalSales.toString(),icon:r.jsx(Gt,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Pending Sales",value:ie.pendingSales.toString(),icon:r.jsx(Xs,{style:{height:"24px",width:"24px",color:"#eab308"}})}),r.jsx(je,{title:"Returns",value:`${ie.totalReturns} (${e(ie.returnAmount)})`,icon:r.jsx(Hn,{style:{height:"24px",width:"24px",color:"#ef4444"}})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4",style:{color:"var(--muted-foreground)"}}),r.jsx(fe,{placeholder:"Search sales by ID, customer, or payment method...",value:C,onChange:z=>j(z.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:S,onChange:z=>D(z.target.value),className:"min-w-[120px] px-3 py-2 border rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"refunded",children:"Refunded"})]}),r.jsxs("select",{value:N,onChange:z=>E(z.target.value),className:"min-w-[140px] px-3 py-2 border rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:[r.jsx("option",{value:"",children:"All Payment"}),r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"card",children:"Card"}),r.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),r.jsx("option",{value:"other",children:"Other"})]}),r.jsxs("select",{value:k,onChange:z=>T(z.target.value),className:"min-w-[120px] px-3 py-2 border rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:[r.jsx("option",{value:"createdAt",children:"Sort by Date"}),r.jsx("option",{value:"total",children:"Sort by Total"}),r.jsx("option",{value:"customerName",children:"Sort by Customer"})]}),r.jsx(te,{variant:"outline",onClick:()=>M(_==="asc"?"desc":"asc"),className:"px-3",children:_==="asc"?"↑":"↓"})]})]}),r.jsx("div",{className:"flex items-center justify-between text-sm",style:{color:"var(--muted-foreground)"},children:r.jsxs("span",{children:["Showing ",ne.length," of ",(u||[]).length," sales",C&&` matching "${C}"`,S&&` with status "${S}"`,N&&` paid via "${N}"`]})}),r.jsx(Ws,{title:"Sales Transactions",columns:K,data:J,itemsPerPage:10,headerActions:r.jsxs("div",{className:"flex items-center gap-2",children:[C&&r.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:['"',C,'"']}),S&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:S}),N&&r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:N})]})}),r.jsx(bo,{isOpen:n,title:o.title,message:o.message,confirmText:o.confirmText,cancelText:o.cancelText,variant:o.variant,onConfirm:l,onClose:d}),w&&r.jsx(It,{title:w.message,variant:w.type,onClose:()=>B(null),children:w.message})]})}function X_(){const t=en(),e=vt(),{formatCurrency:s,formatDate:n}=it(),{isOpen:o,options:i,confirm:l,handleConfirm:d,handleClose:u}=yo(),h=t.id,[m,p]=x.useState(null),[v,b]=x.useState([]),[w,B]=x.useState([]),[C,j]=x.useState(!0),[S,D]=x.useState(null),[N,E]=x.useState(null),k=x.useCallback(async()=>{try{j(!0),D(null);const[ne,ie,K]=await Promise.all([Er.getSaleById(h),bs.getAllCustomers(),ds.getAllProducts()]);if(ne.success&&ne.data){const J={sale:ne.data};p(J)}else D("Sale not found");ie.success&&b(ie.data||[]),K.success&&B(K.data||[])}catch(ne){console.error("Failed to load sale details:",ne),D("Failed to load sale details")}finally{j(!1)}},[h]);x.useEffect(()=>{h&&k()},[h,k]);const T=()=>{if(!m?.sale)return;const ne=m.sale,ie=ne.customerId?v.find(z=>z.id===ne.customerId):null,K={customer:{id:ne.customerId,name:ne.customerName||ie?.name||"Walk-in Customer",email:ie?.email||"",phone:ie?.phone||"",address:ie?.address||"",city:ie?.company||"",state:"",zip:""},invoiceNumber:`INV-${ne.id.substring(0,8).toUpperCase()}`,date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],items:ne.items.map((z,oe)=>{const U=w.find(L=>L.id===z.productId);return{id:`item-${oe}`,description:U?.name||`Product ${z.productId}`,quantity:z.quantity,rate:z.unitPrice,amount:z.total}}),taxRate:ne.tax>0?ne.tax/ne.subtotal*100:0,discount:ne.discount,notes:ne.notes||"",terms:"Payment due within 30 days of invoice date."},J=new URLSearchParams({fromSale:h,data:encodeURIComponent(JSON.stringify(K))});e(`/invoices/new?${J.toString()}`)},_=()=>{m?.sale&&l({title:"Delete Sale",message:"Are you sure you want to delete this sale? This action cannot be undone.",confirmText:"Delete",variant:"danger"},async()=>{try{const ne=await Er.deleteSale(h);ne.success?(E({message:"Sale deleted successfully",type:"success"}),setTimeout(()=>{e("/sales")},1e3)):E({message:ne.error||"Failed to delete sale",type:"error"})}catch(ne){console.error("Failed to delete sale:",ne),E({message:"Failed to delete sale",type:"error"})}})},M=ne=>{switch(ne){case"completed":return r.jsx(Gt,{className:"h-5 w-5 text-green-500"});case"pending":return r.jsx(Xs,{className:"h-5 w-5 text-yellow-500"});case"cancelled":case"refunded":return r.jsx(Hn,{className:"h-5 w-5 text-red-500"});default:return r.jsx(Xs,{className:"h-5 w-5 text-gray-500"})}},Z=ne=>{switch(ne){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"cancelled":case"refunded":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};if(C)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading sale details..."})]})});if(S||!m)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-center",children:r.jsx(Cr,{variant:"error",title:"Error",children:S||"Sale not found"})})});const{sale:P}=m,H=[{key:"product",label:"Product"},{key:"quantity",label:"Quantity"},{key:"unitPrice",label:"Unit Price"},{key:"total",label:"Total"}],W=P.items.map(ne=>({product:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",style:{color:"var(--foreground)"},children:ne.productName}),r.jsxs("div",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:["ID: ",ne.productId.substring(0,8)]})]}),quantity:r.jsx("span",{className:"text-sm font-medium",children:ne.quantity}),unitPrice:r.jsx("span",{className:"text-sm",children:s(ne.unitPrice)}),total:r.jsx("span",{className:"text-sm font-semibold",children:s(ne.total)})}));return r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(te,{variant:"ghost",onClick:()=>e("/sales"),className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4"}),"Back to Sales"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[P.invoiceId?r.jsxs(te,{variant:"outline",onClick:()=>e(`/invoices/${P.invoiceId}`),className:"flex items-center gap-2",style:{borderColor:"var(--accent)",color:"var(--accent)"},children:[r.jsx(Sr,{className:"h-4 w-4"}),"View Invoice"]}):r.jsxs(te,{variant:"default",onClick:T,className:"flex items-center gap-2",children:[r.jsx(Sr,{className:"h-4 w-4"}),"Create Invoice"]}),r.jsxs(te,{variant:"outline",onClick:()=>e(`/sales/${P.id}/edit`),className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-4 w-4"}),"Edit"]}),r.jsxs(te,{variant:"outline",onClick:_,className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[r.jsx(fs,{className:"h-4 w-4"}),"Delete"]})]})]}),r.jsxs("div",{className:"relative overflow-hidden rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 via-blue-500/10 to-purple-500/10"}),r.jsx("div",{className:"relative p-8",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center text-white border-4",style:{borderColor:"var(--background)"},children:r.jsx(et,{className:"h-12 w-12"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--foreground)"},children:["Sale #",P.id.substring(0,8).toUpperCase()]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",style:{color:"var(--muted-foreground)"},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[M(P.status),r.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${Z(P.status)}`,children:P.status.charAt(0).toUpperCase()+P.status.slice(1)})]}),r.jsx("span",{children:"•"}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(et,{className:"h-4 w-4"}),r.jsx("span",{className:"capitalize",children:P.paymentMethod.replace("_"," ")})]}),r.jsx("span",{children:"•"}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Da,{className:"h-4 w-4"}),P.customerName||"Walk-in Customer"]}),r.jsx("span",{children:"•"}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Xs,{className:"h-4 w-4"}),n(P.createdAt)]})]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(je,{title:"Subtotal",value:s(P.subtotal),icon:r.jsx(et,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Tax",value:s(P.tax),icon:r.jsx(Xd,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Discount",value:s(P.discount),icon:r.jsx(Xd,{className:"h-6 w-6",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Total",value:s(P.total),icon:r.jsx(et,{className:"h-6 w-6",style:{color:"var(--accent)"}})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--foreground)"},children:[r.jsx(Da,{className:"h-5 w-5",style:{color:"var(--accent)"}}),"Customer Information"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Customer Name"}),r.jsx("p",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:P.customerName||"Walk-in Customer"})]}),P.customerId&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Customer ID"}),r.jsxs("p",{className:"text-sm",style:{color:"var(--foreground)"},children:[P.customerId.substring(0,16),"..."]})]}),r.jsx(te,{variant:"outline",size:"sm",onClick:()=>e(`/customers/${P.customerId}`),className:"w-full mt-2",children:"View Customer Profile"})]})]})]}),r.jsxs("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--foreground)"},children:[r.jsx(et,{className:"h-5 w-5",style:{color:"var(--accent)"}}),"Financial Summary"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between py-2 border-b",style:{borderColor:"var(--border)"},children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(P.subtotal)})]}),P.discount>0&&r.jsxs("div",{className:"flex justify-between py-2 border-b",style:{borderColor:"var(--border)"},children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Discount"}),r.jsxs("span",{className:"font-semibold text-green-600",children:["-",s(P.discount)]})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",style:{borderColor:"var(--border)"},children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(P.tax)})]}),r.jsxs("div",{className:"flex justify-between py-3",children:[r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:"Total"}),r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--accent)"},children:s(P.total)})]})]})]}),r.jsxs("div",{className:"p-6 rounded-xl border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--foreground)"},children:[r.jsx(Sr,{className:"h-5 w-5",style:{color:"var(--accent)"}}),"Additional Details"]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Payment Method"}),r.jsx("span",{style:{color:"var(--foreground)"},className:"capitalize font-medium",children:P.paymentMethod.replace("_"," ")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Created"}),r.jsx("span",{style:{color:"var(--foreground)"},children:n(P.createdAt)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Last Updated"}),r.jsx("span",{style:{color:"var(--foreground)"},children:n(P.updatedAt)})]}),P.invoiceId&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Invoice"}),r.jsx("button",{onClick:()=>e(`/invoices/${P.invoiceId}`),className:"hover:underline font-medium",style:{color:"var(--accent)"},children:P.invoiceNumber||`INV-${P.invoiceId.substring(0,8)}`})]})]}),P.notes&&r.jsxs("div",{className:"mt-4 pt-4 border-t",style:{borderColor:"var(--border)"},children:[r.jsx("p",{className:"text-xs font-medium mb-2",style:{color:"var(--muted-foreground)"},children:"Notes"}),r.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--foreground)"},children:P.notes})]})]})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx(Ws,{title:`Sale Items (${P.items.length})`,columns:H,data:W,itemsPerPage:10})})]}),r.jsx(bo,{isOpen:o,title:i.title,message:i.message,confirmText:i.confirmText,cancelText:i.cancelText,variant:i.variant,onConfirm:d,onClose:u}),N&&r.jsx(It,{title:N.message,variant:N.type,onClose:()=>E(null),children:N.message})]})}function $_(){const t=en(),e=vt(),{formatCurrency:s}=it(),n=t.id,[o,i]=x.useState([]),[l,d]=x.useState([]),[u,h]=x.useState(null),[m,p]=x.useState(""),[v,b]=x.useState([]),[w,B]=x.useState(""),[C,j]=x.useState("cash"),[S,D]=x.useState("completed"),[N,E]=x.useState(!0),[k,T]=x.useState(!1),[_,M]=x.useState(null),[Z,P]=x.useState(""),[H,W]=x.useState(""),[ne,ie]=x.useState(1),[K,J]=x.useState(null),z=x.useCallback(async()=>{try{E(!0);const[q,ce,pe]=await Promise.all([bs.getAllCustomers(),ds.getAllProducts(),Er.getSaleById(n)]);if(q.success&&i(q.data||[]),ce.success&&d(ce.data||[]),pe.success&&pe.data){const Ne=pe.data;h(Ne),p(Ne.customerId||""),b(Ne.items||[]),B(Ne.notes||""),j(Ne.paymentMethod),D(Ne.status)}else M({message:"Sale not found",type:"error"}),setTimeout(()=>e("/sales"),2e3)}catch(q){console.error("Failed to load data:",q),M({message:"Failed to load sale data",type:"error"})}finally{E(!1)}},[n,e]);x.useEffect(()=>{z()},[z]);const oe=x.useMemo(()=>Z?l.filter(q=>q.name.toLowerCase().includes(Z.toLowerCase())||q.description?.toLowerCase().includes(Z.toLowerCase())||q.sku?.toLowerCase().includes(Z.toLowerCase())):l,[l,Z]),U=l.find(q=>q.id===H),L=()=>{if(!U||ne<=0){M({message:"Please select a product and enter a valid quantity",type:"error"});return}const q=v||[],ce=q.findIndex(pe=>pe.productId===H);if(ce>=0){const pe=[...q];pe[ce].quantity+=ne,pe[ce].total=pe[ce].quantity*pe[ce].unitPrice,b(pe)}else{const pe=K!==null?K:U.price,Ne={productId:U.id,productName:U.name,quantity:ne,unitPrice:pe,total:ne*pe};b([...q,Ne])}W(""),ie(1),J(null),P("")},F=(q,ce,pe)=>{const Ne=[...v];Ne[q]={...Ne[q],[ce]:pe},(ce==="quantity"||ce==="unitPrice")&&(Ne[q].total=Ne[q].quantity*Ne[q].unitPrice),b(Ne)},R=q=>{b((v||[]).filter((pe,Ne)=>Ne!==q))},O=()=>{const ce=(v||[]).reduce((at,Nt)=>at+Nt.total,0),pe=ce*.15,Ne=ce+pe;return{subtotal:ce,tax:pe,total:Ne}},$=()=>{O();const q=o.find(pe=>pe.id===m),ce=new Date;return{receiptNumber:`RCP-${Date.now().toString().slice(-6)}`,date:ce.toISOString().split("T")[0],time:ce.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),company:{name:"TopNotch Electronics",address:"Pultney Street",city:"Freetown",state:"Western Area Urban, BO etc",zip:"94105",phone:"+232 74 123-4567",email:"info@topnotch.com",logo:"/images/topnotch-logo-dark.png"},customer:{name:q?.name||"Walk-in Customer",email:q?.email||"",phone:q?.phone||""},items:v.map(pe=>({id:pe.productId,description:pe.productName,quantity:pe.quantity,rate:pe.unitPrice,amount:pe.total})),paymentMethod:C.charAt(0).toUpperCase()+C.slice(1).replace("_"," "),taxRate:15,discount:0}},re=()=>{if(v.length===0){M({message:"Please add at least one item to print receipt",type:"error"});return}const q=window.open("","_blank","width=400,height=600");if(q){const ce=$();q.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Receipt Print</title>
          <style>
            body { margin: 0; padding: 20px; font-family: monospace; }
            .receipt { max-width: 300px; margin: 0 auto; }
            .header { text-align: center; margin-bottom: 20px; }
            .company-name { font-size: 18px; font-weight: bold; margin-bottom: 10px; }
            .company-details { font-size: 12px; line-height: 1.4; }
            .receipt-title { text-align: center; font-size: 16px; font-weight: bold; margin: 20px 0; }
            .receipt-info { text-align: center; font-size: 12px; margin-bottom: 20px; }
            .customer-section { margin-bottom: 20px; }
            .customer-title { font-size: 12px; font-weight: bold; margin-bottom: 5px; }
            .customer-details { font-size: 12px; }
            .items-section { margin-bottom: 20px; }
            .item-header { display: flex; justify-content: space-between; font-size: 12px; font-weight: bold; border-bottom: 1px solid #000; padding-bottom: 5px; margin-bottom: 10px; }
            .item { margin-bottom: 10px; font-size: 12px; }
            .item-description { margin-bottom: 3px; }
            .item-details { font-size: 10px; color: #666; }
            .totals { margin-bottom: 20px; }
            .total-line { display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 3px; }
            .total-final { font-size: 14px; font-weight: bold; border-top: 1px solid #000; padding-top: 5px; }
            .payment-method { display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 20px; }
            .footer { text-align: center; font-size: 10px; line-height: 1.4; }
            @media print { body { margin: 0; padding: 10px; } }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <div class="company-name">${ce.company.name}</div>
              <div class="company-details">
                ${ce.company.address}<br>
                ${ce.company.city}, ${ce.company.state} ${ce.company.zip}<br>
                ${ce.company.phone}
              </div>
            </div>
            
            <div class="receipt-title">RECEIPT</div>
            
            <div class="receipt-info">
              <div><strong>Receipt #:</strong> ${ce.receiptNumber}</div>
              <div><strong>Date:</strong> ${ce.date}</div>
              <div><strong>Time:</strong> ${ce.time}</div>
            </div>
            
            <div class="customer-section">
              <div class="customer-title">Customer:</div>
              <div class="customer-details">
                ${ce.customer.name}<br>
                ${ce.customer.email?ce.customer.email+"<br>":""}
                ${ce.customer.phone||""}
              </div>
            </div>
            
            <div class="items-section">
              <div class="item-header">
                <span>Item</span>
                <span>Total</span>
              </div>
              ${ce.items.map(pe=>`
                <div class="item">
                  <div class="item-description">${pe.description}</div>
                  <div class="item-details">${pe.quantity} × ${s(pe.rate)}</div>
                </div>
                <div style="text-align: right; font-weight: bold;">${s(pe.amount)}</div>
              `).join("")}
            </div>
            
            <div class="totals">
              <div class="total-line">
                <span>Subtotal:</span>
                <span>${s(ce.items.reduce((pe,Ne)=>pe+Ne.amount,0))}</span>
              </div>
              <div class="total-line">
                <span>Tax (15%):</span>
                <span>${s(X)}</span>
              </div>
              <div class="total-line total-final">
                <span>Total:</span>
                <span>${s(G)}</span>
              </div>
            </div>
            
            <div class="payment-method">
              <span>Payment Method:</span>
              <span>${ce.paymentMethod}</span>
            </div>
            
            <div class="footer">
              <div>Thank you for your business!</div>
              <div>Keep this receipt for your records</div>
              <div>Questions? Contact us at ${ce.company.email}</div>
            </div>
          </div>
        </body>
        </html>
      `),q.document.close(),q.focus(),setTimeout(()=>{q.print()},500)}},he=async q=>{q.preventDefault();const ce=v||[];if(ce.length===0){M({message:"Please add at least one item to the sale",type:"error"});return}T(!0);try{const{subtotal:pe,tax:Ne,total:at}=O(),Nt=o.find(Rt=>Rt.id===m),ke={customerId:m||void 0,customerName:Nt?.name||"Walk-in Customer",items:ce,subtotal:pe,tax:Ne,discount:u?.discount||0,total:at,status:S,paymentMethod:C,notes:w||void 0},Ie=await Er.updateSale(n,ke);if(Ie.success)M({message:"Sale updated successfully!",type:"success"}),setTimeout(()=>{e(`/sales/${n}`)},1e3);else if(Ie.error==="Stock validation failed"&&Ie.details){const hs=Ie.details.join(`
`);M({message:hs,type:"error"})}else M({message:Ie.error||"Failed to update sale",type:"error"})}catch(pe){console.error("Error updating sale:",pe),M({message:"Failed to update sale",type:"error"})}finally{T(!1)}},{subtotal:V,tax:X,total:G}=O();return N?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading sale data..."})]})}):u?r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:["Edit Sale #",u.id.substring(0,8)]}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Modify sale details and items"})]}),r.jsxs(te,{variant:"outline",onClick:()=>e(`/sales/${n}`),className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4"}),"Back to Sale"]})]}),r.jsx("form",{onSubmit:he,className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Da,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Customer"})]}),r.jsx(Fe,{value:m,onChange:q=>p(q.target.value),placeholder:"Select customer (optional)",options:[{value:"",label:"Walk-in Customer"},...o.map(q=>({value:q.id,label:`${q.name}${q.email?` (${q.email})`:""}`}))]}),m?r.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:["Customer selected: ",o.find(q=>q.id===m)?.name]})}):r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-600",children:"Walk-in Customer - No customer account required"})})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Sale Status"}),r.jsx(Fe,{value:S,onChange:q=>D(q.target.value),options:[{value:"pending",label:"Pending"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"},{value:"refunded",label:"Refunded"}]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(In,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Add Products"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4",style:{color:"var(--muted-foreground)"}}),r.jsx(fe,{placeholder:"Search products...",value:Z,onChange:q=>P(q.target.value),className:"pl-10"})]}),r.jsx(Fe,{value:H,onChange:q=>W(q.target.value),placeholder:"Select a product",options:oe.map(q=>({value:q.id,label:`${q.name} - ${s(q.price)}${q.stock!==void 0?` (Stock: ${q.stock})`:""}`}))}),U&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--foreground)"},children:"Quantity"}),r.jsx(fe,{type:"number",value:ne,onChange:q=>ie(parseInt(q.target.value)||1),min:"1",placeholder:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--foreground)"},children:"Unit Price (optional)"}),r.jsx(fe,{type:"number",value:K||"",onChange:q=>J(q.target.value?parseFloat(q.target.value):null),step:"0.01",placeholder:`Default: ${s(U.price)}`})]})]}),r.jsxs(te,{type:"button",onClick:L,disabled:!U,className:"w-full flex items-center justify-center gap-2",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Add to Sale"]})]})]}),(v||[]).length>0&&r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:["Sale Items (",(v||[]).length,")"]}),r.jsx("div",{className:"space-y-3",children:(v||[]).map((q,ce)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg",style:{borderColor:"var(--border)"},children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:q.productName}),r.jsxs("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:["ID: ",q.productId.substring(0,8)]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Quantity"}),r.jsx(fe,{type:"number",value:q.quantity,onChange:pe=>F(ce,"quantity",parseInt(pe.target.value)||0),min:"1",className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Unit Price"}),r.jsx(fe,{type:"number",value:q.unitPrice,onChange:pe=>F(ce,"unitPrice",parseFloat(pe.target.value)||0),step:"0.01",className:"text-sm"})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Total"}),r.jsx("p",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(q.total)})]}),r.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>R(ce),className:"text-red-600 hover:text-red-700",children:r.jsx(fs,{className:"h-4 w-4"})})]})]},ce))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(et,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Payment"})]}),r.jsx(Fe,{value:C,onChange:q=>j(q.target.value),options:[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"bank_transfer",label:"Bank Transfer"},{value:"other",label:"Other"}]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Xd,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Totals"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(V)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax (15%):"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(X)})]}),r.jsx("div",{className:"border-t pt-3",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:"Total:"}),r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--foreground)"},children:s(G)})]})})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Notes"}),r.jsx(as,{value:w,onChange:q=>B(q.target.value),placeholder:"Add any notes about this sale...",rows:4})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs(te,{type:"button",variant:"outline",onClick:re,disabled:(v||[]).length===0,className:"w-full",children:[r.jsx(jA,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),r.jsx(te,{type:"button",variant:"outline",onClick:()=>e(`/sales/${n}`),className:"w-full",children:"Cancel"}),r.jsx(te,{type:"submit",disabled:k||(v||[]).length===0,className:"w-full",children:k?"Updating Sale...":"Update Sale"})]})]})]})}),_&&r.jsx(It,{title:_.message,variant:_.type,onClose:()=>M(null),children:_.message})]}):r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-muted-foreground",children:"Sale not found"})})})}function W_(){const t=vt(),{formatCurrency:e}=it(),[s,n]=x.useState([]),[o,i]=x.useState([]),[l,d]=x.useState(""),[u,h]=x.useState([]),[m,p]=x.useState(""),[v,b]=x.useState("cash"),[w,B]=x.useState(!1),[C,j]=x.useState(null),[S,D]=x.useState(""),[N,E]=x.useState(""),[k,T]=x.useState(1),[_,M]=x.useState(null);x.useEffect(()=>{Z()},[]);const Z=async()=>{try{const[R,O]=await Promise.all([bs.getAllCustomers(),ds.getAllProducts()]);R.success&&n(R.data||[]),O.success&&i(O.data||[])}catch(R){console.error("Failed to load data:",R),j({message:"Failed to load data",type:"error"})}},P=x.useMemo(()=>S?o.filter(R=>R.name.toLowerCase().includes(S.toLowerCase())||R.description?.toLowerCase().includes(S.toLowerCase())||R.sku?.toLowerCase().includes(S.toLowerCase())):o,[o,S]),H=o.find(R=>R.id===N),W=()=>{if(!H||k<=0){j({message:"Please select a product and enter a valid quantity",type:"error"});return}const R=u||[],O=R.findIndex($=>$.productId===N);if(O>=0){const $=[...R];$[O].quantity+=k,$[O].total=$[O].quantity*$[O].unitPrice,h($)}else{const $=_!==null?_:H.price,re={productId:H.id,productName:H.name,quantity:k,unitPrice:$,total:k*$};h([...R,re])}E(""),T(1),M(null),D("")},ne=(R,O,$)=>{const re=[...u];re[R]={...re[R],[O]:$},(O==="quantity"||O==="unitPrice")&&(re[R].total=re[R].quantity*re[R].unitPrice),h(re)},ie=R=>{h((u||[]).filter(($,re)=>re!==R))},K=()=>{const O=(u||[]).reduce((he,V)=>he+V.total,0),$=O*.15,re=O+$;return{subtotal:O,tax:$,total:re}},J=()=>{K();const R=s.find($=>$.id===l),O=new Date;return{receiptNumber:`RCP-${Date.now().toString().slice(-6)}`,date:O.toISOString().split("T")[0],time:O.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),company:{name:"TopNotch Electronics",address:"Pultney Street",city:"Freetown",state:"Western Area Urban, BO etc",zip:"94105",phone:"+232 74 123-4567",email:"info@topnotch.com",logo:"/images/topnotch-logo-dark.png"},customer:{name:R?.name||"Walk-in Customer",email:R?.email||"",phone:R?.phone||""},items:u.map($=>({id:$.productId,description:$.productName,quantity:$.quantity,rate:$.unitPrice,amount:$.total})),paymentMethod:v.charAt(0).toUpperCase()+v.slice(1).replace("_"," "),taxRate:15,discount:0}},z=()=>{if(u.length===0){j({message:"Please add at least one item to print receipt",type:"error"});return}const R=window.open("","_blank","width=400,height=600");if(R){const O=J();R.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Receipt Print</title>
          <style>
            body { margin: 0; padding: 20px; font-family: monospace; }
            .receipt { max-width: 300px; margin: 0 auto; }
            .header { text-align: center; margin-bottom: 20px; }
            .company-name { font-size: 18px; font-weight: bold; margin-bottom: 10px; }
            .company-details { font-size: 12px; line-height: 1.4; }
            .receipt-title { text-align: center; font-size: 16px; font-weight: bold; margin: 20px 0; }
            .receipt-info { text-align: center; font-size: 12px; margin-bottom: 20px; }
            .customer-section { margin-bottom: 20px; }
            .customer-title { font-size: 12px; font-weight: bold; margin-bottom: 5px; }
            .customer-details { font-size: 12px; }
            .items-section { margin-bottom: 20px; }
            .item-header { display: flex; justify-content: space-between; font-size: 12px; font-weight: bold; border-bottom: 1px solid #000; padding-bottom: 5px; margin-bottom: 10px; }
            .item { margin-bottom: 10px; font-size: 12px; }
            .item-description { margin-bottom: 3px; }
            .item-details { font-size: 10px; color: #666; }
            .totals { margin-bottom: 20px; }
            .total-line { display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 3px; }
            .total-final { font-size: 14px; font-weight: bold; border-top: 1px solid #000; padding-top: 5px; }
            .payment-method { display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 20px; }
            .footer { text-align: center; font-size: 10px; line-height: 1.4; }
            @media print { body { margin: 0; padding: 10px; } }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <div class="company-name">${O.company.name}</div>
              <div class="company-details">
                ${O.company.address}<br>
                ${O.company.city}, ${O.company.state} ${O.company.zip}<br>
                ${O.company.phone}
              </div>
            </div>
            
            <div class="receipt-title">RECEIPT</div>
            
            <div class="receipt-info">
              <div><strong>Receipt #:</strong> ${O.receiptNumber}</div>
              <div><strong>Date:</strong> ${O.date}</div>
              <div><strong>Time:</strong> ${O.time}</div>
            </div>
            
            <div class="customer-section">
              <div class="customer-title">Customer:</div>
              <div class="customer-details">
                ${O.customer.name}<br>
                ${O.customer.email?O.customer.email+"<br>":""}
                ${O.customer.phone||""}
              </div>
            </div>
            
            <div class="items-section">
              <div class="item-header">
                <span>Item</span>
                <span>Total</span>
              </div>
              ${O.items.map($=>`
                <div class="item">
                  <div class="item-description">${$.description}</div>
                  <div class="item-details">${$.quantity} × ${e($.rate)}</div>
                </div>
                <div style="text-align: right; font-weight: bold;">${e($.amount)}</div>
              `).join("")}
            </div>
            
            <div class="totals">
              <div class="total-line">
                <span>Subtotal:</span>
                <span>${e(O.items.reduce(($,re)=>$+re.amount,0))}</span>
              </div>
              <div class="total-line">
                <span>Tax (15%):</span>
                <span>${e(L)}</span>
              </div>
              <div class="total-line total-final">
                <span>Total:</span>
                <span>${e(F)}</span>
              </div>
            </div>
            
            <div class="payment-method">
              <span>Payment Method:</span>
              <span>${O.paymentMethod}</span>
            </div>
            
            <div class="footer">
              <div>Thank you for your business!</div>
              <div>Keep this receipt for your records</div>
              <div>Questions? Contact us at ${O.company.email}</div>
            </div>
          </div>
        </body>
        </html>
      `),R.document.close(),R.focus(),setTimeout(()=>{R.print()},500)}},oe=async R=>{if(R.preventDefault(),(u||[]).length===0){j({message:"Please add at least one item to the sale",type:"error"});return}B(!0);try{const{subtotal:$,tax:re,total:he}=K(),V=s.find(q=>q.id===l),X={customerId:l||void 0,customerName:V?.name||"Walk-in Customer",items:u,subtotal:$,tax:re,discount:0,total:he,status:"completed",paymentMethod:v,notes:m||void 0},G=await Er.createSale(X);if(G.success)j({message:"Sale created successfully!",type:"success"}),setTimeout(()=>{t("/sales")},1e3);else if(G.error==="Stock validation failed"&&G.details){const ce=G.details.join(`
`);j({message:ce,type:"error"})}else j({message:G.error||"Failed to create sale",type:"error"})}catch($){console.error("Error creating sale:",$),j({message:"Failed to create sale",type:"error"})}finally{B(!1)}},{subtotal:U,tax:L,total:F}=K();return r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:"New Sale"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Create a new sales transaction"})]}),r.jsxs(te,{variant:"outline",onClick:()=>t("/sales"),className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4"}),"Back to Sales"]})]}),r.jsx("form",{onSubmit:oe,className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Da,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Customer"})]}),r.jsx(Fe,{value:l,onChange:R=>d(R.target.value),placeholder:"Select customer (optional)",options:[{value:"",label:"Walk-in Customer"},...s.map(R=>({value:R.id,label:`${R.name}${R.email?` (${R.email})`:""}`}))]}),l?r.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:["Customer selected: ",s.find(R=>R.id===l)?.name]})}):r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-600",children:"Walk-in Customer - No customer account required"})})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(In,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Add Products"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4",style:{color:"var(--muted-foreground)"}}),r.jsx(fe,{placeholder:"Search products...",value:S,onChange:R=>D(R.target.value),className:"pl-10"})]}),r.jsx(Fe,{value:N,onChange:R=>E(R.target.value),placeholder:"Select a product",options:P.map(R=>({value:R.id,label:`${R.name} - ${e(R.price)}${R.stock!==void 0?` (Stock: ${R.stock})`:""}`}))}),H&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--foreground)"},children:"Quantity"}),r.jsx(fe,{type:"number",value:k,onChange:R=>T(parseInt(R.target.value)||1),min:"1",placeholder:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--foreground)"},children:"Unit Price (optional)"}),r.jsx(fe,{type:"number",value:_||"",onChange:R=>M(R.target.value?parseFloat(R.target.value):null),step:"0.01",placeholder:`Default: ${e(H.price)}`})]})]}),r.jsxs(te,{type:"button",onClick:W,disabled:!H,className:"w-full flex items-center justify-center gap-2",children:[r.jsx(Ts,{className:"h-4 w-4"}),"Add to Sale"]})]})]}),(u||[]).length>0&&r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:["Sale Items (",(u||[]).length,")"]}),r.jsx("div",{className:"space-y-3",children:(u||[]).map((R,O)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg",style:{borderColor:"var(--border)"},children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:R.productName}),r.jsxs("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:["ID: ",R.productId.substring(0,8)]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Quantity"}),r.jsx(fe,{type:"number",value:R.quantity,onChange:$=>ne(O,"quantity",parseInt($.target.value)||0),min:"1",className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Unit Price"}),r.jsx(fe,{type:"number",value:R.unitPrice,onChange:$=>ne(O,"unitPrice",parseFloat($.target.value)||0),step:"0.01",className:"text-sm"})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Total"}),r.jsx("p",{className:"font-semibold",style:{color:"var(--foreground)"},children:e(R.total)})]}),r.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>ie(O),className:"text-red-600 hover:text-red-700",children:r.jsx(fs,{className:"h-4 w-4"})})]})]},O))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(et,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Payment"})]}),r.jsx(Fe,{value:v,onChange:R=>b(R.target.value),options:[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"bank_transfer",label:"Bank Transfer"},{value:"other",label:"Other"}]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Xd,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Totals"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:e(U)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax (15%):"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:e(L)})]}),r.jsx("div",{className:"border-t pt-3",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:"Total:"}),r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--foreground)"},children:e(F)})]})})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Notes"}),r.jsx(as,{value:m,onChange:R=>p(R.target.value),placeholder:"Add any notes about this sale...",rows:4})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs(te,{type:"button",variant:"outline",onClick:z,disabled:(u||[]).length===0,className:"w-full",children:[r.jsx(jA,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),r.jsx(te,{type:"button",variant:"outline",onClick:()=>t("/sales"),className:"w-full",children:"Cancel"}),r.jsx(te,{type:"submit",disabled:w||(u||[]).length===0,className:"w-full",children:w?"Creating Sale...":"Create Sale"})]})]})]})}),C&&r.jsx(It,{title:C.message,variant:C.type,onClose:()=>j(null),children:C.message})]})}function q_(){const t=vt(),{formatCurrency:e,formatDate:s}=it(),[n,o]=x.useState([]),[i,l]=x.useState(!0),[d,u]=x.useState(""),[h,m]=x.useState("all"),[p,v]=x.useState("all"),[b,w]=x.useState("date"),[B,C]=x.useState(null);x.useEffect(()=>{j()},[]);const j=async()=>{l(!0);try{const M=await Qa.getAllOrders();M.success&&M.data?o(M.data):C({message:M.error||"Failed to load orders",type:"error"})}catch(M){console.error("Error loading orders:",M),C({message:"Failed to load orders",type:"error"})}finally{l(!1)}},S=async M=>{if(confirm("Are you sure you want to delete this order?"))try{const Z=await Qa.deleteOrder(M);Z.success?(C({message:"Order deleted successfully",type:"success"}),j()):C({message:Z.error||"Failed to delete order",type:"error"})}catch(Z){console.error("Error deleting order:",Z),C({message:"Failed to delete order",type:"error"})}},D=x.useMemo(()=>{const Z=(n||[]).filter(P=>{const H=P.orderNumber.toLowerCase().includes(d.toLowerCase())||P.supplierName.toLowerCase().includes(d.toLowerCase())||P.notes?.toLowerCase().includes(d.toLowerCase()),W=h==="all"||P.status===h,ne=p==="all"||P.paymentStatus===p;return H&&W&&ne});return Z.sort((P,H)=>{switch(b){case"total":return H.total-P.total;case"supplier":return P.supplierName.localeCompare(H.supplierName);case"date":default:return new Date(H.createdAt).getTime()-new Date(P.createdAt).getTime()}}),Z},[n,d,h,p,b]),N=x.useMemo(()=>{const M=n||[];return{total:M.length,pending:M.filter(Z=>Z.status==="pending").length,confirmed:M.filter(Z=>Z.status==="confirmed").length,delivered:M.filter(Z=>Z.status==="delivered").length,totalValue:M.reduce((Z,P)=>Z+P.total,0),unpaid:M.filter(Z=>Z.paymentStatus==="unpaid").length}},[n]),E=M=>{switch(M){case"pending":return{backgroundColor:"#fef3c7",color:"#92400e"};case"confirmed":return{backgroundColor:"#dbeafe",color:"#1e40af"};case"shipped":return{backgroundColor:"#f3e8ff",color:"#6b21a8"};case"delivered":return{backgroundColor:"#dcfce7",color:"#166534"};case"cancelled":return{backgroundColor:"#fee2e2",color:"#991b1b"};default:return{backgroundColor:"#f3f4f6",color:"#374151"}}},k=M=>{switch(M){case"paid":return{backgroundColor:"#dcfce7",color:"#166534"};case"partial":return{backgroundColor:"#fef3c7",color:"#92400e"};case"unpaid":return{backgroundColor:"#fee2e2",color:"#991b1b"};default:return{backgroundColor:"#f3f4f6",color:"#374151"}}},T=[{key:"orderNumber",label:"Order #",sortable:!0},{key:"supplier",label:"Supplier",sortable:!0},{key:"total",label:"Total",sortable:!0},{key:"status",label:"Status",sortable:!1},{key:"paymentStatus",label:"Payment",sortable:!1},{key:"deliveryDate",label:"Delivery Date",sortable:!1},{key:"actions",label:"Actions",sortable:!1}],_=D.map(M=>({id:M.id,orderNumber:M.orderNumber,supplier:M.supplierName,total:e(M.total),status:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:E(M.status),children:M.status.charAt(0).toUpperCase()+M.status.slice(1)}),paymentStatus:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:k(M.paymentStatus),children:M.paymentStatus.charAt(0).toUpperCase()+M.paymentStatus.slice(1)}),deliveryDate:M.expectedDeliveryDate?s(M.expectedDeliveryDate):"-",actions:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(te,{size:"sm",variant:"outline",onClick:()=>t(`/orders/${M.id}`),children:"View"}),r.jsx(te,{size:"sm",variant:"outline",onClick:()=>S(M.id),children:"Delete"})]})}));return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:"Orders"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage purchase orders and inventory restocking"})]}),r.jsxs(te,{onClick:()=>t("/orders/new"),children:[r.jsx(Ts,{className:"h-5 w-5 mr-2"}),"New Order"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(je,{title:"Total Orders",value:N.total,icon:r.jsx(lF,{className:"h-8 w-8",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Pending",value:N.pending,icon:r.jsx(Xs,{className:"h-8 w-8 text-yellow-500"})}),r.jsx(je,{title:"Delivered",value:N.delivered,icon:r.jsx(Gt,{className:"h-8 w-8 text-green-500"})}),r.jsx(je,{title:"Total Value",value:e(N.totalValue),icon:r.jsx(et,{className:"h-8 w-8",style:{color:"var(--accent)"}})})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(fe,{type:"text",placeholder:"Search by order number, supplier, or notes...",value:d,onChange:M=>u(M.target.value),className:"pl-10"})]})}),r.jsx(Fe,{value:h,onChange:M=>m(M.target.value),options:[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]}),r.jsx(Fe,{value:p,onChange:M=>v(M.target.value),options:[{value:"all",label:"All Payments"},{value:"unpaid",label:"Unpaid"},{value:"partial",label:"Partial"},{value:"paid",label:"Paid"}]}),r.jsx(Fe,{value:b,onChange:M=>w(M.target.value),options:[{value:"date",label:"Sort by Date"},{value:"total",label:"Sort by Total"},{value:"supplier",label:"Sort by Supplier"}]})]}),r.jsx(Ws,{title:"Orders List",columns:T,data:_,itemsPerPage:10}),B&&r.jsx(It,{title:B.message,variant:B.type,onClose:()=>C(null),children:B.message})]})}function Z_(){const t=en(),e=vt(),{formatCurrency:s,formatDate:n}=it(),o=t.id,[i,l]=x.useState(null),[d,u]=x.useState(!0),[h,m]=x.useState(null);x.useEffect(()=>{p()},[o]);const p=async()=>{u(!0);try{const S=await Qa.getOrderById(o);S.success&&S.data?l(S.data):m({message:"Order not found",type:"error"})}catch(S){console.error("Error loading order:",S),m({message:"Failed to load order",type:"error"})}finally{u(!1)}},v=async()=>{if(confirm("Are you sure you want to delete this order?"))try{const S=await Qa.deleteOrder(o);S.success?(m({message:"Order deleted successfully",type:"success"}),setTimeout(()=>{e("/orders")},1e3)):m({message:S.error||"Failed to delete order",type:"error"})}catch(S){console.error("Error deleting order:",S),m({message:"Failed to delete order",type:"error"})}},b=async()=>{if(i&&confirm("Mark this order as delivered? This will add items to inventory."))try{const S=await Qa.updateOrder(o,{status:"delivered"});S.success?(m({message:"Order marked as delivered. Stock updated!",type:"success"}),p()):m({message:S.error||"Failed to update order",type:"error"})}catch(S){console.error("Error updating order:",S),m({message:"Failed to update order",type:"error"})}},w=S=>{switch(S){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=S=>{switch(S){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"unpaid":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};if(d)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading order..."})]})});if(!i)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-muted-foreground",children:"Order not found"}),r.jsx(te,{onClick:()=>e("/orders"),className:"mt-4",children:"Back to Orders"})]})});const C=[{key:"product",label:"Product",sortable:!1},{key:"quantity",label:"Quantity",sortable:!1},{key:"unitPrice",label:"Unit Price",sortable:!1},{key:"total",label:"Total",sortable:!1}],j=i.items.map((S,D)=>({id:`${D}`,product:S.productName,quantity:S.quantity.toString(),unitPrice:s(S.unitPrice),total:s(S.total)}));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(te,{variant:"outline",onClick:()=>e("/orders"),children:r.jsx(Bs,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:["Order ",i.orderNumber]}),r.jsxs("p",{className:"text-muted-foreground mt-1",children:["Supplier: ",i.supplierName]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[i.status!=="delivered"&&i.status!=="cancelled"&&r.jsxs(te,{variant:"outline",onClick:b,children:[r.jsx(Gt,{className:"h-5 w-5 mr-2"}),"Mark Delivered"]}),r.jsxs(te,{variant:"outline",onClick:()=>e(`/orders/${o}/edit`),children:[r.jsx(Qr,{className:"h-5 w-5 mr-2"}),"Edit"]}),r.jsxs(te,{variant:"outline",onClick:v,children:[r.jsx(fs,{className:"h-5 w-5 mr-2"}),"Delete"]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${w(i.status)}`,children:i.status.charAt(0).toUpperCase()+i.status.slice(1)}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${B(i.paymentStatus)}`,children:["Payment: ",i.paymentStatus.charAt(0).toUpperCase()+i.paymentStatus.slice(1)]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(je,{title:"Total Amount",value:s(i.total),icon:r.jsx(et,{className:"h-8 w-8",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Items",value:i.items.length,icon:r.jsx(pF,{className:"h-8 w-8",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Expected Delivery",value:i.expectedDeliveryDate?n(i.expectedDeliveryDate):"Not set",icon:r.jsx(ka,{className:"h-8 w-8 text-blue-500"})}),r.jsx(je,{title:"Payment Method",value:i.paymentMethod?i.paymentMethod.charAt(0).toUpperCase()+i.paymentMethod.slice(1):"Not set",icon:r.jsx(et,{className:"h-8 w-8 text-green-500"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(Ws,{title:"Order Items",columns:C,data:j,itemsPerPage:10})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Financial Summary"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(i.subtotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(i.tax)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Discount:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(i.discount)})]}),r.jsx("div",{className:"border-t pt-3",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:"Total:"}),r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--foreground)"},children:s(i.total)})]})})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Important Dates"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Created:"}),r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:n(i.createdAt)})]}),i.expectedDeliveryDate&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Expected Delivery:"}),r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:n(i.expectedDeliveryDate)})]}),i.actualDeliveryDate&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Actual Delivery:"}),r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:n(i.actualDeliveryDate)})]})]})]}),i.notes&&r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Notes"}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:i.notes})]})]})]}),h&&r.jsx(It,{title:h.message,variant:h.type,onClose:()=>m(null),children:h.message})]})}function J_(){const t=en(),e=vt(),{formatCurrency:s}=it(),n=t.id,[o,i]=x.useState(null),[l,d]=x.useState([]),[u,h]=x.useState(""),[m,p]=x.useState([]),[v,b]=x.useState(""),[w,B]=x.useState("pending"),[C,j]=x.useState("unpaid"),[S,D]=x.useState(""),[N,E]=x.useState(""),[k,T]=x.useState(!0),[_,M]=x.useState(!1),[Z,P]=x.useState(null),[H,W]=x.useState(""),[ne,ie]=x.useState(1),[K,J]=x.useState(null);x.useEffect(()=>{z(),oe()},[n]);const z=async()=>{T(!0);try{const V=await Qa.getOrderById(n);if(V.success&&V.data){const X=V.data;i(X),h(X.supplierName),p(X.items),b(X.notes||""),B(X.status),j(X.paymentStatus),D(X.paymentMethod||""),E(X.expectedDeliveryDate||"")}else P({message:"Order not found",type:"error"})}catch(V){console.error("Error loading order:",V),P({message:"Failed to load order",type:"error"})}finally{T(!1)}},oe=async()=>{try{const V=await ds.getAllProducts();V.success&&V.data&&d(V.data)}catch(V){console.error("Error loading products:",V)}},U=()=>{if(!H||ne<=0){P({message:"Please select a product and enter valid quantity",type:"error"});return}const V=l.find(ce=>ce.id===H);if(!V)return;const X=K!==null?K:V.price,G=ne*X,q={productId:V.id,productName:V.name,quantity:ne,unitPrice:X,total:G};p([...m,q]),W(""),ie(1),J(null)},L=V=>{p(m.filter((X,G)=>G!==V))},F=(V,X,G)=>{const q=[...m];q[V]={...q[V],[X]:G},(X==="quantity"||X==="unitPrice")&&(q[V].total=q[V].quantity*q[V].unitPrice),p(q)},R=()=>{const V=m.reduce((q,ce)=>q+ce.total,0),X=V*.15,G=V+X;return{subtotal:V,tax:X,total:G}},O=async V=>{if(V.preventDefault(),!u.trim()){P({message:"Please enter supplier name",type:"error"});return}if(m.length===0){P({message:"Please add at least one item to the order",type:"error"});return}M(!0);try{const{subtotal:X,tax:G,total:q}=R(),ce={supplierName:u,items:m,subtotal:X,tax:G,discount:0,total:q,status:w,paymentStatus:C,paymentMethod:S||void 0,expectedDeliveryDate:N||void 0,notes:v||void 0},pe=await Qa.updateOrder(n,ce);pe.success?(P({message:"Order updated successfully!",type:"success"}),setTimeout(()=>{e(`/orders/${n}`)},1e3)):P({message:pe.error||"Failed to update order",type:"error"})}catch(X){console.error("Error updating order:",X),P({message:"Failed to update order",type:"error"})}finally{M(!1)}},{subtotal:$,tax:re,total:he}=R();return k?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading order..."})]})}):o?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(te,{variant:"outline",onClick:()=>e(`/orders/${n}`),children:r.jsx(Bs,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:["Edit Order ",o.orderNumber]}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Update order details and items"})]})]}),r.jsx("form",{onSubmit:O,className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Supplier Information"}),r.jsx(fe,{label:"Supplier Name",value:u,onChange:V=>h(V.target.value),placeholder:"Enter supplier name",required:!0})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Add Items"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx(Fe,{label:"Product",value:H,onChange:V=>W(V.target.value),options:[{value:"",label:"Select product"},...l.map(V=>({value:V.id,label:`${V.name} - ${s(V.price)}`}))]})}),r.jsx(fe,{type:"number",label:"Quantity",value:ne,onChange:V=>ie(parseInt(V.target.value)||0),min:"1"}),r.jsx(fe,{type:"number",label:"Custom Price",value:K||"",onChange:V=>J(V.target.value?parseFloat(V.target.value):null),placeholder:"Use product price",step:"0.01"})]}),r.jsxs(te,{type:"button",onClick:U,className:"mt-4",children:[r.jsx(Ts,{className:"h-5 w-5 mr-2"}),"Add to Order"]})]}),m.length>0&&r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:["Order Items (",m.length,")"]}),r.jsx("div",{className:"space-y-3",children:m.map((V,X)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg",style:{borderColor:"var(--border)"},children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:V.productName})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Quantity"}),r.jsx(fe,{type:"number",value:V.quantity,onChange:G=>F(X,"quantity",parseInt(G.target.value)||0),min:"1",className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Unit Price"}),r.jsx(fe,{type:"number",value:V.unitPrice,onChange:G=>F(X,"unitPrice",parseFloat(G.target.value)||0),step:"0.01",className:"text-sm"})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Total"}),r.jsx("p",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(V.total)})]}),r.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:()=>L(X),children:r.jsx(fs,{className:"h-4 w-4"})})]})]},X))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Status & Payment"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Fe,{label:"Order Status",value:w,onChange:V=>B(V.target.value),options:[{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]}),r.jsx(Fe,{label:"Payment Status",value:C,onChange:V=>j(V.target.value),options:[{value:"unpaid",label:"Unpaid"},{value:"partial",label:"Partial"},{value:"paid",label:"Paid"}]}),r.jsx(Fe,{label:"Payment Method",value:S,onChange:V=>D(V.target.value),options:[{value:"",label:"Select method"},{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"bank_transfer",label:"Bank Transfer"},{value:"credit",label:"Credit"},{value:"other",label:"Other"}]}),r.jsx(fe,{type:"date",label:"Expected Delivery Date",value:N,onChange:V=>E(V.target.value)})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(et,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Totals"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s($)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax (15%):"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(re)})]}),r.jsx("div",{className:"border-t pt-3",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:"Total:"}),r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--foreground)"},children:s(he)})]})})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Notes"}),r.jsx(as,{value:v,onChange:V=>b(V.target.value),placeholder:"Add any notes about this order...",rows:4})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx(te,{type:"button",variant:"outline",onClick:()=>e(`/orders/${n}`),className:"w-full",children:"Cancel"}),r.jsx(te,{type:"submit",disabled:_||m.length===0,className:"w-full",children:_?"Updating Order...":"Update Order"})]})]})]})}),Z&&r.jsx(It,{title:Z.message,variant:Z.type,onClose:()=>P(null),children:Z.message})]}):r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-muted-foreground",children:"Order not found"}),r.jsx(te,{onClick:()=>e("/orders"),className:"mt-4",children:"Back to Orders"})]})})}function eO(){const t=vt(),{formatCurrency:e}=it(),[s,n]=x.useState([]),[o,i]=x.useState(""),[l,d]=x.useState([]),[u,h]=x.useState(""),[m,p]=x.useState("pending"),[v,b]=x.useState("unpaid"),[w,B]=x.useState(""),[C,j]=x.useState(""),[S,D]=x.useState(!1),[N,E]=x.useState(null),[k,T]=x.useState(""),[_,M]=x.useState(1),[Z,P]=x.useState(null);x.useEffect(()=>{H()},[]);const H=async()=>{try{const L=await ds.getAllProducts();L.success&&L.data&&n(L.data)}catch(L){console.error("Error loading products:",L)}},W=()=>{if(!k||_<=0){E({message:"Please select a product and enter valid quantity",type:"error"});return}const L=s.find($=>$.id===k);if(!L)return;const F=Z!==null?Z:L.price,R=_*F,O={productId:L.id,productName:L.name,quantity:_,unitPrice:F,total:R};d([...l,O]),T(""),M(1),P(null)},ne=L=>{d(l.filter((F,R)=>R!==L))},ie=(L,F,R)=>{const O=[...l];O[L]={...O[L],[F]:R},(F==="quantity"||F==="unitPrice")&&(O[L].total=O[L].quantity*O[L].unitPrice),d(O)},K=()=>{const L=l.reduce((O,$)=>O+$.total,0),F=L*.15,R=L+F;return{subtotal:L,tax:F,total:R}},J=async L=>{if(L.preventDefault(),!o.trim()){E({message:"Please enter supplier name",type:"error"});return}if(l.length===0){E({message:"Please add at least one item to the order",type:"error"});return}D(!0);try{const{subtotal:F,tax:R,total:O}=K(),$={supplierName:o,items:l,subtotal:F,tax:R,discount:0,total:O,status:m,paymentStatus:v,paymentMethod:w||void 0,expectedDeliveryDate:C||void 0,notes:u||void 0,orderNumber:`ORD-${Date.now().toString().slice(-6)}`},re=await Qa.createOrder($);re.success?(E({message:"Order created successfully!",type:"success"}),setTimeout(()=>{t("/orders")},1e3)):E({message:re.error||"Failed to create order",type:"error"})}catch(F){console.error("Error creating order:",F),E({message:"Failed to create order",type:"error"})}finally{D(!1)}},{subtotal:z,tax:oe,total:U}=K();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(te,{variant:"outline",onClick:()=>t("/orders"),children:r.jsx(Bs,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:"New Order"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Create a new purchase order for inventory restocking"})]})]}),r.jsx("form",{onSubmit:J,className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Supplier Information"}),r.jsx(fe,{label:"Supplier Name",value:o,onChange:L=>i(L.target.value),placeholder:"Enter supplier name",required:!0})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Add Items"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx(Fe,{label:"Product",value:k,onChange:L=>T(L.target.value),options:[{value:"",label:"Select product"},...s.map(L=>({value:L.id,label:`${L.name} - ${e(L.price)}`}))]})}),r.jsx(fe,{type:"number",label:"Quantity",value:_,onChange:L=>M(parseInt(L.target.value)||0),min:"1"}),r.jsx(fe,{type:"number",label:"Custom Price (Optional)",value:Z||"",onChange:L=>P(L.target.value?parseFloat(L.target.value):null),placeholder:"Use product price",step:"0.01"})]}),r.jsxs(te,{type:"button",onClick:W,className:"mt-4",children:[r.jsx(Ts,{className:"h-5 w-5 mr-2"}),"Add to Order"]})]}),l.length>0&&r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:["Order Items (",l.length,")"]}),r.jsx("div",{className:"space-y-3",children:l.map((L,F)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg",style:{borderColor:"var(--border)"},children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:L.productName}),r.jsxs("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:[e(L.unitPrice)," each"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Quantity"}),r.jsx(fe,{type:"number",value:L.quantity,onChange:R=>ie(F,"quantity",parseInt(R.target.value)||0),min:"1",className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Unit Price"}),r.jsx(fe,{type:"number",value:L.unitPrice,onChange:R=>ie(F,"unitPrice",parseFloat(R.target.value)||0),step:"0.01",className:"text-sm"})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Total"}),r.jsx("p",{className:"font-semibold",style:{color:"var(--foreground)"},children:e(L.total)})]}),r.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:()=>ne(F),children:r.jsx(fs,{className:"h-4 w-4"})})]})]},F))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Status & Payment"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Fe,{label:"Order Status",value:m,onChange:L=>p(L.target.value),options:[{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]}),r.jsx(Fe,{label:"Payment Status",value:v,onChange:L=>b(L.target.value),options:[{value:"unpaid",label:"Unpaid"},{value:"partial",label:"Partial"},{value:"paid",label:"Paid"}]}),r.jsx(Fe,{label:"Payment Method",value:w,onChange:L=>B(L.target.value),options:[{value:"",label:"Select method"},{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"bank_transfer",label:"Bank Transfer"},{value:"credit",label:"Credit"},{value:"other",label:"Other"}]}),r.jsx(fe,{type:"date",label:"Expected Delivery Date",value:C,onChange:L=>j(L.target.value)})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(et,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Totals"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:e(z)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax (15%):"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:e(oe)})]}),r.jsx("div",{className:"border-t pt-3",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:"Total:"}),r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--foreground)"},children:e(U)})]})})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Notes"}),r.jsx(as,{value:u,onChange:L=>h(L.target.value),placeholder:"Add any notes about this order...",rows:4})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx(te,{type:"button",variant:"outline",onClick:()=>t("/orders"),className:"w-full",children:"Cancel"}),r.jsx(te,{type:"submit",disabled:S||l.length===0,className:"w-full",children:S?"Creating Order...":"Create Order"})]})]})]})}),N&&r.jsx(It,{title:N.message,variant:N.type,onClose:()=>E(null),children:N.message})]})}function tO(){const t=vt(),{formatCurrency:e,formatDate:s}=it(),[n,o]=x.useState([]),[i,l]=x.useState(!0),[d,u]=x.useState(""),[h,m]=x.useState("all"),[p,v]=x.useState("all"),[b,w]=x.useState("date"),[B,C]=x.useState(null);x.useEffect(()=>{j()},[]);const j=async()=>{l(!0);try{const M=await wr.getAllReturns();M.success&&M.data?o(M.data):C({message:M.error||"Failed to load returns",type:"error"})}catch(M){console.error("Error loading returns:",M),C({message:"Failed to load returns",type:"error"})}finally{l(!1)}},S=async M=>{if(confirm("Are you sure you want to delete this return?"))try{const Z=await wr.deleteReturn(M);Z.success?(C({message:"Return deleted successfully",type:"success"}),j()):C({message:Z.error||"Failed to delete return",type:"error"})}catch(Z){console.error("Error deleting return:",Z),C({message:"Failed to delete return",type:"error"})}},D=x.useMemo(()=>{const Z=(n||[]).filter(P=>{const H=P.returnNumber.toLowerCase().includes(d.toLowerCase())||P.customerName?.toLowerCase().includes(d.toLowerCase())||P.notes?.toLowerCase().includes(d.toLowerCase()),W=h==="all"||P.status===h,ne=p==="all"||P.refundMethod===p;return H&&W&&ne});return Z.sort((P,H)=>{switch(b){case"amount":return H.refundAmount-P.refundAmount;case"customer":return(P.customerName||"").localeCompare(H.customerName||"");case"date":default:return new Date(H.createdAt).getTime()-new Date(P.createdAt).getTime()}}),Z},[n,d,h,p,b]),N=x.useMemo(()=>{const M=n||[];return{total:M.length,pending:M.filter(Z=>Z.status==="pending").length,approved:M.filter(Z=>Z.status==="approved").length,completed:M.filter(Z=>Z.status==="completed").length,totalRefunded:M.filter(Z=>Z.status==="completed"||Z.status==="approved").reduce((Z,P)=>Z+P.refundAmount,0)}},[n]),E=M=>{switch(M){case"pending":return{backgroundColor:"#fef3c7",color:"#92400e"};case"approved":return{backgroundColor:"#dbeafe",color:"#1e40af"};case"completed":return{backgroundColor:"#dcfce7",color:"#166534"};case"rejected":return{backgroundColor:"#fee2e2",color:"#991b1b"};default:return{backgroundColor:"#f3f4f6",color:"#374151"}}},k=M=>{switch(M){case"store_credit":return{backgroundColor:"#f3e8ff",color:"#6b21a8"};case"cash":return{backgroundColor:"#dcfce7",color:"#166534"};case"original_payment":return{backgroundColor:"#dbeafe",color:"#1e40af"};case"exchange":return{backgroundColor:"#fed7aa",color:"#9a3412"};default:return{backgroundColor:"#f3f4f6",color:"#374151"}}},T=[{key:"returnNumber",label:"Return #",sortable:!0},{key:"customer",label:"Customer",sortable:!0},{key:"refundAmount",label:"Refund Amount",sortable:!0},{key:"refundMethod",label:"Refund Method",sortable:!1},{key:"status",label:"Status",sortable:!1},{key:"date",label:"Date",sortable:!1},{key:"actions",label:"Actions",sortable:!1}],_=D.map(M=>({id:M.id,returnNumber:M.returnNumber,customer:M.customerName||"N/A",refundAmount:e(M.refundAmount),refundMethod:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:k(M.refundMethod),children:M.refundMethod.replace("_"," ").charAt(0).toUpperCase()+M.refundMethod.replace("_"," ").slice(1)}),status:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:E(M.status),children:M.status.charAt(0).toUpperCase()+M.status.slice(1)}),date:s(M.createdAt),actions:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(te,{size:"sm",variant:"outline",onClick:()=>t(`/returns/${M.id}`),children:"View"}),r.jsx(te,{size:"sm",variant:"outline",onClick:()=>S(M.id),children:"Delete"})]})}));return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading returns..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:"Returns"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage product returns and refunds"})]}),r.jsxs(te,{onClick:()=>t("/returns/new"),children:[r.jsx(Ts,{className:"h-5 w-5 mr-2"}),"New Return"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(je,{title:"Total Returns",value:N.total,icon:r.jsx(rC,{className:"h-8 w-8",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Pending",value:N.pending,icon:r.jsx(Xs,{className:"h-8 w-8 text-yellow-500"})}),r.jsx(je,{title:"Completed",value:N.completed,icon:r.jsx(Gt,{className:"h-8 w-8 text-green-500"})}),r.jsx(je,{title:"Total Refunded",value:e(N.totalRefunded),icon:r.jsx(et,{className:"h-8 w-8",style:{color:"var(--accent)"}})})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(fe,{type:"text",placeholder:"Search by return number, customer, or notes...",value:d,onChange:M=>u(M.target.value),className:"pl-10"})]})}),r.jsx(Fe,{value:h,onChange:M=>m(M.target.value),options:[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"completed",label:"Completed"}]}),r.jsx(Fe,{value:p,onChange:M=>v(M.target.value),options:[{value:"all",label:"All Methods"},{value:"cash",label:"Cash"},{value:"store_credit",label:"Store Credit"},{value:"original_payment",label:"Original Payment"},{value:"exchange",label:"Exchange"}]}),r.jsx(Fe,{value:b,onChange:M=>w(M.target.value),options:[{value:"date",label:"Sort by Date"},{value:"amount",label:"Sort by Amount"},{value:"customer",label:"Sort by Customer"}]})]}),r.jsx(Ws,{title:"Returns List",columns:T,data:_,itemsPerPage:10}),B&&r.jsx(It,{title:B.message,variant:B.type,onClose:()=>C(null),children:B.message})]})}function sO(){const t=en(),e=vt(),{formatCurrency:s,formatDate:n}=it(),o=t.id,[i,l]=x.useState(null),[d,u]=x.useState(!0),[h,m]=x.useState(null);x.useEffect(()=>{p()},[o]);const p=async()=>{u(!0);try{const N=await wr.getReturnById(o);N.success&&N.data?l(N.data):m({message:"Return not found",type:"error"})}catch(N){console.error("Error loading return:",N),m({message:"Failed to load return",type:"error"})}finally{u(!1)}},v=async()=>{if(confirm("Are you sure you want to delete this return?"))try{const N=await wr.deleteReturn(o);N.success?(m({message:"Return deleted successfully",type:"success"}),setTimeout(()=>{e("/returns")},1e3)):m({message:N.error||"Failed to delete return",type:"error"})}catch(N){console.error("Error deleting return:",N),m({message:"Failed to delete return",type:"error"})}},b=async()=>{if(i&&confirm("Approve this return? This will restore stock and process the refund."))try{const N=await wr.updateReturn(o,{status:"approved"});N.success?(m({message:"Return approved! Stock restored and refund processed.",type:"success"}),p()):m({message:N.error||"Failed to approve return",type:"error"})}catch(N){console.error("Error approving return:",N),m({message:"Failed to approve return",type:"error"})}},w=async()=>{if(i&&confirm("Reject this return?"))try{const N=await wr.updateReturn(o,{status:"rejected"});N.success?(m({message:"Return rejected",type:"success"}),p()):m({message:N.error||"Failed to reject return",type:"error"})}catch(N){console.error("Error rejecting return:",N),m({message:"Failed to reject return",type:"error"})}},B=async()=>{if(i&&confirm("Mark this return as completed?"))try{const N=await wr.updateReturn(o,{status:"completed"});N.success?(m({message:"Return completed successfully",type:"success"}),p()):m({message:N.error||"Failed to complete return",type:"error"})}catch(N){console.error("Error completing return:",N),m({message:"Failed to complete return",type:"error"})}},C=N=>{switch(N){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=N=>{switch(N){case"store_credit":return"bg-purple-100 text-purple-800";case"cash":return"bg-green-100 text-green-800";case"original_payment":return"bg-blue-100 text-blue-800";case"exchange":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};if(d)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading return..."})]})});if(!i)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-muted-foreground",children:"Return not found"}),r.jsx(te,{onClick:()=>e("/returns"),className:"mt-4",children:"Back to Returns"})]})});const S=[{key:"product",label:"Product",sortable:!1},{key:"quantity",label:"Quantity",sortable:!1},{key:"unitPrice",label:"Unit Price",sortable:!1},{key:"total",label:"Total",sortable:!1},{key:"reason",label:"Reason",sortable:!1},{key:"condition",label:"Condition",sortable:!1}],D=i.items.map((N,E)=>({id:`${E}`,product:N.productName,quantity:N.quantity.toString(),unitPrice:s(N.unitPrice),total:s(N.total),reason:N.reason,condition:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:N.condition.charAt(0).toUpperCase()+N.condition.slice(1)})}));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(te,{variant:"outline",onClick:()=>e("/returns"),children:r.jsx(Bs,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:["Return ",i.returnNumber]}),r.jsxs("p",{className:"text-muted-foreground mt-1",children:["Customer: ",i.customerName||"Walk-in Customer"]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[i.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs(te,{variant:"outline",onClick:b,children:[r.jsx(Gt,{className:"h-5 w-5 mr-2"}),"Approve"]}),r.jsxs(te,{variant:"outline",onClick:w,children:[r.jsx(Hn,{className:"h-5 w-5 mr-2"}),"Reject"]})]}),i.status==="approved"&&r.jsxs(te,{variant:"outline",onClick:B,children:[r.jsx(Gt,{className:"h-5 w-5 mr-2"}),"Complete"]}),r.jsxs(te,{variant:"outline",onClick:()=>e(`/returns/${o}/edit`),children:[r.jsx(Qr,{className:"h-5 w-5 mr-2"}),"Edit"]}),r.jsxs(te,{variant:"outline",onClick:v,children:[r.jsx(fs,{className:"h-5 w-5 mr-2"}),"Delete"]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${C(i.status)}`,children:i.status.charAt(0).toUpperCase()+i.status.slice(1)}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${j(i.refundMethod)}`,children:["Refund: ",i.refundMethod.replace("_"," ").charAt(0).toUpperCase()+i.refundMethod.replace("_"," ").slice(1)]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(je,{title:"Refund Amount",value:s(i.refundAmount),icon:r.jsx(et,{className:"h-8 w-8",style:{color:"var(--accent)"}})}),r.jsx(je,{title:"Items Returned",value:i.items.length,icon:r.jsx(Gt,{className:"h-8 w-8 text-blue-500"})}),r.jsx(je,{title:"Return Date",value:n(i.createdAt),icon:r.jsx(ka,{className:"h-8 w-8 text-green-500"})}),r.jsx(je,{title:"Customer",value:i.customerName||"Walk-in",icon:r.jsx(Da,{className:"h-8 w-8",style:{color:"var(--accent)"}})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(Ws,{title:"Returned Items",columns:S,data:D,itemsPerPage:10})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Refund Summary"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(i.subtotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(i.tax)})]}),r.jsx("div",{className:"border-t pt-3",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:"Refund Amount:"}),r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--foreground)"},children:s(i.refundAmount)})]})})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Return Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Return Number:"}),r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:i.returnNumber})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Refund Method:"}),r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:i.refundMethod.replace("_"," ").charAt(0).toUpperCase()+i.refundMethod.replace("_"," ").slice(1)})]}),i.processedBy&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Processed By:"}),r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:i.processedBy})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Created:"}),r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:n(i.createdAt)})]})]})]}),i.notes&&r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Notes"}),r.jsx("p",{style:{color:"var(--muted-foreground)"},children:i.notes})]})]})]}),h&&r.jsx(It,{title:h.message,variant:h.type,onClose:()=>m(null),children:h.message})]})}function rO(){const t=en(),e=vt(),{formatCurrency:s}=it(),n=t.id,[o,i]=x.useState(null),[l,d]=x.useState([]),[u,h]=x.useState([]),[m,p]=x.useState(""),[v,b]=x.useState([]),[w,B]=x.useState(""),[C,j]=x.useState("pending"),[S,D]=x.useState("cash"),[N,E]=x.useState(!0),[k,T]=x.useState(!1),[_,M]=x.useState(null),[Z,P]=x.useState(""),[H,W]=x.useState(1),[ne,ie]=x.useState(null),[K,J]=x.useState(""),[z,oe]=x.useState("unopened");x.useEffect(()=>{U(),L()},[n]);const U=async()=>{E(!0);try{const G=await wr.getReturnById(n);if(G.success&&G.data){const q=G.data;i(q),p(q.customerId||""),b(q.items),B(q.notes||""),j(q.status),D(q.refundMethod)}else M({message:"Return not found",type:"error"})}catch(G){console.error("Error loading return:",G),M({message:"Failed to load return",type:"error"})}finally{E(!1)}},L=async()=>{try{const[G,q]=await Promise.all([bs.getAllCustomers(),ds.getAllProducts()]);G.success&&G.data&&d(G.data),q.success&&q.data&&h(q.data)}catch(G){console.error("Error loading data:",G)}},F=()=>{if(!Z||H<=0){M({message:"Please select a product and enter valid quantity",type:"error"});return}if(!K.trim()){M({message:"Please enter a return reason",type:"error"});return}const G=u.find(Ne=>Ne.id===Z);if(!G)return;const q=ne!==null?ne:G.price,ce=H*q,pe={productId:G.id,productName:G.name,quantity:H,unitPrice:q,total:ce,reason:K.trim(),condition:z};b([...v,pe]),P(""),W(1),ie(null),J(""),oe("unopened")},R=G=>{b(v.filter((q,ce)=>ce!==G))},O=(G,q,ce)=>{const pe=[...v];pe[G]={...pe[G],[q]:ce},(q==="quantity"||q==="unitPrice")&&(pe[G].total=pe[G].quantity*pe[G].unitPrice),b(pe)},$=()=>{const G=v.reduce((pe,Ne)=>pe+Ne.total,0),q=G*.15,ce=G+q;return{subtotal:G,tax:q,total:ce}},re=async G=>{if(G.preventDefault(),v.length===0){M({message:"Please add at least one item to return",type:"error"});return}if(v.some(ce=>!ce.reason||!ce.reason.trim())){M({message:"Please provide a reason for all returned items",type:"error"});return}T(!0);try{const{subtotal:ce,tax:pe,total:Ne}=$(),at=l.find(Ie=>Ie.id===m),Nt={customerId:m||void 0,customerName:at?.name||"Walk-in Customer",items:v,subtotal:ce,tax:pe,total:Ne,refundAmount:Ne,refundMethod:S,status:C,notes:w||void 0},ke=await wr.updateReturn(n,Nt);ke.success?(M({message:"Return updated successfully!",type:"success"}),setTimeout(()=>{e(`/returns/${n}`)},1e3)):M({message:ke.error||"Failed to update return",type:"error"})}catch(ce){console.error("Error updating return:",ce),M({message:"Failed to update return",type:"error"})}finally{T(!1)}},{subtotal:he,tax:V,total:X}=$();return N?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading return..."})]})}):o?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(te,{variant:"outline",onClick:()=>e(`/returns/${n}`),children:r.jsx(Bs,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:["Edit Return ",o.returnNumber]}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Update return details and items"})]})]}),r.jsx("form",{onSubmit:re,className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Customer Information"}),r.jsx(Fe,{label:"Customer",value:m,onChange:G=>p(G.target.value),options:[{value:"",label:"Walk-in Customer"},...l.map(G=>({value:G.id,label:G.name}))]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Add Return Items"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsx(Fe,{label:"Product",value:Z,onChange:G=>P(G.target.value),options:[{value:"",label:"Select product"},...u.map(G=>({value:G.id,label:`${G.name} - ${s(G.price)}`}))]}),r.jsx(fe,{type:"number",label:"Quantity",value:H,onChange:G=>W(parseInt(G.target.value)||0),min:"1"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsx(fe,{type:"number",label:"Price (Optional)",value:ne||"",onChange:G=>ie(G.target.value?parseFloat(G.target.value):null),placeholder:"Use product price",step:"0.01"}),r.jsx(Fe,{label:"Condition",value:z,onChange:G=>oe(G.target.value),options:[{value:"unopened",label:"Unopened"},{value:"opened",label:"Opened"},{value:"defective",label:"Defective"},{value:"damaged",label:"Damaged"}]})]}),r.jsx(fe,{label:"Return Reason",value:K,onChange:G=>J(G.target.value),placeholder:"Why is this item being returned?",className:"mb-4"}),r.jsxs(te,{type:"button",onClick:F,children:[r.jsx(Ts,{className:"h-5 w-5 mr-2"}),"Add to Return"]})]}),v.length>0&&r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:["Return Items (",v.length,")"]}),r.jsx("div",{className:"space-y-3",children:v.map((G,q)=>r.jsxs("div",{className:"p-4 border rounded-lg",style:{borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:G.productName}),r.jsxs("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:[G.quantity," × ",s(G.unitPrice)," = ",s(G.total)]})]}),r.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:()=>R(q),children:r.jsx(fs,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Reason"}),r.jsx(fe,{value:G.reason,onChange:ce=>O(q,"reason",ce.target.value),placeholder:"Return reason",className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Condition"}),r.jsx(Fe,{value:G.condition,onChange:ce=>O(q,"condition",ce.target.value),options:[{value:"unopened",label:"Unopened"},{value:"opened",label:"Opened"},{value:"defective",label:"Defective"},{value:"damaged",label:"Damaged"}]})]})]})]},q))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Status & Refund"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Fe,{label:"Return Status",value:C,onChange:G=>j(G.target.value),options:[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"completed",label:"Completed"}]}),r.jsx(Fe,{label:"Refund Method",value:S,onChange:G=>D(G.target.value),options:[{value:"cash",label:"Cash"},{value:"store_credit",label:"Store Credit"},{value:"original_payment",label:"Original Payment Method"},{value:"exchange",label:"Exchange"}]}),S==="store_credit"&&r.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-blue-800",children:"💳 Refund will be added to customer's store credit"})})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(et,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Refund Amount"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(he)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax (15%):"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(V)})]}),r.jsx("div",{className:"border-t pt-3",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:"Refund Total:"}),r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--foreground)"},children:s(X)})]})})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Notes"}),r.jsx(as,{value:w,onChange:G=>B(G.target.value),placeholder:"Add any notes about this return...",rows:4})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx(te,{type:"button",variant:"outline",onClick:()=>e(`/returns/${n}`),className:"w-full",children:"Cancel"}),r.jsx(te,{type:"submit",disabled:k||v.length===0,className:"w-full",children:k?"Updating Return...":"Update Return"})]})]})]})}),_&&r.jsx(It,{title:_.message,variant:_.type,onClose:()=>M(null),children:_.message})]}):r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-muted-foreground",children:"Return not found"}),r.jsx(te,{onClick:()=>e("/returns"),className:"mt-4",children:"Back to Returns"})]})})}function nO(){const t=vt(),[e]=Ap(),{formatCurrency:s}=it(),[n,o]=x.useState([]),[i,l]=x.useState([]),[d,u]=x.useState([]),[h,m]=x.useState(""),[p,v]=x.useState(""),[b,w]=x.useState([]),[B,C]=x.useState(""),[j,S]=x.useState("pending"),[D,N]=x.useState("cash"),[E,k]=x.useState(!1),[T,_]=x.useState(null),[M,Z]=x.useState(""),[P,H]=x.useState(1),[W,ne]=x.useState(null),[ie,K]=x.useState(""),[J,z]=x.useState("unopened");x.useEffect(()=>{oe();const X=e.get("saleId");X&&(v(X),U(X))},[]);const oe=async()=>{try{const[X,G,q]=await Promise.all([bs.getAllCustomers(),ds.getAllProducts(),Er.getAllSales()]);X.success&&X.data&&o(X.data),G.success&&G.data&&l(G.data),q.success&&q.data&&u(q.data)}catch(X){console.error("Error loading data:",X)}},U=async X=>{try{const G=await Er.getSaleById(X);if(G.success&&G.data){const q=G.data;m(q.customerId||"");const ce=q.items.map(pe=>({productId:pe.productId,productName:pe.productName,quantity:pe.quantity,unitPrice:pe.unitPrice,total:pe.total,reason:"",condition:"unopened"}));w(ce)}}catch(G){console.error("Error loading sale:",G)}},L=()=>{if(!M||P<=0){_({message:"Please select a product and enter valid quantity",type:"error"});return}if(!ie.trim()){_({message:"Please enter a return reason",type:"error"});return}const X=i.find(pe=>pe.id===M);if(!X)return;const G=W!==null?W:X.price,q=P*G,ce={productId:X.id,productName:X.name,quantity:P,unitPrice:G,total:q,reason:ie.trim(),condition:J};w([...b,ce]),Z(""),H(1),ne(null),K(""),z("unopened")},F=X=>{w(b.filter((G,q)=>q!==X))},R=(X,G,q)=>{const ce=[...b];ce[X]={...ce[X],[G]:q},(G==="quantity"||G==="unitPrice")&&(ce[X].total=ce[X].quantity*ce[X].unitPrice),w(ce)},O=()=>{const X=b.reduce((ce,pe)=>ce+pe.total,0),G=X*.15,q=X+G;return{subtotal:X,tax:G,total:q}},$=async X=>{if(X.preventDefault(),b.length===0){_({message:"Please add at least one item to return",type:"error"});return}if(b.some(q=>!q.reason||!q.reason.trim())){_({message:"Please provide a reason for all returned items",type:"error"});return}k(!0);try{const{subtotal:q,tax:ce,total:pe}=O(),Ne=n.find(ke=>ke.id===h),at={saleId:p||void 0,customerId:h||void 0,customerName:Ne?.name||"Walk-in Customer",items:b,subtotal:q,tax:ce,total:pe,refundAmount:pe,refundMethod:D,status:j,notes:B||void 0,returnNumber:`RET-${Date.now().toString().slice(-6)}`},Nt=await wr.createReturn(at);Nt.success?(_({message:"Return created successfully!",type:"success"}),setTimeout(()=>{t("/returns")},1e3)):_({message:Nt.error||"Failed to create return",type:"error"})}catch(q){console.error("Error creating return:",q),_({message:"Failed to create return",type:"error"})}finally{k(!1)}},{subtotal:re,tax:he,total:V}=O();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(te,{variant:"outline",onClick:()=>t("/returns"),children:r.jsx(Bs,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:"New Return"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Process a product return and refund"})]})]}),r.jsx("form",{onSubmit:$,className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Customer & Sale Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Fe,{label:"Link to Sale (Optional)",value:p,onChange:X=>{v(X.target.value),X.target.value&&U(X.target.value)},options:[{value:"",label:"No sale linked"},...d.map(X=>({value:X.id,label:`Sale #${X.id.substring(0,8)} - ${s(X.total)} - ${X.customerName||"Walk-in"}`}))]}),r.jsx(Fe,{label:"Customer",value:h,onChange:X=>m(X.target.value),options:[{value:"",label:"Walk-in Customer"},...n.map(X=>({value:X.id,label:X.name}))]})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Add Return Items"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsx(Fe,{label:"Product",value:M,onChange:X=>Z(X.target.value),options:[{value:"",label:"Select product"},...i.map(X=>({value:X.id,label:`${X.name} - ${s(X.price)}`}))]}),r.jsx(fe,{type:"number",label:"Quantity",value:P,onChange:X=>H(parseInt(X.target.value)||0),min:"1"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsx(fe,{type:"number",label:"Price (Optional)",value:W||"",onChange:X=>ne(X.target.value?parseFloat(X.target.value):null),placeholder:"Use product price",step:"0.01"}),r.jsx(Fe,{label:"Condition",value:J,onChange:X=>z(X.target.value),options:[{value:"unopened",label:"Unopened"},{value:"opened",label:"Opened"},{value:"defective",label:"Defective"},{value:"damaged",label:"Damaged"}]})]}),r.jsx(fe,{label:"Return Reason",value:ie,onChange:X=>K(X.target.value),placeholder:"Why is this item being returned?",className:"mb-4"}),r.jsxs(te,{type:"button",onClick:L,children:[r.jsx(Ts,{className:"h-5 w-5 mr-2"}),"Add to Return"]})]}),b.length>0&&r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:["Return Items (",b.length,")"]}),r.jsx("div",{className:"space-y-3",children:b.map((X,G)=>r.jsxs("div",{className:"p-4 border rounded-lg",style:{borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:X.productName}),r.jsxs("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:[X.quantity," × ",s(X.unitPrice)," = ",s(X.total)]})]}),r.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:()=>F(G),children:r.jsx(fs,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Reason"}),r.jsx(fe,{value:X.reason,onChange:q=>R(G,"reason",q.target.value),placeholder:"Return reason",className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--muted-foreground)"},children:"Condition"}),r.jsx(Fe,{value:X.condition,onChange:q=>R(G,"condition",q.target.value),options:[{value:"unopened",label:"Unopened"},{value:"opened",label:"Opened"},{value:"defective",label:"Defective"},{value:"damaged",label:"Damaged"}]})]})]})]},G))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Status & Refund"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Fe,{label:"Return Status",value:j,onChange:X=>S(X.target.value),options:[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"completed",label:"Completed"}]}),r.jsx(Fe,{label:"Refund Method",value:D,onChange:X=>N(X.target.value),options:[{value:"cash",label:"Cash"},{value:"store_credit",label:"Store Credit"},{value:"original_payment",label:"Original Payment Method"},{value:"exchange",label:"Exchange"}]}),D==="store_credit"&&r.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-blue-800",children:"💳 Refund will be added to customer's store credit"})})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(et,{className:"h-5 w-5",style:{color:"var(--accent)"}}),r.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Refund Amount"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Subtotal:"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(re)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--muted-foreground)"},children:"Tax (15%):"}),r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:s(he)})]}),r.jsx("div",{className:"border-t pt-3",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold",style:{color:"var(--foreground)"},children:"Refund Total:"}),r.jsx("span",{className:"text-xl font-bold",style:{color:"var(--foreground)"},children:s(V)})]})})]})]}),r.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--foreground)"},children:"Notes"}),r.jsx(as,{value:B,onChange:X=>C(X.target.value),placeholder:"Add any notes about this return...",rows:4})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx(te,{type:"button",variant:"outline",onClick:()=>t("/returns"),className:"w-full",children:"Cancel"}),r.jsx(te,{type:"submit",disabled:E||b.length===0,className:"w-full",children:E?"Creating Return...":"Create Return"})]})]})]})}),T&&r.jsx(It,{title:T.message,variant:T.type,onClose:()=>_(null),children:T.message})]})}function aO(){return r.jsx(x.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:r.jsx(nO,{})})}function oO(){return r.jsx("div",{className:"space-y-6",children:r.jsx(Bg,{title:"Reports Coming Soon",description:"Advanced reporting and analytics features will be available in the next update.",icon:"ChartBarIcon"})})}const AO=[{value:"NLE",label:"NLE - New Leones",symbol:"NLe"},{value:"USD",label:"USD - US Dollar",symbol:"$"},{value:"EUR",label:"EUR - Euro",symbol:"€"},{value:"GBP",label:"GBP - British Pound",symbol:"£"},{value:"CAD",label:"CAD - Canadian Dollar",symbol:"C$"},{value:"AUD",label:"AUD - Australian Dollar",symbol:"A$"},{value:"JPY",label:"JPY - Japanese Yen",symbol:"¥"},{value:"CHF",label:"CHF - Swiss Franc",symbol:"CHF"},{value:"CNY",label:"CNY - Chinese Yuan",symbol:"¥"},{value:"INR",label:"INR - Indian Rupee",symbol:"₹"},{value:"BRL",label:"BRL - Brazilian Real",symbol:"R$"}];function iO(){const[t,e]=Ap(),[s,n]=x.useState({companyName:"",address:"",phone:"",email:"",taxRate:.15,currency:"USD"}),[o,i]=x.useState(!1),[l,d]=x.useState({}),[u,h]=x.useState(!1),[m,p]=x.useState(""),[v,b]=x.useState("success"),w=t.get("tab")||"company",[B,C]=x.useState({autoSaveDrafts:!0,confirmBeforeDelete:!0,showAnimations:!0,lowStockAlerts:!0,defaultPaymentMethod:"cash",invoiceNumberFormat:"INV-{YYYY}-{MM}-{####}",receiptFooter:"Thank you for your business!",autoBackup:!0,backupFrequency:"daily",showProductImages:!0,defaultInvoiceStatus:"completed",receiptPaperSize:"A4",showTaxBreakdown:!0,requireCustomerInfo:!1,autoCalculateTax:!0,defaultDiscountPercent:0,showProfitMargin:!1,inventoryTracking:!0,barcodeScanning:!1,darkMode:!1,language:"en",dateFormat:"MM/DD/YYYY",timeFormat:"12h",currencyPosition:"before",decimalPlaces:2,autoLogout:!1,sessionTimeout:30,printReceipts:!0,soundEffects:!0}),j=[{id:"company",name:"Company",icon:fE,description:"Company information and contact details"},{id:"tax",name:"Tax & Currency",icon:IE,description:"Tax rates and currency settings"},{id:"business",name:"Business",icon:lE,description:"Invoice, receipt, and business preferences"},{id:"inventory",name:"Inventory",icon:iC,description:"Product and stock management settings"},{id:"sales",name:"Sales",icon:et,description:"Sales process and workflow preferences"},{id:"display",name:"Display",icon:kE,description:"UI appearance and data formatting"},{id:"backup",name:"Backup",icon:FE,description:"Export and backup your data"},{id:"preferences",name:"Preferences",icon:wF,description:"Application preferences and settings"}],S=j.find(H=>H.id===w)||j[0],D=x.useCallback(async()=>{try{const H=await En.getCompanySettings();H.success&&H.data&&n(H.data)}catch(H){console.error("Failed to load settings:",H),k("Failed to load settings","error")}},[]),N=x.useCallback(async()=>{try{const H=await En.getPreferences();H.success&&H.data&&C(H.data)}catch(H){console.error("Failed to load preferences:",H),k("Failed to load preferences","error")}},[]);x.useEffect(()=>{D(),N()},[D,N]);const E=()=>{const H={};return s.companyName.trim()||(H.companyName="Company name is required"),s.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)&&(H.email="Please enter a valid email address"),(s.taxRate<0||s.taxRate>1)&&(H.taxRate="Tax rate must be between 0% and 100%"),d(H),Object.keys(H).length===0},k=(H,W)=>{p(H),b(W),h(!0),setTimeout(()=>h(!1),3e3)},T=async H=>{if(H.preventDefault(),!!E()){i(!0);try{const[W,ne]=await Promise.all([En.updateCompanySettings(s),En.updatePreferences(B)]);if(W.success&&ne.success)k("Settings saved successfully!","success"),W.data&&n(W.data),ne.data&&C(ne.data);else{const ie=W.error||ne.error||"Failed to update settings. Please try again.";k(ie,"error")}}catch(W){console.error("Failed to update settings:",W),k("Failed to update settings. Please try again.","error")}finally{i(!1)}}},_=(H,W)=>{n(ne=>({...ne,[H]:W})),l[H]&&d(ne=>({...ne,[H]:""}))},M=async()=>{i(!0);try{const H=await En.exportData();if(H.success){const W=H.data?.path?`Data exported successfully to: ${H.data.path}`:"Data exported successfully!";k(W,"success")}else k(H.error||"Failed to export data","error")}catch(H){console.error("Failed to export data:",H),k("Failed to export data. Please try again.","error")}finally{i(!1)}},Z=async()=>{i(!0);try{const H=await En.importData();H.success?(k("Data imported successfully! Settings have been updated.","success"),await Promise.all([D(),N()])):k(H.error||"Failed to import data","error")}catch(H){console.error("Failed to import data:",H),k("Failed to import data. Please check the file format and try again.","error")}finally{i(!1)}},P=()=>{switch(w){case"company":return r.jsxs(Dt,{title:"Company Information",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(fe,{label:"Company Name",value:s.companyName,onChange:H=>_("companyName",H.target.value),error:l.companyName,required:!0,placeholder:"Enter your company name"}),r.jsx(fe,{label:"Email",type:"email",value:s.email,onChange:H=>_("email",H.target.value),error:l.email,placeholder:"company@example.com"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[r.jsx(fe,{label:"Phone",value:s.phone,onChange:H=>_("phone",H.target.value),placeholder:"+1 (555) 123-4567"}),r.jsx(fe,{label:"Website",placeholder:"https://yourcompany.com"})]}),r.jsx("div",{className:"mt-6",children:r.jsx(as,{label:"Address",value:s.address,onChange:H=>_("address",H.target.value),placeholder:"Enter your business address",rows:4})})]});case"tax":return r.jsxs(Dt,{title:"Tax & Currency Settings",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(fe,{label:"Tax Rate (%)",type:"number",value:s.taxRate*100,onChange:H=>_("taxRate",parseFloat(H.target.value)/100),min:"0",max:"100",step:"0.1",error:l.taxRate,placeholder:"15.0"}),r.jsx(Fe,{label:"Default Currency",value:s.currency,onChange:H=>_("currency",H.target.value),options:AO.map(H=>({value:H.value,label:H.label}))})]}),r.jsx("div",{className:"mt-6",children:r.jsx(Cr,{variant:"info",title:"Tax Information",children:"Tax rate will be applied to all sales unless overridden for specific items."})})]});case"backup":return r.jsx(Dt,{title:"Data Backup & Export",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",style:{borderColor:"var(--border)",backgroundColor:"var(--card)"},children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Auto Backup"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Automatically backup data to local storage"})]}),r.jsx(Ot,{checked:B.autoBackup,onChange:H=>C(W=>({...W,autoBackup:H.target.checked}))})]}),B.autoBackup&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Fe,{label:"Backup Frequency",value:B.backupFrequency,onChange:H=>C(W=>({...W,backupFrequency:H.target.value})),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",style:{borderColor:"var(--border)",backgroundColor:"var(--card)"},children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Auto Logout"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Automatically logout after inactivity"})]}),r.jsx(Ot,{checked:B.autoLogout,onChange:H=>C(W=>({...W,autoLogout:H.target.checked}))})]})]}),B.autoLogout&&r.jsx(fe,{label:"Session Timeout (minutes)",type:"number",value:B.sessionTimeout,onChange:H=>C(W=>({...W,sessionTimeout:parseInt(H.target.value)||30})),min:"5",max:"480",placeholder:"30"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Manual Backup & Export"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(te,{variant:"outline",onClick:M,disabled:o,className:"flex items-center justify-center gap-2",children:[r.jsx(mo,{className:"h-4 w-4"}),o?"Exporting...":"Export All Data"]}),r.jsxs(te,{variant:"outline",onClick:Z,disabled:o,className:"flex items-center justify-center gap-2",children:[r.jsx(nC,{className:"h-4 w-4"}),o?"Importing...":"Import Data"]})]}),r.jsx(Cr,{variant:"info",title:"Backup & Migration",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{children:"Export your complete data as a JSON file for backup or migration purposes."}),r.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[r.jsx("li",{children:"• Includes all settings, preferences, and data"}),r.jsx("li",{children:"• Safe to store on external drives or cloud storage"}),r.jsx("li",{children:"• Can be imported on other installations"}),r.jsx("li",{children:"• All data remains stored locally on your device"})]})]})})]})]})});case"business":return r.jsx(Dt,{title:"Business Settings",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Fe,{label:"Default Payment Method",value:B.defaultPaymentMethod,onChange:H=>C(W=>({...W,defaultPaymentMethod:H.target.value})),options:[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"bank_transfer",label:"Bank Transfer"},{value:"other",label:"Other"}]}),r.jsx(fe,{label:"Invoice Number Format",value:B.invoiceNumberFormat,onChange:H=>C(W=>({...W,invoiceNumberFormat:H.target.value})),placeholder:"INV-{YYYY}-{MM}-{####}",helperText:"Use {YYYY} for year, {MM} for month, {####} for sequential number"})]}),r.jsx("div",{children:r.jsx(as,{label:"Receipt Footer Message",value:B.receiptFooter,onChange:H=>C(W=>({...W,receiptFooter:H.target.value})),placeholder:"Thank you for your business!",rows:3,helperText:"This message will appear at the bottom of receipts and invoices"})})]})});case"inventory":return r.jsx(Dt,{title:"Inventory Management",children:r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Inventory Tracking"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Automatically track stock levels and updates"})]}),r.jsx(Ot,{checked:B.inventoryTracking,onChange:H=>C(W=>({...W,inventoryTracking:H.target.checked}))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Show Product Images"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Display product images in inventory lists"})]}),r.jsx(Ot,{checked:B.showProductImages,onChange:H=>C(W=>({...W,showProductImages:H.target.checked}))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Low Stock Alerts"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Show alerts when products are running low"})]}),r.jsx(Ot,{checked:B.lowStockAlerts,onChange:H=>C(W=>({...W,lowStockAlerts:H.target.checked}))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Barcode Scanning"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Enable barcode scanning for products (requires camera)"})]}),r.jsx(Ot,{checked:B.barcodeScanning,onChange:H=>C(W=>({...W,barcodeScanning:H.target.checked}))})]})]})})});case"sales":return r.jsx(Dt,{title:"Sales Process Settings",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Fe,{label:"Default Invoice Status",value:B.defaultInvoiceStatus,onChange:H=>C(W=>({...W,defaultInvoiceStatus:H.target.value})),options:[{value:"pending",label:"Pending"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"},{value:"refunded",label:"Refunded"}]}),r.jsx(fe,{label:"Default Discount (%)",type:"number",value:B.defaultDiscountPercent,onChange:H=>C(W=>({...W,defaultDiscountPercent:parseFloat(H.target.value)||0})),min:"0",max:"100",step:"0.1",placeholder:"0"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Auto-calculate Tax"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Automatically calculate tax on sales"})]}),r.jsx(Ot,{checked:B.autoCalculateTax,onChange:H=>C(W=>({...W,autoCalculateTax:H.target.checked}))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Show Tax Breakdown"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Display detailed tax information on receipts"})]}),r.jsx(Ot,{checked:B.showTaxBreakdown,onChange:H=>C(W=>({...W,showTaxBreakdown:H.target.checked}))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Show Profit Margin"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Display profit margin information"})]}),r.jsx(Ot,{checked:B.showProfitMargin,onChange:H=>C(W=>({...W,showProfitMargin:H.target.checked}))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Require Customer Info"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Make customer information mandatory for sales"})]}),r.jsx(Ot,{checked:B.requireCustomerInfo,onChange:H=>C(W=>({...W,requireCustomerInfo:H.target.checked}))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Print Receipts"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Automatically print receipts after sales"})]}),r.jsx(Ot,{checked:B.printReceipts,onChange:H=>C(W=>({...W,printReceipts:H.target.checked}))})]})]})]})});case"display":return r.jsx(Dt,{title:"Display & Formatting",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Fe,{label:"Date Format",value:B.dateFormat,onChange:H=>C(W=>({...W,dateFormat:H.target.value})),options:[{value:"MM/DD/YYYY",label:"MM/DD/YYYY (US)"},{value:"DD/MM/YYYY",label:"DD/MM/YYYY (EU)"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD (ISO)"},{value:"DD-MM-YYYY",label:"DD-MM-YYYY"}]}),r.jsx(Fe,{label:"Time Format",value:B.timeFormat,onChange:H=>C(W=>({...W,timeFormat:H.target.value})),options:[{value:"12h",label:"12-hour (AM/PM)"},{value:"24h",label:"24-hour"}]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Fe,{label:"Currency Position",value:B.currencyPosition,onChange:H=>C(W=>({...W,currencyPosition:H.target.value})),options:[{value:"before",label:"Before ($100)"},{value:"after",label:"After (100$)"}]}),r.jsx(fe,{label:"Decimal Places",type:"number",value:B.decimalPlaces,onChange:H=>C(W=>({...W,decimalPlaces:parseInt(H.target.value)||2})),min:"0",max:"4",placeholder:"2"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Fe,{label:"Receipt Paper Size",value:B.receiptPaperSize,onChange:H=>C(W=>({...W,receiptPaperSize:H.target.value})),options:[{value:"A4",label:"A4"},{value:"Letter",label:"Letter"},{value:"Thermal",label:"Thermal (80mm)"}]}),r.jsx(Fe,{label:"Language",value:B.language,onChange:H=>C(W=>({...W,language:H.target.value})),options:[{value:"en",label:"English"},{value:"es",label:"Español"},{value:"fr",label:"Français"},{value:"de",label:"Deutsch"}]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Dark Mode"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Use dark theme interface"})]}),r.jsx(Ot,{checked:B.darkMode,onChange:H=>C(W=>({...W,darkMode:H.target.checked}))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Sound Effects"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Play sounds for actions and notifications"})]}),r.jsx(Ot,{checked:B.soundEffects,onChange:H=>C(W=>({...W,soundEffects:H.target.checked}))})]})]})]})});case"preferences":return r.jsx(Dt,{title:"Application Preferences",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Auto-save drafts"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Automatically save form drafts as you type"})]}),r.jsx(Ot,{checked:B.autoSaveDrafts,onChange:H=>C(W=>({...W,autoSaveDrafts:H.target.checked}))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Confirm before deleting"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Ask for confirmation before deleting items"})]}),r.jsx(Ot,{checked:B.confirmBeforeDelete,onChange:H=>C(W=>({...W,confirmBeforeDelete:H.target.checked}))})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",style:{color:"var(--foreground)"},children:"Show animations"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Enable smooth animations and transitions"})]}),r.jsx(Ot,{checked:B.showAnimations,onChange:H=>C(W=>({...W,showAnimations:H.target.checked}))})]})]})});default:return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Sr,{className:"h-12 w-12 mx-auto mb-4",style:{color:"var(--muted-foreground)"}}),r.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--foreground)"},children:"Settings Coming Soon"}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"This section is under development."})]})})}};return r.jsxs(r.Fragment,{children:[u&&r.jsx(It,{variant:v,title:m,onClose:()=>h(!1),children:m}),r.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:"Configuration"}),r.jsx("p",{className:"text-sm mt-2",style:{color:"var(--muted-foreground)"},children:"Customize your sales management experience with these powerful settings"})]}),r.jsx("div",{className:"border-b mb-6",style:{borderColor:"var(--border)"},children:r.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:j.map(H=>{const W=H.icon,ne=w===H.id;return r.jsxs("button",{onClick:()=>e({tab:H.id}),className:`flex items-center space-x-2 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${ne?"border-orange-500 text-orange-600":"border-transparent hover:border-gray-300"}`,style:{color:ne?void 0:"var(--muted-foreground)"},children:[r.jsx(W,{className:"h-5 w-5"}),r.jsx("span",{children:H.name})]},H.id)})})}),r.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[r.jsx("div",{className:"px-6 py-3 border-b",style:{borderColor:"var(--border)"},children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:w===S.id?"#fed7aa":"var(--muted)"},children:r.jsx(S.icon,{className:"h-6 w-6",style:{color:w===S.id?"#ea580c":"var(--muted-foreground)"}})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--foreground)"},children:S.name}),r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:S.description})]})]})}),r.jsx("div",{className:"p-6 pt-4",style:{backgroundColor:"var(--card)"},children:r.jsxs("form",{onSubmit:T,className:"space-y-6",children:[P(),r.jsx("div",{className:"flex justify-end pt-6 border-t",style:{borderColor:"var(--border)"},children:r.jsx(te,{type:"submit",disabled:o,children:o?r.jsxs("div",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})})]})})]})]})]})}function lO(){return r.jsx(x.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:r.jsx(iO,{})})}function cO(){const[t,e]=x.useState([]),[s,n]=x.useState(!0);x.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const h=await ds.getAllProducts();h.success&&h.data&&e(h.data)}catch(h){console.error("Failed to load products:",h)}finally{n(!1)}},i=[{key:"name",label:"Product"},{key:"sku",label:"SKU"},{key:"stock",label:"Current Stock"},{key:"minStock",label:"Min Stock"},{key:"status",label:"Status"}],l=t.map(h=>({name:h.name,sku:h.sku||"-",stock:h.stock.toString(),minStock:h.minStock?.toString()||"-",status:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.minStock&&h.stock<=h.minStock?"bg-red-100 text-red-800":h.stock<(h.minStock||0)*2?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:h.minStock&&h.stock<=h.minStock?"Low Stock":h.stock<(h.minStock||0)*2?"Getting Low":"In Stock"})})),d=t.filter(h=>h.minStock&&h.stock<=h.minStock).length,u=t.reduce((h,m)=>h+m.stock*m.price,0);return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading inventory..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(je,{title:"Total Products",value:t.length.toString()}),r.jsx(je,{title:"Low Stock Items",value:d.toString()}),r.jsx(je,{title:"Inventory Value",value:`$${u.toFixed(2)}`})]}),r.jsx(Ws,{title:"Inventory Overview",columns:i,data:l,itemsPerPage:10})]})}function dO({stages:t,onAddDeal:e,onMoveDeal:s,className:n=""}){const{formatCurrency:o}=it();return r.jsx("div",{className:He("w-full",n),children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:t.map(i=>r.jsx("div",{className:"w-full",children:r.jsxs("div",{className:"rounded-xl p-4",style:{background:"var(--card)",border:"1px solid var(--border)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),r.jsx("h3",{className:"text-sm font-semibold",style:{color:"var(--foreground)"},children:i.name}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:"var(--muted)",color:"var(--muted-foreground)"},children:i.deals.length})]}),e&&r.jsx("button",{onClick:()=>e(i.id),className:"p-1 rounded-md hover:bg-black/5 transition-colors",style:{color:"var(--muted-foreground)"},children:r.jsx(Ts,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"mb-4",children:r.jsx("p",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:o(i.deals.reduce((l,d)=>l+d.value,0))})}),r.jsx("div",{className:"space-y-3",children:i.deals.map(l=>r.jsxs("div",{className:"p-3 rounded-lg border cursor-pointer transition-shadow",style:{backgroundColor:"var(--background)",borderColor:"var(--border)"},draggable:!0,onDragStart:d=>{d.dataTransfer.setData("dealId",l.id),d.dataTransfer.setData("fromStage",i.id)},onDragOver:d=>d.preventDefault(),onDrop:d=>{d.preventDefault();const u=d.dataTransfer.getData("dealId"),h=d.dataTransfer.getData("fromStage");u&&h!==i.id&&s&&s(u,h,i.id)},children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:l.title}),r.jsxs("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:"var(--muted)",color:"var(--muted-foreground)"},children:[l.probability,"%"]})]}),r.jsx("p",{className:"text-xs mb-2",style:{color:"var(--muted-foreground)"},children:l.customer}),r.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--accent)"},children:o(l.value)})]},l.id))})]})},i.id))})})}function uO({customers:t,onSelectCustomer:e,className:s=""}){const{formatCurrency:n,formatDate:o}=it();return r.jsx("div",{className:He("rounded-xl",s),style:{background:"var(--card)",border:"1px solid var(--border)"},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Customers"}),r.jsxs("span",{className:"text-sm px-3 py-1 rounded-full",style:{backgroundColor:"var(--muted)",color:"var(--muted-foreground)"},children:[t.length," total"]})]}),r.jsx("div",{className:"space-y-3",children:t.map(i=>r.jsx("div",{className:"p-4 rounded-lg border cursor-pointer transition-all",style:{backgroundColor:"var(--background)",borderColor:"var(--border)"},onClick:()=>e?.(i),children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--muted)"},children:r.jsx(Da,{className:"h-5 w-5",style:{color:"var(--muted-foreground)"}})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"text-sm font-semibold",style:{color:"var(--foreground)"},children:i.name}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${i.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:i.status})]}),i.company&&r.jsx("p",{className:"text-xs mb-1",style:{color:"var(--muted-foreground)"},children:i.company}),r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ml,{className:"h-3 w-3",style:{color:"var(--muted-foreground)"}}),r.jsx("span",{style:{color:"var(--muted-foreground)"},children:i.email})]}),i.phone&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(AC,{className:"h-3 w-3",style:{color:"var(--muted-foreground)"}}),r.jsx("span",{style:{color:"var(--muted-foreground)"},children:i.phone})]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--accent)"},children:n(i.totalSpent)}),r.jsxs("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:["Last order: ",o(i.lastOrderDate)]})]})]})},i.id))})]})})}function fO({invoices:t,onSelectInvoice:e,className:s=""}){const{formatCurrency:n,formatDate:o}=it(),i=l=>{switch(l){case"paid":return{bg:"bg-green-100",text:"text-green-800"};case"sent":return{bg:"bg-blue-100",text:"text-blue-800"};case"overdue":return{bg:"bg-red-100",text:"text-red-800"};case"draft":return{bg:"bg-gray-100",text:"text-gray-600"};default:return{bg:"bg-gray-100",text:"text-gray-600"}}};return r.jsx("div",{className:He("rounded-xl",s),style:{background:"var(--card)",border:"1px solid var(--border)"},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Invoices"}),r.jsxs("span",{className:"text-sm px-3 py-1 rounded-full",style:{backgroundColor:"var(--muted)",color:"var(--muted-foreground)"},children:[t.length," total"]})]}),r.jsx("div",{className:"space-y-3",children:t.map(l=>{const d=i(l.status);return r.jsx("div",{className:"p-4 rounded-lg border cursor-pointer transition-all",style:{backgroundColor:"var(--background)",borderColor:"var(--border)"},onClick:()=>e?.(l),children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--muted)"},children:r.jsx(Sr,{className:"h-5 w-5",style:{color:"var(--muted-foreground)"}})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"text-sm font-semibold",style:{color:"var(--foreground)"},children:l.number}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${d.bg} ${d.text}`,children:l.status})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Da,{className:"h-3 w-3",style:{color:"var(--muted-foreground)"}}),r.jsx("span",{style:{color:"var(--muted-foreground)"},children:l.customer})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ka,{className:"h-3 w-3",style:{color:"var(--muted-foreground)"}}),r.jsxs("span",{style:{color:"var(--muted-foreground)"},children:["Due: ",o(l.dueDate)]})]})]}),r.jsxs("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:["Created: ",o(l.createdDate)]})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--foreground)"},children:n(l.amount)})})]})},l.id)})})]})})}function hO({products:t,onSelectProduct:e,className:s=""}){const{formatCurrency:n}=it();return r.jsx("div",{className:He("rounded-xl",s),style:{background:"var(--card)",border:"1px solid var(--border)"},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--foreground)"},children:"Products"}),r.jsxs("span",{className:"text-sm px-3 py-1 rounded-full",style:{backgroundColor:"var(--muted)",color:"var(--muted-foreground)"},children:[t.length," total"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(o=>r.jsxs("div",{className:"p-4 rounded-lg border cursor-pointer transition-all",style:{backgroundColor:"var(--background)",borderColor:"var(--border)"},onClick:()=>e?.(o),children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--muted)"},children:r.jsx(In,{className:"h-5 w-5",style:{color:"var(--muted-foreground)"}})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"text-sm font-semibold",style:{color:"var(--foreground)"},children:o.name}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${o.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:o.status})]}),r.jsxs("p",{className:"text-xs",style:{color:"var(--muted-foreground)"},children:["SKU: ",o.sku]})]})]}),o.description&&r.jsx("p",{className:"text-xs mb-3 line-clamp-2",style:{color:"var(--muted-foreground)"},children:o.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($d,{className:"h-3 w-3",style:{color:"var(--muted-foreground)"}}),r.jsx("span",{style:{color:"var(--muted-foreground)"},children:o.category})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(In,{className:"h-3 w-3",style:{color:"var(--muted-foreground)"}}),r.jsxs("span",{style:{color:"var(--muted-foreground)"},children:[o.stock," in stock"]})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--accent)"},children:n(o.price)})})]})]},o.id))})]})})}function mO({className:t="",children:e}){const s=[{title:"Total Revenue",value:"$45,230",trend:{value:12.5,isPositive:!0},icon:null},{title:"Active Deals",value:"23",trend:{value:8.2,isPositive:!0},icon:null},{title:"Conversion Rate",value:"68%",trend:{value:3.1,isPositive:!0},icon:null},{title:"Avg Deal Size",value:"$1,967",trend:{value:5.4,isPositive:!1},icon:null}],n=[{id:"1",label:"Acme Corp",value:"$12,450"},{id:"2",label:"Tech Solutions",value:"$8,920"},{id:"3",label:"Global Industries",value:"$6,780"},{id:"4",label:"Startup Inc",value:"$4,320"},{id:"5",label:"Enterprise Ltd",value:"$3,150"}],o=[{id:"1",label:"New deal: Website Redesign",value:"$5,000"},{id:"2",label:"Invoice #INV-001 paid",value:"$2,500"},{id:"3",label:"Follow-up: Acme Corp",value:"2 days ago"},{id:"4",label:"Proposal sent: Tech Solutions",value:"1 day ago"},{id:"5",label:"Meeting scheduled: Global Industries",value:"Tomorrow"}];return r.jsxs("div",{className:He("space-y-6",t),children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((i,l)=>r.jsx(je,{title:i.title,value:i.value,trend:i.trend,icon:i.icon},l))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(Sa,{title:"Revenue Trend",children:r.jsx("div",{className:"h-64 flex items-center justify-center rounded-lg",style:{backgroundColor:"var(--muted)"},children:r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Chart placeholder - Revenue trend over time"})})}),r.jsx(fg,{title:"Top Customers",items:n,itemsPerPage:0})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(fg,{title:"Recent Activities",items:o,itemsPerPage:0}),r.jsx(Sa,{title:"Sales Pipeline",children:r.jsx("div",{className:"h-64 flex items-center justify-center rounded-lg",style:{backgroundColor:"var(--muted)"},children:r.jsx("p",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Chart placeholder - Sales pipeline distribution"})})})]}),e&&r.jsx("div",{children:e})]})}Dl.register(b1,w1,h1,f1,g1,c1,y1,x1);function gO(){const[t,e]=x.useState("Test"),[s,n]=x.useState(!1),[o,i]=x.useState(!1),[l,d]=x.useState(!1),[u,h]=x.useState(null),[m,p]=x.useState({name:"",email:"",message:"",country:"",newsletter:!1,gender:"",notifications:!1,birthDate:""}),v=K=>{e(K)},b=()=>{const K=document.getElementById("dashboard-drawer");K?.showModal&&K.showModal()},w=K=>{e(K),document.getElementById("dashboard-drawer")?.close()},B=r.jsxs(r.Fragment,{children:[r.jsx(te,{variant:"outline",children:"Export"}),r.jsx(te,{variant:"default",children:"New Item"})]}),C={plugins:{legend:{display:!1}},maintainAspectRatio:!1,responsive:!0},j={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"var(--muted-foreground)"}},y:{grid:{color:"var(--border)"},ticks:{color:"var(--muted-foreground)"}}}},S={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"var(--muted-foreground)"}},y:{grid:{color:"var(--border)"},ticks:{color:"var(--muted-foreground)"}}}},D={completed:52,pending:35,cancelled:13},N={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Revenue",data:[12e3,19e3,15e3,25e3,22e3,3e4],borderColor:"#ff6b00",backgroundColor:"rgba(255, 107, 0, 0.1)",tension:.4,fill:!0}]},E={labels:["Lead","Qualified","Proposal","Negotiation","Closed"],datasets:[{label:"Deals",data:[12,8,6,4,15],backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],borderWidth:0}]},k={labels:["Acme Corp","Tech Solutions","Global Industries","Startup Inc","Enterprise Ltd"],datasets:[{label:"Revenue",data:[12500,8750,15600,4200,28900],backgroundColor:"#ff6b00",borderWidth:0}]},T=[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"date",label:"Date",sortable:!0}],_=[{id:"001",name:"John Doe",status:"Active",date:"2024-01-15"},{id:"002",name:"Jane Smith",status:"Pending",date:"2024-01-14"},{id:"003",name:"Bob Johnson",status:"Completed",date:"2024-01-13"},{id:"004",name:"Alice Brown",status:"Active",date:"2024-01-12"},{id:"005",name:"Charlie Wilson",status:"Cancelled",date:"2024-01-11"},{id:"006",name:"Diana Lee",status:"Pending",date:"2024-01-10"},{id:"007",name:"Eva Garcia",status:"Completed",date:"2024-01-09"}],M=[{value:"us",label:"United States"},{value:"ca",label:"Canada"},{value:"uk",label:"United Kingdom"},{value:"au",label:"Australia"}],Z=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}],P=[{id:"lead",name:"Lead",color:"#3b82f6",deals:[{id:"1",title:"Website Redesign",customer:"Acme Corp",value:5e3,stage:"lead",probability:20,createdDate:"2024-01-15"},{id:"2",title:"Mobile App Development",customer:"Tech Solutions",value:15e3,stage:"lead",probability:15,createdDate:"2024-01-14"}]},{id:"qualified",name:"Qualified",color:"#10b981",deals:[{id:"3",title:"E-commerce Platform",customer:"Global Industries",value:25e3,stage:"qualified",probability:40,createdDate:"2024-01-13"}]},{id:"proposal",name:"Proposal",color:"#f59e0b",deals:[{id:"4",title:"CRM Integration",customer:"Startup Inc",value:8e3,stage:"proposal",probability:60,createdDate:"2024-01-12"}]},{id:"negotiation",name:"Negotiation",color:"#ef4444",deals:[{id:"5",title:"Cloud Migration",customer:"Enterprise Ltd",value:35e3,stage:"negotiation",probability:80,createdDate:"2024-01-11"}]},{id:"closed",name:"Closed Won",color:"#8b5cf6",deals:[{id:"6",title:"Data Analytics Dashboard",customer:"Finance Corp",value:12e3,stage:"closed",probability:100,createdDate:"2024-01-10"}]}],H=[{id:"1",name:"John Smith",email:"john@acmecorp.com",phone:"+1 (555) 123-4567",company:"Acme Corp",totalSpent:12500,lastOrderDate:"2024-01-15",status:"active"},{id:"2",name:"Sarah Johnson",email:"sarah@techsolutions.com",phone:"+1 (555) 234-5678",company:"Tech Solutions",totalSpent:8750,lastOrderDate:"2024-01-14",status:"active"},{id:"3",name:"Mike Chen",email:"mike@globalindustries.com",company:"Global Industries",totalSpent:15600,lastOrderDate:"2024-01-13",status:"active"},{id:"4",name:"Emily Davis",email:"emily@startupinc.com",phone:"+1 (555) 456-7890",company:"Startup Inc",totalSpent:4200,lastOrderDate:"2024-01-12",status:"inactive"},{id:"5",name:"David Wilson",email:"david@enterpriseltd.com",company:"Enterprise Ltd",totalSpent:28900,lastOrderDate:"2024-01-11",status:"active"}],W=[{id:"1",number:"INV-001",customer:"Acme Corp",amount:5e3,status:"paid",dueDate:"2024-01-20",createdDate:"2024-01-15"},{id:"2",number:"INV-002",customer:"Tech Solutions",amount:8750,status:"sent",dueDate:"2024-01-25",createdDate:"2024-01-14"},{id:"3",number:"INV-003",customer:"Global Industries",amount:15600,status:"overdue",dueDate:"2024-01-10",createdDate:"2024-01-13"},{id:"4",number:"INV-004",customer:"Startup Inc",amount:4200,status:"draft",dueDate:"2024-01-30",createdDate:"2024-01-12"},{id:"5",number:"INV-005",customer:"Enterprise Ltd",amount:28900,status:"paid",dueDate:"2024-01-15",createdDate:"2024-01-11"}],ne=[{id:"1",name:"Website Design Package",description:"Complete website design and development service",price:2500,category:"Web Development",sku:"WEB-001",stock:10,status:"active"},{id:"2",name:"Mobile App Development",description:"iOS and Android app development",price:15e3,category:"Mobile Development",sku:"MOB-001",stock:5,status:"active"},{id:"3",name:"E-commerce Platform",description:"Full-featured online store solution",price:8e3,category:"E-commerce",sku:"ECO-001",stock:3,status:"active"},{id:"4",name:"CRM Integration",description:"Customer relationship management system",price:3500,category:"Business Software",sku:"CRM-001",stock:0,status:"inactive"},{id:"5",name:"Cloud Migration Service",description:"Migrate your infrastructure to the cloud",price:12e3,category:"Cloud Services",sku:"CLD-001",stock:8,status:"active"},{id:"6",name:"Data Analytics Dashboard",description:"Business intelligence and reporting tools",price:6e3,category:"Analytics",sku:"ANA-001",stock:2,status:"active"}],ie={receiptNumber:"RCP-001",date:"2024-01-15",time:"2:30 PM",company:{name:"TopNotch Electronics",address:"123 Business St",city:"San Francisco",state:"CA",zip:"94105",phone:"+1 (555) 123-4567",email:"info@topnotch.com",logo:"/Assets/topnotch-logo-light.png"},customer:{name:"John Smith",email:"john@example.com",phone:"+1 (555) 987-6543"},items:[{id:"1",description:"Website Development",quantity:1,rate:5e3,amount:5e3}],paymentMethod:"Credit Card",taxRate:8.5,discount:0};return r.jsxs(mC,{sidebar:r.jsx(Wd,{active:t,onSelect:v}),header:r.jsx(hC,{title:"UI Components Test",onMenuClick:b,actions:B}),mobileDrawer:r.jsx(SC,{id:"dashboard-drawer",title:"Navigation",children:r.jsx(Wd,{active:t,onSelect:w,drawer:!0})}),children:[r.jsxs("div",{className:"space-y-12",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--foreground)"},children:"UI Components Test"}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--foreground)"},children:"Buttons"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(te,{variant:"default",children:"Default"}),r.jsx(te,{variant:"ghost",children:"Ghost"}),r.jsx(te,{variant:"outline",children:"Outline"}),r.jsx(te,{variant:"secondary",children:"Secondary"}),r.jsx(te,{variant:"link",children:"Link"}),r.jsx(te,{variant:"default",size:"sm",children:"Small"}),r.jsx(te,{variant:"default",size:"lg",children:"Large"}),r.jsx(te,{variant:"ghost",size:"icon",children:r.jsx(Da,{className:"h-4 w-4"})})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--foreground)"},children:"KPI Cards"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(je,{title:"Total Revenue",value:"$45,231.89",trend:{value:20.1,isPositive:!0}}),r.jsx(je,{title:"Active Users",value:"1,234",trend:{value:12.5,isPositive:!0}}),r.jsx(je,{title:"Conversion Rate",value:"68%",trend:{value:3.1,isPositive:!1}}),r.jsx(je,{title:"Avg Order Value",value:"$156",trend:{value:8.2,isPositive:!0}})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--foreground)"},children:"Charts"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(Sa,{title:"Order Status",children:r.jsx("div",{className:"h-48",children:r.jsx(HD,{data:{labels:["Completed","Pending","Cancelled"],datasets:[{data:[D.completed,D.pending,D.cancelled],backgroundColor:["#ff6b00","rgba(127,127,127,0.35)","rgba(127,127,127,0.2)"],borderWidth:0}]},options:{...C,cutout:"70%"}})})}),r.jsx(Sa,{title:"Revenue Trend",children:r.jsx("div",{className:"h-48",children:r.jsx(bg,{data:N,options:j})})})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--foreground)"},children:"Lists & Tables"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(Ws,{title:"Recent Items",columns:T,data:_,itemsPerPage:5}),r.jsx(Sa,{title:"Top Customers",children:r.jsx("div",{className:"h-48",children:r.jsx(wg,{data:k,options:S})})})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--foreground)"},children:"Alerts & Notifications"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Cr,{variant:"success",title:"Success",dismissible:!0,children:"Your changes have been saved successfully."}),r.jsx(Cr,{variant:"warning",title:"Warning",children:"Please review your information before proceeding."}),r.jsx(Cr,{variant:"error",title:"Error",dismissible:!0,children:"There was an error processing your request."}),r.jsx(Cr,{variant:"info",title:"Information",children:"The system will be updated tonight at 2 AM."})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--foreground)"},children:"Badges & Status"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(xr,{variant:"default",children:"Default"}),r.jsx(xr,{variant:"success",children:"Success"}),r.jsx(xr,{variant:"warning",children:"Warning"}),r.jsx(xr,{variant:"error",children:"Error"}),r.jsx(xr,{variant:"info",children:"Info"}),r.jsx(xr,{variant:"secondary",children:"Secondary"}),r.jsx(xr,{variant:"outline",children:"Outline"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(xr,{size:"sm",children:"Small"}),r.jsx(xr,{size:"md",children:"Medium"}),r.jsx(xr,{size:"lg",children:"Large"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(_i,{status:"active"}),r.jsx(_i,{status:"pending"}),r.jsx(_i,{status:"completed"}),r.jsx(_i,{status:"cancelled"}),r.jsx(_i,{status:"draft"})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--foreground)"},children:"Modals & Dialogs"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(te,{variant:"outline",onClick:()=>n(!0),children:"Open Modal"}),r.jsx(te,{variant:"outline",onClick:()=>i(!0),children:"Confirm Action"}),r.jsx(te,{variant:"outline",onClick:()=>d(!0),children:"Show Toast"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--foreground)"},children:"Tabs"}),r.jsx(S1,{tabs:[{id:"overview",label:"Overview",content:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{style:{color:"var(--muted-foreground)"},children:"This is the overview tab content. You can display charts, KPIs, and summary information here."}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsx(je,{title:"Total Revenue",value:"$45,231.89"}),r.jsx(je,{title:"Active Users",value:"1,234"}),r.jsx(je,{title:"Conversion Rate",value:"68%"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-sm font-medium mb-3",style:{color:"var(--foreground)"},children:"Sales Pipeline Distribution"}),r.jsx("div",{className:"h-48",children:r.jsx(wg,{data:E,options:S})})]})]})},{id:"details",label:"Details",content:r.jsx("div",{children:r.jsx("p",{style:{color:"var(--muted-foreground)"},children:"Detailed information goes here. This could include tables, lists, or detailed analytics."})})},{id:"settings",label:"Settings",content:r.jsx("div",{children:r.jsx("p",{style:{color:"var(--muted-foreground)"},children:"Configuration and settings options would be displayed in this tab."})})}],variant:"default"})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--foreground)"},children:"Empty States"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Bg,{title:"No data found",description:"Get started by adding your first item",action:r.jsx(te,{variant:"default",children:"Add Item"})}),r.jsx(Bg,{title:"No results found",description:"Try adjusting your search criteria",variant:"search",action:r.jsx(te,{variant:"outline",children:"Clear Filters"})})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--foreground)"},children:"Sales Management Components"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Sales Dashboard"}),r.jsx(mO,{})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Sales Pipeline"}),r.jsx(dO,{stages:P,onAddDeal:K=>console.log("Add deal to stage:",K),onMoveDeal:(K,J,z)=>console.log("Move deal:",K,J,z)})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Customer List"}),r.jsx(uO,{customers:H,onSelectCustomer:K=>console.log("Selected customer:",K)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Invoice List"}),r.jsx(fO,{invoices:W,onSelectInvoice:K=>console.log("Selected invoice:",K)})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Product Catalog"}),r.jsx(hO,{products:ne,onSelectProduct:K=>console.log("Selected product:",K)})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--foreground)"},children:"Invoice & Receipt Components"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Invoice Builder"}),r.jsx(Op,{onSave:K=>{h(K)},onPreview:K=>{h(K)}})]}),u&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Invoice Preview"}),r.jsx(dL,{data:u,onEdit:()=>h(null),onPrint:()=>console.log("Print invoice"),onDownload:()=>console.log("Download invoice"),onShare:()=>console.log("Share invoice")})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--foreground)"},children:"Receipt Preview"}),r.jsx("div",{className:"flex justify-center",children:r.jsx(D1,{data:ie,onPrint:()=>console.log("Print receipt"),onDownload:()=>console.log("Download receipt"),onShare:()=>console.log("Share receipt")})})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--foreground)"},children:"Form Components"}),r.jsxs(Qu,{title:"Form Test",description:"Testing all form components",children:[r.jsxs(Dt,{title:"Basic Information",columns:2,children:[r.jsx(fe,{label:"Full Name",placeholder:"Enter your name",value:m.name,onChange:K=>p({...m,name:K.target.value}),required:!0}),r.jsx(fe,{label:"Email",type:"email",placeholder:"Enter your email",value:m.email,onChange:K=>p({...m,email:K.target.value}),required:!0}),r.jsx(Fe,{label:"Country",options:M,placeholder:"Select country",value:m.country,onChange:K=>p({...m,country:K.target.value})}),r.jsx(F1,{label:"Birth Date",value:m.birthDate,onChange:K=>p({...m,birthDate:K.target.value})})]}),r.jsxs(Dt,{title:"Preferences",columns:1,children:[r.jsx(as,{label:"Message",placeholder:"Enter your message",value:m.message,onChange:K=>p({...m,message:K.target.value}),rows:4}),r.jsx(E1,{label:"Gender",name:"gender",options:Z,value:m.gender,onChange:K=>p({...m,gender:K.target.value})})]}),r.jsxs(Dt,{title:"Settings",columns:1,children:[r.jsx(Q1,{label:"Subscribe to newsletter",checked:m.newsletter,onChange:K=>p({...m,newsletter:K.target.checked})}),r.jsx(Ot,{label:"Enable notifications",checked:m.notifications,onChange:K=>p({...m,notifications:K.target.checked})})]}),r.jsxs(Eu,{children:[r.jsx(te,{variant:"outline",children:"Cancel"}),r.jsx(te,{variant:"default",children:"Save Changes"})]})]})]})]}),r.jsx(N1,{isOpen:s,onClose:()=>n(!1),title:"Sample Modal",size:"md",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{style:{color:"var(--muted-foreground)"},children:"This is a sample modal dialog. You can use it for forms, confirmations, or displaying detailed information."}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(te,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),r.jsx(te,{variant:"default",onClick:()=>n(!1),children:"Confirm"})]})]})}),r.jsx(zD,{isOpen:o,onClose:()=>i(!1),onConfirm:()=>console.log("Confirmed!"),title:"Confirm Action",message:"Are you sure you want to perform this action? This cannot be undone.",confirmText:"Yes, Continue",cancelText:"Cancel",variant:"danger"}),l&&r.jsx(It,{variant:"success",title:"Success",onClose:()=>d(!1),dismissible:!0,children:"Your action was completed successfully!"})]})}function pO(){return r.jsx(gQ,{children:r.jsxs(At,{path:"/",element:r.jsx(gU,{}),children:[r.jsx(At,{index:!0,element:r.jsx(_D,{})}),r.jsx(At,{path:"onboarding",element:r.jsx(GD,{})}),r.jsx(At,{path:"customers",element:r.jsx(YD,{})}),r.jsx(At,{path:"customers/new",element:r.jsx($D,{})}),r.jsx(At,{path:"customers/:id",element:r.jsx(XD,{})}),r.jsx(At,{path:"products",element:r.jsx(WD,{})}),r.jsx(At,{path:"products/new",element:r.jsx(ZD,{})}),r.jsx(At,{path:"products/:id",element:r.jsx(qD,{})}),r.jsx(At,{path:"invoices",element:r.jsx(JD,{})}),r.jsx(At,{path:"invoices/new",element:r.jsx(V_,{})}),r.jsx(At,{path:"invoices/templates",element:r.jsx(G_,{})}),r.jsx(At,{path:"invoices/:id",element:r.jsx(qH,{})}),r.jsx(At,{path:"invoices/:id/edit",element:r.jsx(K_,{})}),r.jsx(At,{path:"sales",element:r.jsx(Y_,{})}),r.jsx(At,{path:"sales/new",element:r.jsx(W_,{})}),r.jsx(At,{path:"sales/:id",element:r.jsx(X_,{})}),r.jsx(At,{path:"sales/:id/edit",element:r.jsx($_,{})}),r.jsx(At,{path:"orders",element:r.jsx(q_,{})}),r.jsx(At,{path:"orders/new",element:r.jsx(eO,{})}),r.jsx(At,{path:"orders/:id",element:r.jsx(Z_,{})}),r.jsx(At,{path:"orders/:id/edit",element:r.jsx(J_,{})}),r.jsx(At,{path:"returns",element:r.jsx(tO,{})}),r.jsx(At,{path:"returns/new",element:r.jsx(aO,{})}),r.jsx(At,{path:"returns/:id",element:r.jsx(sO,{})}),r.jsx(At,{path:"returns/:id/edit",element:r.jsx(rO,{})}),r.jsx(At,{path:"inventory",element:r.jsx(cO,{})}),r.jsx(At,{path:"reports",element:r.jsx(oO,{})}),r.jsx(At,{path:"settings",element:r.jsx(lO,{})}),r.jsx(At,{path:"test",element:r.jsx(gO,{})})]})})}class xO{constructor(){this.data=null,this.listeners=[],this.initializeData()}async initializeData(){try{if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.loadData();e.success&&e.data?this.data=e.data:this.data=this.getDefaultData()}else this.data=this.getDefaultData();this.notifyListeners()}catch(e){console.error("Failed to initialize data:",e),this.data=this.getDefaultData(),this.notifyListeners()}}getDefaultData(){return{customers:[],products:[],sales:[],settings:{companyName:"TopNotch Electronics",address:"",phone:"",email:"",taxRate:.15,currency:"USD"}}}async saveToFile(){if(this.data&&typeof window<"u"&&window.electronAPI)try{const e=await window.electronAPI.saveData(this.data);e.success||console.error("Failed to save data:",e.error)}catch(e){console.error("Error saving data:",e)}}notifyListeners(){this.data&&this.listeners.forEach(e=>e(this.data))}subscribe(e){return this.listeners.push(e),this.data&&e(this.data),()=>{this.listeners=this.listeners.filter(s=>s!==e)}}getData(){return this.data}async addCustomer(e){if(!this.data)return null;const s={...e,id:this.generateId(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.data.customers.push(s),await this.saveToFile(),this.notifyListeners(),s}async updateCustomer(e,s){if(!this.data)return null;const n=this.data.customers.findIndex(o=>o.id===e);return n===-1?null:(this.data.customers[n]={...this.data.customers[n],...s,updatedAt:new Date().toISOString()},await this.saveToFile(),this.notifyListeners(),this.data.customers[n])}async deleteCustomer(e){return this.data?(this.data.customers=this.data.customers.filter(s=>s.id!==e),await this.saveToFile(),this.notifyListeners(),!0):!1}async addProduct(e){if(!this.data)return null;const s={...e,id:this.generateId(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.data.products.push(s),await this.saveToFile(),this.notifyListeners(),s}async updateProduct(e,s){if(!this.data)return null;const n=this.data.products.findIndex(o=>o.id===e);return n===-1?null:(this.data.products[n]={...this.data.products[n],...s,updatedAt:new Date().toISOString()},await this.saveToFile(),this.notifyListeners(),this.data.products[n])}async deleteProduct(e){return this.data?(this.data.products=this.data.products.filter(s=>s.id!==e),await this.saveToFile(),this.notifyListeners(),!0):!1}async addSale(e){if(!this.data)return null;const s={...e,id:this.generateId(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};for(const n of s.items){const o=this.data.products.find(i=>i.id===n.productId);o&&(o.stock-=n.quantity,o.updatedAt=new Date().toISOString())}return this.data.sales.push(s),await this.saveToFile(),this.notifyListeners(),s}async updateSale(e,s){if(!this.data)return null;const n=this.data.sales.findIndex(o=>o.id===e);return n===-1?null:(this.data.sales[n]={...this.data.sales[n],...s,updatedAt:new Date().toISOString()},await this.saveToFile(),this.notifyListeners(),this.data.sales[n])}async deleteSale(e){if(!this.data)return!1;const s=this.data.sales.find(n=>n.id===e);if(s)for(const n of s.items){const o=this.data.products.find(i=>i.id===n.productId);o&&(o.stock+=n.quantity,o.updatedAt=new Date().toISOString())}return this.data.sales=this.data.sales.filter(n=>n.id!==e),await this.saveToFile(),this.notifyListeners(),!0}async updateSettings(e){return this.data?(this.data.settings={...this.data.settings,...e},await this.saveToFile(),this.notifyListeners(),this.data.settings):null}async exportData(){return typeof window<"u"&&window.electronAPI?await window.electronAPI.exportData():{success:!1,error:"Export not available in web mode"}}async importData(){if(typeof window<"u"&&window.electronAPI){const e=await window.electronAPI.importData();return e.success&&e.data&&(this.data=e.data,this.notifyListeners()),e}return{success:!1,error:"Import not available in web mode"}}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}}const Bt=new xO,vO=x.createContext(void 0),yO=({children:t})=>{const[e,s]=x.useState(null),[n,o]=x.useState(!0),[i,l]=x.useState(null);x.useEffect(()=>{const p=Bt.subscribe(v=>{s(v),o(!1),l(null)});return typeof window<"u"&&window.electronAPI&&(window.electronAPI.onMenuNewSale(()=>{window.location.href="/sales/new"}),window.electronAPI.onMenuNewCustomer(()=>{window.location.href="/customers/new"}),window.electronAPI.onMenuNewProduct(()=>{window.location.href="/products/new"}),window.electronAPI.onMenuExportData(()=>{d()}),window.electronAPI.onMenuImportData(()=>{u()})),()=>{p(),typeof window<"u"&&window.electronAPI&&(window.electronAPI.removeAllListeners("menu-new-sale"),window.electronAPI.removeAllListeners("menu-new-customer"),window.electronAPI.removeAllListeners("menu-new-product"),window.electronAPI.removeAllListeners("menu-export-data"),window.electronAPI.removeAllListeners("menu-import-data"))}},[]);const d=async()=>{try{const p=await Bt.exportData();p.success?alert(`Data exported successfully to: ${p.path}`):alert(`Export failed: ${p.error}`)}catch(p){alert(`Export failed: ${p}`)}},u=async()=>{try{const p=await Bt.importData();p.success?alert("Data imported successfully"):alert(`Import failed: ${p.error}`)}catch(p){alert(`Import failed: ${p}`)}},h=()=>{if(!e)return null;const p=e.sales.filter(N=>N.status==="completed").reduce((N,E)=>N+E.total,0),v=e.sales.length,b=e.customers.length,w=e.products.length,B=e.sales.sort((N,E)=>new Date(E.createdAt).getTime()-new Date(N.createdAt).getTime()).slice(0,10),C=new Map;e.sales.filter(N=>N.status==="completed").forEach(N=>{N.items.forEach(E=>{const k=C.get(E.productId)||{name:E.productName,totalSold:0,revenue:0};k.totalSold+=E.quantity,k.revenue+=E.total,C.set(E.productId,k)})});const j=Array.from(C.entries()).map(([N,E])=>({productId:N,productName:E.name,totalSold:E.totalSold,revenue:E.revenue})).sort((N,E)=>E.revenue-N.revenue).slice(0,5),S=new Map;e.sales.filter(N=>N.status==="completed").forEach(N=>{const E=new Date(N.createdAt).toISOString().slice(0,7),k=S.get(E)||{revenue:0,sales:0};k.revenue+=N.total,k.sales+=1,S.set(E,k)});const D=Array.from(S.entries()).map(([N,E])=>({month:N,...E})).sort((N,E)=>N.month.localeCompare(E.month)).slice(-12);return{totalRevenue:p,totalSales:v,totalCustomers:b,totalProducts:w,recentSales:B,topProducts:j,salesByMonth:D}},m={data:e,loading:n,error:i,addCustomer:Bt.addCustomer.bind(Bt),updateCustomer:Bt.updateCustomer.bind(Bt),deleteCustomer:Bt.deleteCustomer.bind(Bt),addProduct:Bt.addProduct.bind(Bt),updateProduct:Bt.updateProduct.bind(Bt),deleteProduct:Bt.deleteProduct.bind(Bt),addSale:Bt.addSale.bind(Bt),updateSale:Bt.updateSale.bind(Bt),deleteSale:Bt.deleteSale.bind(Bt),updateSettings:Bt.updateSettings.bind(Bt),exportData:Bt.exportData.bind(Bt),importData:Bt.importData.bind(Bt),getDashboardStats:h};return r.jsx(vO.Provider,{value:m,children:t})};BS.createRoot(document.getElementById("root")).render(r.jsx(Yt.StrictMode,{children:r.jsx(_Q,{children:r.jsx(jF,{children:r.jsx(fU,{children:r.jsx(yO,{children:r.jsx(pO,{})})})})})}));
